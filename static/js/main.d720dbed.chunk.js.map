{"version":3,"sources":["components/categoryIcon/CategoryIcon.module.css","components/categorySelector/CategorySelector.module.css","components/field/Field.module.css","components/loading/Loading.module.css","components/numberInput/NumberInput.module.css","components/spinner/Spinner.module.css","components/toggleButton/ToggleButton.module.css","components/valueInput/ValueInput.module.css","pages/percentageChartPage/PercentageChartPage.module.css","pages/categoriesPage/CategoriesPage.module.css","pages/homePage/HomePage.module.css","components/areaChartNonstacked/AreaChartNonstacked.module.css","components/areaChartStacked/AreaChartStacked.module.css","components/desktopMenu/DesktopMenu.module.css","components/fieldCopier/FieldCopier.module.css","components/iconButton/IconButton.module.css","components/mobileMenu/MobileMenu.module.css","components/newRule/NewRule.module.css","components/newRuleHeader/NewRuleHeader.module.css","components/notifications/Notifications.module.css","components/pageHeaderButtons/PageHeaderButtons.module.css","components/select/Select.module.css","components/transactionsPageHeader/TransactionsPageHeader.module.css","components/transactionsPageHeaderButtons/TransactionsPageHeaderButtons.module.css","components/transactionsTableHeader/TransactionsTableHeader.module.css","components/trendChartPageHeader/TrendChartPageHeader.module.css","components/trendChartPageHeaderButtons/TrendChartPageHeaderButtons.module.css","pages/transactionsPage/TransactionsPage.module.css","components/selectWithIcons/SelectWithIcons.module.css","core/constants.ts","appContext.ts","core/utils.ts","services/constants.ts","services/utils.ts","services/rules.ts","core/TransactionClass.ts","services/transactions.ts","process/categories.ts","pages/homePage/HomePage.tsx","hooks/useModal.ts","hooks/useNotifications.ts","hooks/useWindowSize.ts","core/colours.ts","components/areaChartNonstacked/AreaChartNonstacked.tsx","components/areaChartStacked/AreaChartStacked.tsx","components/categoryIcon/CategoryIcon.tsx","components/categoryIconAndLabel/CategoryIconAndLabel.tsx","components/categoryLegend/CategoryLegend.tsx","components/categorySelector/CategorySelector.tsx","components/desktopMenu/DesktopMenu.tsx","process/field.ts","components/field/Field.tsx","components/fieldCopier/FieldCopier.tsx","components/icon/Icon.tsx","components/iconButton/IconButton.tsx","components/link/Link.tsx","components/loading/Loading.tsx","components/menuLinks/MenuLinks.tsx","components/mobileMenu/MobileMenu.tsx","components/modal/Modal.tsx","components/newRule/NewRule.tsx","components/newRuleHeader/NewRuleHeader.tsx","components/newRuleTable/NewRuleTable.tsx","components/notification/Notification.tsx","components/notifications/Notifications.tsx","components/numberInput/NumberInput.tsx","components/pageFooter/PageFooter.tsx","components/pageHeader/PageHeader.tsx","components/pageHeaderButtons/PageHeaderButtons.tsx","components/select/Select.tsx","components/selectWithIcons/SelectWithIcons.tsx","components/toggleButton/ToggleButton.tsx","components/transaction/Transaction.tsx","components/transactionList/TransactionList.tsx","components/transactionsPageHeader/TransactionsPageHeader.tsx","components/transactionsPageHeaderButtons/TransactionsPageHeaderButtons.tsx","components/transactionsTableHeader/TransactionsTableHeader.tsx","components/trendChartPageHeader/TrendChartPageHeader.tsx","components/trendChartPageHeaderButtons/TrendChartPageHeaderButtons.tsx","components/valueInput/ValueInput.tsx","process/charts.ts","process/charts_js.js","core/utils_js.js","pages/percentageChartPage/PercentageChartPage.tsx","process/transactions.ts","pages/rulesPage/RulesPage.tsx","pages/transactionsPage/TransactionsPage.tsx","process/trends_js.js","process/trends.ts","pages/trendChartPage/TrendChartPage.tsx","App.js","serviceWorker.js","index.js","components/link/Link.module.css","components/modal/Modal.module.css","components/pageHeader/PageHeader.module.css","components/icon/Icon.module.css","components/newRuleTable/NewRuleTable.module.css","pages/trendChartPage/TrendChartPage.module.css","components/categoryIconAndLabel/CategoryIconAndLabel.module.css","components/categoryLegend/CategoryLegend.module.css","components/notification/Notification.module.css","components/pageFooter/PageFooter.module.css","components/transaction/Transaction.module.css","components/transactionList/TransactionList.module.css","pages/rulesPage/RulesPage.module.css"],"names":["module","exports","FIELD","DefaultContext","addNotification","openModal","AppContext","React","createContext","centsToDecimal","cents","replace","length","slice","getIdFromMatch","match","id","params","parseInt","getObjectValueString","object","key","item","Object","entries","find","splitLongStringAt","s","position","splitStringAt","MONTHS","parse20191231","dateString","substring","convert20191231toDate","year","month","day","Date","convert20191231to31_Dec_2019","monthMMM","CODE","AC","BA","BC","BG","CB","CK","DB","EB","EI","GA","GB","ID","KH","MA","NB","SB","SP","TB","TG","CR","D","CATEGORIES","SELECT_ARRAYS","operationIncludesValue2","operationIndex","CATEGORY_ICONS","Bank","Car","Cash","Cleaner","Clothing","Dental","Donations","Driving","Electronics","Energy","Garden","Groceries","House","Ignore","Internet","Mortgage","Nat","Optician","Pets","Phone","Salary","Self","Starbucks","Sundries","Travel","Unknown","CATEGORIES_IGNORED_DEFAULT","MAIN","URL","HASHANDCATEGORYARRAY","RULES","TRANSACTIONS","fetchUrl","url","a","async","fetch","response","json","handleErrors","ok","Error","statusText","postJson","method","mode","cache","credentials","headers","redirect","referrer","body","JSON","stringify","then","console","log","catch","error","fetchRules","rules","testdata","addRule","dataJson","obj","nullsRemoved","reduce","k","v","TransactionClass","data","index","date","name","counterAccount","code","isIncoming","amount","type","remarks","rule","category","hash","getFieldValueString","fieldName","toLowerCase","toString","ACCOUNT","this","DATE","NAME","COUNTER_ACCOUNT","INCOMING","parseFloat","AMOUNT","TYPE","REMARKS","join","split","b","charCodeAt","fetchTransactions","start","end","transactions","map","t","equals","s1","s2","caseSensitive","includes","startsWith","getCategory","transaction","getCategoryRule","fieldValue","field","operation","value1","op","func","lessMoreAmount","Number","Math","abs","lessMore","ruleMatches","HomePage","useHistory","className","cn","root","process","useModal","useContext","useNotifications","info","message","debug","warning","mobileMaxWidth","useWindowSize","isClient","window","getSize","desktop","innerWidth","mobile","width","height","innerHeight","useState","windowSize","setWindowSize","useEffect","handleResize","addEventListener","removeEventListener","COLOURS","getCategoryColour","categoryIndex","indexOf","AreaChartNonstacked","categories","factor","margin","top","right","left","bottom","colour","x1","y1","x2","y2","offset","stopColor","stopOpacity","dataKey","strokeDasharray","baseLine","stroke","fillOpacity","fill","AreaChartStacked","stackId","CategoryIcon","CategoryIconAndLabel","fullWidth","iconOnly","onChange","onClick","style","backgroundColor","itemIcon","CategoryLegend","categoriesFiltered","c","isSelected","selectedClass","selected","categoryColor","categoryColour","Category","CategorySelector","onCategoryClick","categoryColours","DesktopMenu","nav","fieldsToRandomise","randomiseCharCode","charCode","next","floor","random","String","fromCharCode","randomiseString","value","randomised","i","push","processField","isMasked","Field","valueStringBefore","valueStringMiddle","valueStringAfter","valueString","valueNumber","categoryEmpty","textAlign","highlight","FieldCopier","copyButton","Icon","small","clickable","IconButton","iconName","icon","text","Link","to","title","exact","activeClassName","activeLink","Loading","count","setCount","interval","setInterval","everySecond","clearInterval","content","link","MenuLinks","MobileMenu","onMenuIconClick","ContentDefault","OnYesClickDefault","Modal","context","opened","setOpened","component","setComponent","onYesClick","setOnYesClick","componentInput","onYesClickInput","box","header","footer","NewRule","propsOnSaveClick","onSaveClick","setCategoryIndex","fieldIndex","setFieldIndex","setOperationIndex","caseSensitivityIndex","setCaseSensitivityIndex","setValue1","value2","setValue2","lessMoreIndex","setLessMoreIndex","setLessMoreAmount","FIELDS","NO_YES","OPERATIONS","LESS_MORE","onSaveConfirm","onCopyClick","onCategoryChange","onFieldChange","event","target","onOperationChange","onCaseSensitivityChange","onValueChange","valueIndex","onLessMoreChange","onLessMoreAmountChange","NewRuleHeader","NewRuleTable","equalWidth","headerRow","items","min","decimalPoints","Notification","notification","severity","DefaultNotifications","Notifications","notifications","setNotifications","filtered","n","secondsLeft","filter","newArray","shift","NumberInput","max","stateValue","setStateValue","short","placeholder","onFocus","onBlur","input","toFixed","validateNumber","PageFooter","leftSide","copyright","PageHeader","cloud","onCloudClick","mask","onMaskClick","isMobileMenuOpen","setIsMobileMenuOpen","stickyTop","appTitle","logo","alt","src","stickyBottom","PageHeaderButtons","Select","SelectWithIcons","expanded","setExpanded","topBar","topBarText","topBarButton","selectMarker","ToggleButton","on","Transaction","urlId","isHashVisible","history","fieldString","splitAt","fieldStringUnderlined","ruleField","fv","v1","fieldNumber","incomingClass","incoming","clickableClass","highlightIndexClass","highlightIndex","handleClick","TransactionList","tableMobile","tableDesktop","TransactionsPageHeader","pageIndex","TransactionsPageHeaderButtons","percentage","document","handleKeyDown","TransactionsTableHeader","TrendChartPageHeader","isStacked","isBoxed","onStackedClick","isFullPage","TrendChartPageHeaderButtons","ValueInput","valueTitle","sortCategoriesAndCents","getDateRange","fromString","from","dayCount","milliseconds","getTime","round","daysBetween","perMonth","days","getExpensesByCategoryGraphData","grouped","categoryAndCentsArray","groupedAsObject","forEach","groupCategoryAndCents","groupCategoryAndCentsArray","getCategoryAndCents","filterCategoryAndCents","groupedArray","sort","total","objectArray","propertyName","getTotal","graphDataItems","valueToDisplay","label","getGraphDataItem","totalPerMonth","categoriesAndCentsDefault","PercentageChartPage","onBoxClick","outerRadiusFactor","heightFactor","cyFactor","categoriesAndCents","setCategoriesAndCents","setTotal","setFrom","setTo","setDayCount","setTotalPerMonth","getData","r","fetchData","barChartData","x","reverse","cx","cy","labelLine","props","outerRadius","isAnimationActive","layout","maxBarSize","categoryTable","Boolean","extendTransactions","extendTransaction","TransactionsDefault","RulesPage","setTransactions","setRules","extended","values","transactionsDefault","TransactionsPage","pageIndexDefault","setPageIndex","fetched","increment","getTotalsByCategory","chartData","groupedArrayObject","entry","currentAmount","groupByCategory","memberIndex","sortArrayByMember","applyFilter","categoryFilter","getChartData","mapped","mapTransactions","currentValue","group","groupedByMonth","spread","getTrendsChartData","addCategoriesToTransactions","getInitialCategoryFilter","largestCategories","largestCategoriesNotIgnored","getInitialCategoryFilterJs","toggleCategoryFilter","f","toggleCategoryFilterJs","CATEGORIES_DEFAULT","TRENDS_CHART_DATA_DEFAULT","CATEGORY_FILTER_DEFAULT","TrendChartPage","trendsChartData","setTrendsChartData","setCategories","setIsStacked","setCategoryFilter","setCategoriesFiltered","cd","chartAndLegend","chartAndLegendMobile","cf","route","path","page","App","isCloud","setIsCloud","setIsMasked","Provider","render","location","hostname","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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IAKvBE,QAJ3B,SAACF,GAAD,OACd1M,EAAgB,UAAW0M,IAGuBhF,MAFtC,SAACgF,GAAD,OAA2B1M,EAAgB,QAAS0M,MCR9DG,GAAiB,IAwCRC,GAtCO,WACpB,IAAMC,EAA6B,kBAAXC,OAExB,SAASC,IACP,IAAMC,GAAUH,GAAWC,OAAOG,WAAaN,GACzCO,GAAUF,EAEhB,MAAO,CACLG,MAAON,EAAWC,OAAOG,WAAa,IACtCG,OAAQP,EAAWC,OAAOO,YAAc,IACxCL,UACAE,UAXsB,MAeUI,mBAASP,GAfnB,mBAenBQ,EAfmB,KAePC,EAfO,KAmC1B,OAlBAC,qBAAU,WACR,SAASC,IACPF,EAAcT,KAYhB,OATkB,EAAA/G,EAAAC,OAAA,mDACX4G,EADW,0CAEP,GAFO,OAKhBC,OAAOa,iBAAiB,SAAUD,GALlB,qCASX,kBAAMZ,OAAOc,oBAAoB,SAAUF,MAEjD,IAEIH,GCvCHM,GAAU,CAWd,SACA,SACA,SACA,SAEA,SACA,SACA,SAEA,SAEA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SAEA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SAEA,SACA,SACA,UAMWC,GAAoB,SAC/BrK,EACAsF,GAE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","file":"static/js/main.d720dbed.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"CategoryIcon_root__oabAM\",\"bank\":\"CategoryIcon_bank__2qk3A\",\"car\":\"CategoryIcon_car__3R2h9\",\"cash\":\"CategoryIcon_cash__2vkxF\",\"cleaner\":\"CategoryIcon_cleaner__1Jmqa\",\"clothing\":\"CategoryIcon_clothing__2hVKJ\",\"councilTaxes\":\"CategoryIcon_councilTaxes__3pJpF\",\"creditCard\":\"CategoryIcon_creditCard__1zk7w\",\"dental\":\"CategoryIcon_dental__1GNYV\",\"donations\":\"CategoryIcon_donations__Sef3l\",\"driving\":\"CategoryIcon_driving__7J0I7\",\"eatingOut\":\"CategoryIcon_eatingOut__3pe4s\",\"electronics\":\"CategoryIcon_electronics__3DJu5\",\"energy\":\"CategoryIcon_energy__3_DDK\",\"garden\":\"CategoryIcon_garden__2QS6B\",\"groceries\":\"CategoryIcon_groceries__1Jxue\",\"healthCare\":\"CategoryIcon_healthCare__3FMd_\",\"house\":\"CategoryIcon_house__1CYUC\",\"ignore\":\"CategoryIcon_ignore__2Skm7\",\"internet\":\"CategoryIcon_internet__763L3\",\"mortgage\":\"CategoryIcon_mortgage__3fzFW\",\"nat\":\"CategoryIcon_nat__2PEeR\",\"optician\":\"CategoryIcon_optician__1Seje\",\"pets\":\"CategoryIcon_pets__1VSNO\",\"phone\":\"CategoryIcon_phone__3qCzc\",\"publicTransport\":\"CategoryIcon_publicTransport__1bhpz\",\"salary\":\"CategoryIcon_salary__3Z6OL\",\"self\":\"CategoryIcon_self__2b2Vi\",\"starbucks\":\"CategoryIcon_starbucks__orUoN\",\"sundries\":\"CategoryIcon_sundries__1KivE\",\"travel\":\"CategoryIcon_travel__201SN\",\"unknown\":\"CategoryIcon_unknown__2Q_ex\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"CategorySelector_root__1MxYy\",\"categoryColours\":\"CategorySelector_categoryColours__UqYl4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Field_root__37jkc\",\"categoryLabel\":\"Field_categoryLabel__1ycxb\",\"highlight\":\"Field_highlight__1nSNm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Loading_root__2AXTt\",\"content\":\"Loading_content__aBClv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NumberInput_root__1wSh2\",\"short\":\"NumberInput_short__2jDY1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Spinner_root__1C3oV\",\"svgSpinner\":\"Spinner_svgSpinner__2aLjr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ToggleButton_root__1gtHE\",\"on\":\"ToggleButton_on__3hpG6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ValueInput_root__10Axl\",\"valueTitle\":\"ValueInput_valueTitle__25igr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PercentageChartPage_root__2HB6T\",\"categoryTable\":\"PercentageChartPage_categoryTable__2fWU7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"CategoriesPage_root__xs7an\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HomePage_root__1O2KO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"AreaChartNonstacked_root__1igm1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"AreaChartStacked_root__1-ZDp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"DesktopMenu_root__1zwMB\",\"nav\":\"DesktopMenu_nav__1LJTN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FieldCopier_root__3BymV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"IconButton_root__tLT8z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MobileMenu_root__Kd01T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NewRule_root__23orO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NewRuleHeader_root__3png4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Notifications_root__36gQr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PageHeaderButtons_root__2lTwa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Select_root__8kbbp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TransactionsPageHeader_root__3yPL4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TransactionsPageHeaderButtons_root__13igd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TransactionsTableHeader_root__JbCwz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TrendChartPageHeader_root__3Eh7I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TrendChartPageHeaderButtons_root__1g6E8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TransactionsPage_root__1pbkp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"SelectWithIcons_root__1rKUA\",\"topBar\":\"SelectWithIcons_topBar__2OfTY\",\"topBarText\":\"SelectWithIcons_topBarText__1_YeF\",\"topBarButton\":\"SelectWithIcons_topBarButton__1JmlJ\",\"items\":\"SelectWithIcons_items__3wP2k\",\"item\":\"SelectWithIcons_item__2Tp5y\",\"selectMarker\":\"SelectWithIcons_selectMarker__1IyUj\",\"selected\":\"SelectWithIcons_selected__ioyU-\"};","import { getObjectValueString, toSentenceCase } from \"core/utils\";\r\n\r\nexport const TRANSACTION_COUNT = 5610;\r\n\r\nexport enum FIELD {\r\n  // INDEX: 0,\r\n  DATE,\r\n  NAME,\r\n  ACCOUNT,\r\n  COUNTER_ACCOUNT,\r\n  CODE,\r\n  INCOMING,\r\n  AMOUNT,\r\n  TYPE,\r\n  REMARKS,\r\n  ICON,\r\n  CATEGORY,\r\n}\r\n\r\nexport const getFieldNames = () =>\r\n  Object.keys(FIELD).map(fieldName =>\r\n    toSentenceCase(fieldName).replace(\"_\", \" \")\r\n  );\r\n\r\nconst FIELDS: string[] = [\"Name\", \"Counter account\", \"Type\", \"Remarks\", \"Hash\"];\r\n\r\n// https://nl.wikipedia.org/wiki/Rekeningafschrift\r\nexport const CODE = {\r\n  AC: \"Acceptgiro\",\r\n  BA: \"Betaal-automaat\",\r\n  BC: \"Betalen contactloos\",\r\n  BG: \"Bankgiro Opdracht\",\r\n  CB: \"Crediteurenbetaling\",\r\n  CK: \"Chipknip\",\r\n  DB: \"Diverse boekingen\",\r\n  EB: \"Bedrijven euro-incasso\",\r\n  EI: \"Euro-incasso\",\r\n  GA: \"Geldautomaat euro\",\r\n  GB: \"Geldautomaat vv\",\r\n  ID: \"Ideal\",\r\n  KH: \"Kashandeling\",\r\n  MA: \"Machtiging\",\r\n  NB: \"Notabox\",\r\n  SB: \"Salaris betaling\",\r\n  SP: \"Spoedopdracht\",\r\n  TB: \"Eigen rekening\",\r\n  TG: \"Telegiro\",\r\n  CR: \"Tegoed\",\r\n  D: \"Tekort\",\r\n};\r\n\r\n// const le = \"\\u2264\"; // less than or equal to\r\n\r\nexport const CATEGORIES: string[] = [\r\n  \"Bank\",\r\n  \"Car\",\r\n  \"Cash\",\r\n  \"Cleaner\",\r\n  \"Clothing\",\r\n  \"Council taxes\",\r\n  \"Credit card\",\r\n  \"Dental\",\r\n  \"Donations\",\r\n  \"Eating out\",\r\n  \"Electronics\",\r\n  \"Energy\",\r\n  \"Garden\",\r\n  \"Groceries\",\r\n  \"Health care\",\r\n  \"House\",\r\n  \"Ignore\",\r\n  \"Internet\",\r\n  \"Mortgage\",\r\n  \"Nat\",\r\n  \"Pets\",\r\n  \"Phone\",\r\n  \"Public transport\",\r\n  \"Salary\",\r\n  \"Self\",\r\n  \"Starbucks\",\r\n  \"Sundries\",\r\n  \"Travel\",\r\n  \"Unknown\",\r\n];\r\n\r\nconst OPERATIONS: string[] = [\r\n  \"= v1\",\r\n  \"starts with v1\",\r\n  \"includes v1\",\r\n  \"endsWith v1\",\r\n  \">= v1\",\r\n  \"<= v1\",\r\n  \"> v1\",\r\n  \"< v1\",\r\n  \"between v1..v2 incl.\", // 8\r\n  \"between v1..v2 excl.\", // 9\r\n];\r\n\r\nexport const SELECT_ARRAYS = {\r\n  // categories = useContext(AppContext)\r\n  CATEGORIES,\r\n  FIELDS,\r\n  NO_YES: [\"No\", \"Yes\"],\r\n  OPERATIONS,\r\n  LESS_MORE: [\"<\", \">=\"],\r\n};\r\n\r\nexport const operationIncludesValue2 = (operationIndex: number) =>\r\n  operationIndex === 8 || operationIndex === 9;\r\n\r\nexport const CATEGORY_ICONS = {\r\n  Bank: \"bank\",\r\n  Car: \"car\",\r\n  Cash: \"cash\",\r\n  Cleaner: \"cleaner\",\r\n  Clothing: \"clothing\",\r\n  \"Council taxes\": \"councilTaxes\",\r\n  \"Credit card\": \"creditCard\",\r\n  Dental: \"dental\",\r\n  Donations: \"donations\",\r\n  Driving: \"driving\",\r\n  \"Eating out\": \"eatingOut\",\r\n  Electronics: \"electronics\",\r\n  Energy: \"energy\",\r\n  Garden: \"garden\",\r\n  Groceries: \"groceries\",\r\n  \"Health care\": \"healthCare\",\r\n  House: \"house\",\r\n  Ignore: \"ignore\",\r\n  Internet: \"internet\",\r\n  Mortgage: \"mortgage\",\r\n  Nat: \"nat\",\r\n  Optician: \"optician\",\r\n  Pets: \"pets\",\r\n  Phone: \"phone\",\r\n  \"Public transport\": \"publicTransport\",\r\n  Salary: \"salary\",\r\n  Self: \"self\",\r\n  Starbucks: \"starbucks\",\r\n  Sundries: \"sundries\",\r\n  Travel: \"travel\",\r\n  Unknown: \"unknown\",\r\n};\r\n\r\nexport const getCategoryIcon = (category: string): string => {\r\n  return getObjectValueString(CATEGORY_ICONS, category);\r\n};\r\n\r\nexport const CATEGORIES_IGNORED_DEFAULT = [\r\n  \"Credit card\",\r\n  \"Ignore\",\r\n  \"Mortgage\",\r\n  \"Salary\",\r\n  \"Self\",\r\n];\r\n","import React from \"react\";\r\nimport { Severity, VoidFunction } from \"core/types\";\r\n\r\nexport type AppContextType = {\r\n  addNotification: (severity: Severity, message: string) => void;\r\n  openModal: (component: JSX.Element, onYesClick: VoidFunction) => void;\r\n};\r\n\r\nexport const DefaultContext: AppContextType = {\r\n  addNotification: () => {},\r\n  openModal: () => {},\r\n};\r\n\r\nexport const AppContext = React.createContext(DefaultContext);\r\n","import { Match } from \"core/types\";\r\n\r\n// 12345 --> 123.45\r\nexport const centsToDecimal = (cents: string): string =>\r\n  cents.replace(\"-\", \"\").length < 3\r\n    ? `${cents}`\r\n    : `${cents.slice(0, -2)}.${cents.slice(-2)}`;\r\n\r\nexport const getIdFromMatch = (match: Match): number => {\r\n  if (!match) return 0;\r\n  const { params } = match;\r\n  const { id } = params;\r\n  return parseInt(id);\r\n};\r\n\r\n// https://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript\r\nexport const getHash = (s: string) =>\r\n  s.split(\"\").reduce((a, b) => {\r\n    a = (a << 5) - a + b.charCodeAt(0);\r\n    return a & a;\r\n  }, 0);\r\n\r\nexport const getObjectValueString = (object: object, key: string): string => {\r\n  const item = Object.entries(object).find(item => item[0] === key);\r\n  return item ? item[1] : null;\r\n};\r\n\r\n// export const getObjectValueNumber = (object: object, key: string): number => {\r\n//   const item = Object.entries(object).find(item => item[0] === key);\r\n//   return item ? item[1] : null;\r\n// };\r\n\r\nexport const sortByElement1 = (a: number[], b: number[]) => {\r\n  const m = a[1];\r\n  const n = b[1];\r\n  return m - n;\r\n};\r\n\r\n// https://stackoverflow.com/questions/286141/remove-blank-attributes-from-an-object-in-javascript\r\nexport const removeNullsFromObject = (obj: object): object =>\r\n  Object.entries(obj).reduce(\r\n    (a, [k, v]) => (v === null ? a : { ...a, [k]: v }),\r\n    {}\r\n  );\r\n\r\n// const splitString = (s: string): string => {\r\n//   var middle = Math.ceil(s.length / 2);\r\n//   return s.slice(0, middle) + \" \" + s.slice(middle);\r\n// };\r\n\r\n// const splitLongString = (s: string): string => {\r\n//   return s && s.length > 10 ? splitString(s) : s;\r\n// };\r\n\r\nconst splitStringAt = (s: string, position: number): string => {\r\n  return s.slice(0, position) + \" \" + s.slice(position);\r\n};\r\n\r\nexport const splitLongStringAt = (s: string, position: number): string => {\r\n  return s && s.length > 5 ? splitStringAt(s, position) : s;\r\n};\r\n\r\nexport const toSentenceCase = (s: string) => {\r\n  return s[0].toUpperCase() + s.slice(1).toLowerCase();\r\n};\r\n\r\nconst MONTHS = [\r\n  \"Jan\",\r\n  \"Feb\",\r\n  \"Mar\",\r\n  \"Apr\",\r\n  \"May\",\r\n  \"Jun\",\r\n  \"Jul\",\r\n  \"Aug\",\r\n  \"Sep\",\r\n  \"Oct\",\r\n  \"Nov\",\r\n  \"Dec\",\r\n];\r\n\r\nconst parse20191231 = (dateString: string): [number, number, number] => {\r\n  var year = parseInt(dateString.substring(0, 4));\r\n  var month = parseInt(dateString.substring(4, 6));\r\n  var day = parseInt(dateString.substring(6, 8));\r\n  return [year, month, day];\r\n};\r\n\r\nconst convert20191231toDate = (dateString: string) => {\r\n  const [year, month, day] = parse20191231(dateString);\r\n  return new Date(year, month - 1, day);\r\n};\r\n\r\nexport const daysBetween = (fromString: string, toString: string) => {\r\n  const milliseconds =\r\n    convert20191231toDate(toString).getTime() -\r\n    convert20191231toDate(fromString).getTime();\r\n  return Math.round(milliseconds / (1000 * 60 * 60 * 24));\r\n};\r\n\r\nexport const convert20191231to31_Dec_2019 = (dateString: string) => {\r\n  const [year, month, day] = parse20191231(dateString);\r\n  var monthMMM = MONTHS[month - 1];\r\n  return `${day} ${monthMMM} ${year}`;\r\n};\r\n","const MAIN = \"http://localhost:3004/\";\r\n\r\nexport const URL = {\r\n  HASHANDCATEGORYARRAY: MAIN + \"hashandcategoryarray\",\r\n  RULES: MAIN + \"rules\",\r\n  TRANSACTIONS: MAIN + \"transactions\"\r\n};\r\n","import { Json, Response } from \"core/types\";\r\n\r\nexport const fetchUrl = async (url: string) => {\r\n  const response = await fetch(url);\r\n  return await response.json();\r\n};\r\n\r\nexport const deleteUrl = async (url: string) => {\r\n  fetch(url, {\r\n    method: \"DELETE\",\r\n    // headers: { \"content-type\": \"application/json\" },\r\n    // body: JSON.stringify({ id: 1 })\r\n  })\r\n    .then(res => res.text()) // OR res.json()\r\n    .then(res => console.log(res));\r\n};\r\n\r\nfunction handleErrors(response: Response) {\r\n  if (!response.ok) {\r\n    throw Error(response.statusText);\r\n  }\r\n  return response;\r\n}\r\n\r\nexport const postJson = (json: Json, url: string) => {\r\n  // const response =\r\n  fetch(url, {\r\n    method: \"POST\", // *GET, POST, PUT, DELETE, etc.\r\n    mode: \"cors\", // no-cors, *cors, same-origin\r\n    cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\r\n    credentials: \"same-origin\", // include, *same-origin, omit\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n    },\r\n    redirect: \"follow\", // manual, *follow, error\r\n    referrer: \"no-referrer\", // no-referrer, *client\r\n    // body: JSON.stringify(`{${rule}}`) // body data type must match \"Content-Type\" header\r\n    body: JSON.stringify(json), // body data type must match \"Content-Type\" header\r\n  })\r\n    .then(handleErrors)\r\n    .then(response => console.log(\"POST OK\", response))\r\n    .catch(error => console.log(\"POST ERROR:\", error));\r\n\r\n  // return response.json(); // parses JSON response into native JavaScript objects\r\n};\r\n\r\n// function responseToJson(response) {\r\n//   if (!response.ok) {\r\n//     throw Error(\"ERROR:\", response.statusText);\r\n//   }\r\n//   return response.json();\r\n// }\r\n\r\n// export const fetchRules = () => {\r\n//   fetch(url)\r\n//     .then(responseToJson)\r\n//     .then(json => {\r\n//       return json;\r\n//     })\r\n//     .catch(error => console.log(\"ERROR: \", error));\r\n\r\n//   return [];\r\n// };\r\n\r\n// const postJson = async json => {\r\n//   const response = await fetch(url, {\r\n//     method: \"POST\", // *GET, POST, PUT, DELETE, etc.\r\n//     mode: \"cors\", // no-cors, *cors, same-origin\r\n//     cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\r\n//     credentials: \"same-origin\", // include, *same-origin, omit\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\"\r\n//       // \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n//     },\r\n//     redirect: \"follow\", // manual, *follow, error\r\n//     referrer: \"no-referrer\", // no-referrer, *client\r\n//     // body: JSON.stringify(`{${rule}}`) // body data type must match \"Content-Type\" header\r\n//     body: JSON.stringify(json) // body data type must match \"Content-Type\" header\r\n//   });\r\n//   return await response.json(); // parses JSON response into native JavaScript objects\r\n// };\r\n","import { Json } from \"core/types\";\r\nimport { URL } from \"./constants\";\r\nimport { fetchUrl, postJson } from \"./utils\";\r\nimport { removeNullsFromObject } from \"core/utils\";\r\nimport testdata from \"testdata/rules.json\";\r\n\r\nexport const fetchRules = async (cloud: boolean = false) => {\r\n  let rules: any;\r\n\r\n  if (cloud) {\r\n    rules = testdata;\r\n  } else {\r\n    rules = await fetchUrl(URL.RULES);\r\n  }\r\n\r\n  return rules;\r\n};\r\n\r\nexport const addRule = (dataJson: Json) => {\r\n  const nullsRemoved = removeNullsFromObject(dataJson);\r\n  return postJson(nullsRemoved, URL.RULES);\r\n};\r\n\r\n// export const addRule = async dataJson => {\r\n//   return await postJson(dataJson);\r\n// };\r\n","import { FIELD } from \"core/constants\";\r\nimport { Rule } from \"./types\";\r\nimport { getHash } from \"./utils\";\r\n\r\nexport class TransactionClass {\r\n  index: number; // added\r\n  date: string;\r\n  name: string;\r\n  // account: string;\r\n  counterAccount: string;\r\n  code: string;\r\n  isIncoming: boolean;\r\n  amount: number; // 123,45 converted to 12345 (cents)\r\n  type: string;\r\n  remarks: string;\r\n  rule?: Rule; // added\r\n  category: string; // added\r\n  hash: number; // added\r\n\r\n  constructor(data: string[]) {\r\n    if (data[FIELD.ACCOUNT] !== \"NL71INGB0004410690\") {\r\n      console.error(\"*** ERROR: account:\", data[FIELD.ACCOUNT]);\r\n    }\r\n\r\n    this.index = 0;\r\n    this.date = data[FIELD.DATE].toString();\r\n    this.name = data[FIELD.NAME].toString();\r\n    // this.account = \"\";\r\n    this.counterAccount = data[FIELD.COUNTER_ACCOUNT].toString();\r\n    this.code = data[FIELD.CODE].toString();\r\n    this.isIncoming = data[FIELD.INCOMING] === \"Bij\";\r\n    this.amount = parseFloat(data[FIELD.AMOUNT].replace(\",\", \"\"));\r\n    this.type = data[FIELD.TYPE].toString();\r\n    this.remarks = data[FIELD.REMARKS].toString();\r\n    this.category = \"\"; // todo: remove later, use rule.category\r\n    this.hash = getHash(data.join(\",\"));\r\n\r\n    // post process:\r\n    if (!this.isIncoming) {\r\n      this.amount = -1 * this.amount;\r\n    }\r\n  }\r\n\r\n  getFieldValueString = (fieldName: string): string => {\r\n    switch (fieldName.toLowerCase()) {\r\n      case \"index\":\r\n        return this.index.toString();\r\n      case \"date\":\r\n        return this.date;\r\n      case \"name\":\r\n        return this.name;\r\n      // case \"Account\":\r\n      //   return this.account;\r\n      case \"counter account\":\r\n        return this.counterAccount;\r\n      case \"code\":\r\n        return this.code;\r\n      case \"incoming\":\r\n        return this.isIncoming ? \"Bij\" : \"Af\";\r\n      case \"amount\":\r\n        return this.amount.toString();\r\n      case \"type\":\r\n        return this.type;\r\n      case \"remarks\":\r\n        return this.remarks;\r\n      case \"category\":\r\n        return this.category;\r\n      case \"hash\":\r\n        return this.hash.toString();\r\n      default:\r\n        return \"field-not-found\";\r\n    }\r\n  };\r\n}\r\n","import { URL } from \"./constants\";\r\nimport { TransactionClass } from \"core/TransactionClass\";\r\nimport { fetchUrl } from \"./utils\";\r\nimport testdata from \"testdata/transactions.json\";\r\n// import data from \"./ing.json\";\r\n\r\n// ------------------------\r\n// Datum, Naam / Omschrijving, Rekening, Tegenrekening,\r\n// Code, Af Bij, Bedrag (EUR), MutatieSoort, Mededelingen\r\nexport const fetchTransactions = async (\r\n  start: number,\r\n  end: number,\r\n  cloud: boolean = false\r\n) => {\r\n  let transactions: string[][];\r\n\r\n  if (cloud) {\r\n    transactions = testdata;\r\n  } else {\r\n    transactions = await fetchUrl(\r\n      URL.TRANSACTIONS + `?_start=${start}&_end=${end}`\r\n    );\r\n  }\r\n\r\n  return transactions.map(t => new TransactionClass(t));\r\n};\r\n","import { /*HashAndCategory,*/ Rule } from \"core/types\";\r\nimport { TransactionClass } from \"core/TransactionClass\";\r\nimport { populateHashAndCategoryObjectArray } from \"./categories_js.js\";\r\n\r\ntype OperationType = (s1: string, s2: string, caseSensitive: string) => boolean;\r\n\r\nconst equals: OperationType = (\r\n  s1: string,\r\n  s2: string,\r\n  caseSensitive: string\r\n): boolean =>\r\n  caseSensitive === \"Yes\" ? s1 === s2 : s1.toLowerCase() === s2.toLowerCase();\r\n\r\nconst includes: OperationType = (\r\n  s1: string,\r\n  s2: string,\r\n  caseSensitive: string\r\n): boolean =>\r\n  caseSensitive === \"Yes\"\r\n    ? s1.includes(s2)\r\n    : s1.toLowerCase().includes(s2.toLowerCase());\r\n\r\nconst startsWith: OperationType = (\r\n  s1: string,\r\n  s2: string,\r\n  caseSensitive: string\r\n): boolean =>\r\n  caseSensitive === \"Yes\"\r\n    ? s1.startsWith(s2)\r\n    : s1.toLowerCase().startsWith(s2.toLowerCase());\r\n\r\nconst ruleMatches = (transaction: TransactionClass, rule: Rule) => {\r\n  const fieldValue = transaction.getFieldValueString(rule.field);\r\n  const operation = rule.operation;\r\n  const caseSensitive = rule.caseSensitive;\r\n  const value1 = rule.value1;\r\n\r\n  const op = (name: string, func: OperationType) =>\r\n    name === operation && func(fieldValue, value1, caseSensitive);\r\n\r\n  if (op(\"= v1\", equals)) return true;\r\n\r\n  if (op(\"includes v1\", includes)) {\r\n    if (rule.lessMoreAmount) {\r\n      const lessMoreAmount = Number(rule.lessMoreAmount);\r\n      const amount = Math.abs(transaction.amount) / 100;\r\n      return (\r\n        (rule.lessMore === \"<\" && amount < lessMoreAmount) ||\r\n        (rule.lessMore === \">=\" && amount >= lessMoreAmount)\r\n      );\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  if (op(\"starts with v1\", startsWith)) return true;\r\n\r\n  return false;\r\n};\r\n\r\n// TODO: REMOVE THIS LATER, AS getCategoryRule SHOULD BE ENOUGH\r\nexport const getCategory = (\r\n  transaction: TransactionClass,\r\n  rules: Rule[]\r\n): string => {\r\n  if (!rules) return \"category-not-found-1\"; // used? remove?\r\n\r\n  const rule = getCategoryRule(transaction, rules);\r\n\r\n  return rule ? rule.category : \"category-not-found-2\";\r\n};\r\n\r\nexport const getCategoryRule = (\r\n  transaction: TransactionClass,\r\n  rules: Rule[]\r\n): Rule | null => {\r\n  if (!rules) return null;\r\n\r\n  return rules.find(rule => ruleMatches(transaction, rule)) || null;\r\n};\r\n\r\nexport const calculateHashAndCategoryArray = (\r\n  transactions: TransactionClass[],\r\n  rules: Rule[]\r\n): object => {\r\n  const hashAndCategoryObjectArray = {};\r\n  populateHashAndCategoryObjectArray(\r\n    hashAndCategoryObjectArray,\r\n    transactions,\r\n    rules,\r\n    getCategory\r\n  );\r\n  return hashAndCategoryObjectArray;\r\n};\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { PercentageChartPage, TrendChartPage } from \"pages\";\r\nimport cn from \"classnames\";\r\nimport s from \"./HomePage.module.css\";\r\n\r\nconst HomePage = () => {\r\n  const development = process.env.NODE_ENV === \"development\";\r\n  const history = useHistory();\r\n\r\n  const onBoxClick = (target: string) => {\r\n    history.replace(target);\r\n  };\r\n\r\n  return (\r\n    <div className={cn(\"page\", s.root)}>\r\n      <h3>Home page</h3>\r\n\r\n      {development && (\r\n        <div className={cn(\"flexRow\", \"pageBoxes\")}>\r\n          <PercentageChartPage\r\n            isBoxed={true}\r\n            onBoxClick={onBoxClick}\r\n            cloud={false}\r\n          />\r\n\r\n          <TrendChartPage\r\n            isBoxed={true}\r\n            onBoxClick={onBoxClick}\r\n            cloud={false}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import { useContext } from \"react\";\r\nimport { AppContext, AppContextType } from \"appContext\";\r\n\r\nconst useModal = () => {\r\n  const { openModal }: AppContextType = useContext(AppContext);\r\n\r\n  return { openModal };\r\n};\r\n\r\nexport default useModal;\r\n","import { useContext } from \"react\";\r\nimport { AppContext, AppContextType } from \"appContext\";\r\n\r\nconst useNotifications = () => {\r\n  const { addNotification }: AppContextType = useContext(AppContext);\r\n\r\n  const info = (message: string): void => addNotification(\"info\", message);\r\n  const debug = (message: string): void => addNotification(\"debug\", message);\r\n  const warning = (message: string): void =>\r\n    addNotification(\"warning\", message);\r\n  const error = (message: string): void => addNotification(\"error\", message);\r\n\r\n  return { /*addNotification,*/ info, debug, warning, error };\r\n};\r\n\r\nexport default useNotifications;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst mobileMaxWidth = 414;\r\n\r\nconst useWindowSize = () => {\r\n  const isClient = typeof window === \"object\";\r\n\r\n  function getSize() {\r\n    const desktop = isClient ? window.innerWidth > mobileMaxWidth : true;\r\n    const mobile = !desktop;\r\n\r\n    return {\r\n      width: isClient ? window.innerWidth : 300, // 300 min\r\n      height: isClient ? window.innerHeight : 800, // 800 min\r\n      desktop,\r\n      mobile,\r\n    };\r\n  }\r\n\r\n  const [windowSize, setWindowSize] = useState(getSize);\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowSize(getSize());\r\n    }\r\n\r\n    const fetchData = async () => {\r\n      if (!isClient) {\r\n        return false;\r\n      }\r\n\r\n      window.addEventListener(\"resize\", handleResize);\r\n    };\r\n    fetchData();\r\n\r\n    return () => window.removeEventListener(\"resize\", handleResize); // on unmount\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []); // Empty array ensures that effect is only run on mount and unmount\r\n\r\n  return windowSize;\r\n};\r\n\r\nexport default useWindowSize;\r\n","const COLOURS = [\n  // \"F0F8FF\", // Alice_Blue\n  // \"FAEBD7\", // Antique_White\n  // \"00FFFF\", // Aqua\n  // \"7FFFD4\", // Aquamarine\n  // \"F0FFFF\", // Azure\n  // \"F5F5DC\", // Beige\n  // \"FFE4C4\", // Bisque\n  // \"000000\", // Black\n  // \"FFEBCD\", // Blanched_Almond\n  // \"0000FF\", // Blue\n  \"8A2BE2\", // Blue_Violet\n  \"A52A2A\", // Brown\n  \"DEB887\", // Burlywood\n  \"5F9EA0\", // Cadet_Blue\n  // \"7FFF00\", // Chartreuse\n  \"D2691E\", // Chocolate\n  \"FF7F50\", // Coral\n  \"6495ED\", // Cornflower_Blue\n  // \"FFF8DC\", // Cornsilk\n  \"DC143C\", // Crimson\n  // \"00FFFF\", // Cyan\n  \"00008B\", // Dark_Blue\n  \"008B8B\", // Dark_Cyan\n  \"B8860B\", // Dark_Goldenrod\n  \"A9A9A9\", // Dark_Gray\n  \"006400\", // Dark_Green\n  \"BDB76B\", // Dark_Khaki\n  \"8B008B\", // Dark_Magenta\n  \"556B2F\", // Dark_Olive_Green\n  \"FF8C00\", // Dark_Orange\n  \"9932CC\", // Dark_Orchid\n  \"8B0000\", // Dark_Red\n  \"E9967A\", // Dark_Salmon\n  \"8FBC8F\", // Dark_Sea_Green\n  \"483D8B\", // Dark_Slate_Blue\n  \"2F4F4F\", // Dark_Slate_Gray\n  \"00CED1\", // Dark_Turquoise\n  \"9400D3\", // Dark_Violet\n  \"FF1493\", // Deep_Pink\n  \"00BFFF\", // Deep_Sky_Blue\n  \"696969\", // Dim_Gray\n  \"1E90FF\", // Dodger_Blue\n  \"B22222\", // Firebrick\n  // \"FFFAF0\", // Floral_White\n  \"228B22\", // Forest_Green\n  \"FF00FF\", // Fuchsia\n  \"DCDCDC\", // Gainsboro\n  \"F8F8FF\", // Ghost_White\n  \"FFD700\", // Gold\n  \"DAA520\", // Goldenrod\n  \"BEBEBE\", // Gray\n  \"808080\", // Web_Gray\n  \"00FF00\", // Green\n  \"008000\", // Web_Green\n  \"ADFF2F\", // Green_Yellow\n  \"F0FFF0\", // Honeydew\n  \"FF69B4\", // Hot_Pink\n  \"CD5C5C\", // Indian_Red\n  \"4B0082\", // Indigo\n  \"FFFFF0\", // Ivory\n  \"F0E68C\", // Khaki\n  \"E6E6FA\", // Lavender\n  \"FFF0F5\", // Lavender_Blush\n  \"7CFC00\", // Lawn_Green\n  \"FFFACD\", // Lemon_Chiffon\n  \"ADD8E6\", // Light_Blue\n  \"F08080\", // Light_Coral\n  \"E0FFFF\", // Light_Cyan\n  \"FAFAD2\", // Light_Goldenrod\n  \"D3D3D3\", // Light_Gray\"\n  \"90EE90\", // Light_Green\n  \"FFB6C1\", // Light_Pink\n  \"FFA07A\", // Light_Salmon\n  \"20B2AA\", // Light_Sea_Green\n  \"87CEFA\", // Light_Sky_Blue\n  \"778899\", // Light_Slate_Gray\n  \"B0C4DE\", // Light_Steel_Blue\n  \"FFFFE0\", // Light_Yellow\n  \"00FF00\", // Lime\n  \"32CD32\", // Lime_Green\n  \"FAF0E6\", // Linen\n  \"FF00FF\", // Magenta\n  \"B03060\", // Maroon\n  \"800000\", // Web_Maroon\n  \"66CDAA\", // Medium_Aquamarine\n  \"0000CD\", // Medium_Blue\n  \"BA55D3\", // Medium_Orchid\n  \"9370DB\", // Medium_Purple\n  \"3CB371\", // Medium_Sea_Green\n  \"7B68EE\", // Medium_Slate_Blue\n  \"00FA9A\", // Medium_Spring_Green\n  \"48D1CC\", // Medium_Turquoise\n  \"C71585\", // Medium_Violet_Red\n  \"191970\", // Midnight_Blue\n  \"F5FFFA\", // Mint_Cream\n  \"FFE4E1\", // Misty_Rose\n  \"FFE4B5\", // Moccasin\n  \"FFDEAD\", // Navajo_White\n  \"000080\", // Navy_Blue\n  \"FDF5E6\", // Old_Lace\n  \"808000\", // Olive\n  \"6B8E23\", // Olive_Drab\n  \"FFA500\", // Orange\n  \"FF4500\", // Orange_Red\n  \"DA70D6\", // Orchid\n  \"EEE8AA\", // Pale_Goldenrod\n  \"98FB98\", // Pale_Green\n  \"AFEEEE\", // Pale_Turquoise\n  \"DB7093\", // Pale_Violet_Red\n  \"FFEFD5\", // Papaya_Whip\n  \"FFDAB9\", // Peach_Puff\n  \"CD853F\", // Peru\n  \"FFC0CB\", // Pink\n  \"DDA0DD\", // Plum\n  \"B0E0E6\", // Powder_Blue\n  \"A020F0\", // Purple\n  \"800080\", // Web_Purple\n  \"663399\", // Rebecca_Purple\n  \"FF0000\", // Red\n  \"BC8F8F\", // Rosy_Brown\n  \"4169E1\", // Royal_Blue\n  \"8B4513\", // Saddle_Brown\n  \"FA8072\", // Salmon\n  \"F4A460\", // Sandy_Brown\n  \"2E8B57\", // Sea_Green\n  \"FFF5EE\", // Seashell\n  \"A0522D\", // Sienna\n  \"C0C0C0\", // Silver\n  \"87CEEB\", // Sky_Blue\n  \"6A5ACD\", // Slate_Blue\n  \"708090\", // Slate_Gray\n  \"FFFAFA\", // Snow\n  \"00FF7F\", // Spring_Green\n  \"4682B4\", // Steel_Blue\n  \"D2B48C\", // Tan\n  \"008080\", // Teal\n  \"D8BFD8\", // Thistle\n  \"FF6347\", // Tomato\n  \"40E0D0\", // Turquoise\n  \"EE82EE\", // Violet\n  \"F5DEB3\", // Wheat\n  // \"FFFFFF\", // White\n  \"F5F5F5\", // White_Smoke\n  \"FFFF00\", // Yellow\n  \"9ACD32\" // Yellow_Green\n];\n\nexport const getColour = (index: number) =>\n  index >= COLOURS.length ? \"\" : `#${COLOURS[index]}`;\n\nexport const getCategoryColour = (\n  CATEGORIES: string[],\n  category: string\n): string => {\n  if (!category || category === \"Category\") {\n    console.error(\"*** category:\", category);\n    return \"colour-not-found\";\n  }\n  const categoryIndex = CATEGORIES.indexOf(category);\n  const colour = getColour(categoryIndex) || \"colour-not-found\";\n  return colour;\n};\n","import React from \"react\";\nimport {\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n} from \"recharts\";\nimport { useWindowSize } from \"hooks\";\nimport { SELECT_ARRAYS } from \"core/constants\";\nimport { getCategoryColour } from \"core/colours\";\nimport s from \"./AreaChartNonstacked.module.css\";\n\ntype Props = {\n  data: any[];\n  categories: string[];\n  factor?: number;\n};\n\nconst { CATEGORIES } = SELECT_ARRAYS;\n\n// ----------\n// COMPONENT:\n// https://recharts.org/en-US/api/AreaChart\nconst AreaChartNonstacked = ({ data, categories, factor = 1 }: Props) => {\n  // HOOKS:\n  const { mobile, width, height } = useWindowSize();\n\n  return (\n    <div className={s.root}>\n      <AreaChart\n        width={mobile ? width - 20 : 1050 * factor}\n        height={mobile ? height - 200 : 800 * factor}\n        data={data}\n        margin={{\n          top: 0,\n          right: 0,\n          left: mobile ? -20 : -10,\n          bottom: 0,\n        }}\n      >\n        <defs>\n          {categories.map((category: string, index) => {\n            const colour = getCategoryColour(CATEGORIES, category);\n            return (\n              <linearGradient\n                key={category}\n                id={`color${index}`}\n                x1=\"0\"\n                y1=\"0\"\n                x2=\"0\"\n                y2=\"1\"\n              >\n                <stop offset=\"5%\" stopColor={colour} stopOpacity={0.9} />\n                <stop offset=\"95%\" stopColor={colour} stopOpacity={0.1} />\n              </linearGradient>\n            );\n          })}\n        </defs>\n        <XAxis dataKey=\"name\" />\n        <YAxis />\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <Tooltip />\n        {categories.map((category: string, index) => (\n          <Area\n            baseLine={800 * factor}\n            key={category}\n            type=\"monotone\"\n            dataKey={category}\n            stroke={getCategoryColour(CATEGORIES, category)}\n            fillOpacity={0.7}\n            fill={`url(#color${index})`}\n          />\n        ))}\n      </AreaChart>\n    </div>\n  );\n};\n\nexport default AreaChartNonstacked;\n","import React from \"react\";\nimport {\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  // Tooltip\n} from \"recharts\";\nimport { useWindowSize } from \"hooks\";\nimport { SELECT_ARRAYS } from \"core/constants\";\nimport { getCategoryColour } from \"core/colours\";\nimport s from \"./AreaChartStacked.module.css\";\n\ntype Props = {\n  data: any[];\n  categories: string[];\n  factor?: number;\n};\n\nconst { CATEGORIES } = SELECT_ARRAYS;\n\n// ----------\n// COMPONENT:\n// https://recharts.org/en-US/examples/StackedAreaChart\nconst AreaChartStacked = ({ data, categories, factor = 1 }: Props) => {\n  // HOOKS:\n  const { mobile, width, height } = useWindowSize();\n\n  return (\n    <div className={s.root}>\n      <AreaChart\n        width={mobile ? width - 20 : 1050 * factor}\n        height={mobile ? height - 200 : 800 * factor}\n        data={data}\n        margin={{\n          top: 0,\n          right: 0,\n          left: mobile ? -20 : -10,\n          bottom: 0,\n        }}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"name\" />\n        <YAxis />\n        {/* <Tooltip /> */}\n        {categories.map((category: string) => (\n          <Area\n            baseLine={800 * factor}\n            key={category}\n            type=\"monotone\"\n            dataKey={category}\n            stackId=\"1\"\n            stroke=\"#ffffff\"\n            fill={getCategoryColour(CATEGORIES, category)}\n          />\n        ))}\n      </AreaChart>\n    </div>\n  );\n};\n\nexport default AreaChartStacked;\n","import React from \"react\";\nimport cn from \"classnames\";\nimport s from \"./CategoryIcon.module.css\";\n\ntype Props = {\n  category: string;\n};\n\n// ----------\n// COMPONENT:\nconst CategoryIcon = ({ category }: Props) => {\n  return <div className={cn(s.root, s[category])} />;\n};\n\nexport default CategoryIcon;\n","import React from \"react\";\nimport { getCategoryIcon, CATEGORIES } from \"core/constants\";\nimport { getCategoryColour } from \"core/colours\";\nimport { CategoryIcon } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./CategoryIconAndLabel.module.css\";\n\ntype Props = {\n  item: string;\n  fullWidth: boolean;\n  index?: number;\n  iconOnly?: boolean;\n  onChange?: (event: any) => void;\n};\n\n// ----------\n// COMPONENT:\nconst CategoryIconAndLabel = ({\n  item,\n  fullWidth,\n  index,\n  iconOnly = false,\n  onChange,\n}: Props) => {\n  const onClick = onChange ? () => onChange(index) : () => {};\n\n  if (\n    item === \"category-not-found-1\" ||\n    item === \"category-not-found-2\" ||\n    item === \"category-not-found-3\"\n  ) {\n    return null;\n  }\n\n  return (\n    <div\n      className={cn(s.root, { [s.fullWidth]: fullWidth })}\n      style={{ backgroundColor: getCategoryColour(CATEGORIES, item) }}\n      onClick={onClick}\n    >\n      <span className={s.itemIcon}>\n        <CategoryIcon category={getCategoryIcon(item)} />\n      </span>\n      {!iconOnly && item}\n    </div>\n  );\n};\n\nexport default CategoryIconAndLabel;\n","import React from \"react\";\nimport cn from \"classnames\";\nimport { SELECT_ARRAYS } from \"core/constants\";\nimport { getCategoryColour } from \"core/colours\";\nimport s from \"./CategoryLegend.module.css\";\n\nconst { CATEGORIES } = SELECT_ARRAYS;\n\ntype OnClickType = (category: string) => void;\n\n// ----------\n// COMPONENT:\nconst Category = (\n  category: string,\n  onClick: OnClickType,\n  categoriesFiltered: string[]\n) => {\n  const isSelected = categoriesFiltered.includes(category);\n  const selectedClass = isSelected ? s.selected : \"\";\n  const categoryColor = getCategoryColour(CATEGORIES, category);\n  const style = isSelected ? { backgroundColor: categoryColor } : {};\n\n  return (\n    <div\n      key={category}\n      className={cn(s.categoryColour, selectedClass)}\n      style={style}\n      onClick={() => onClick(category)}\n    >\n      {category}\n    </div>\n  );\n};\n\ntype Props = {\n  categories: string[];\n  categoriesFiltered: string[];\n  className: string;\n  onClick: OnClickType;\n};\n\n// ----------\n// COMPONENT:\nconst CategoryLegend = ({\n  categories,\n  categoriesFiltered,\n  className,\n  onClick\n}: Props) => {\n  return (\n    <div className={s.root}>\n      <div className={className}>\n        {categories.map(c => Category(c, onClick, categoriesFiltered))}\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryLegend;\n","import React from \"react\";\nimport { CategoryLegend } from \"components\";\nimport s from \"./CategorySelector.module.css\";\n\ntype Props = {\n  categories: string[];\n  categoriesFiltered: string[];\n  onCategoryClick: (category: string) => void;\n};\n\n// ----------\n// COMPONENT:\nconst CategorySelector = ({\n  categories,\n  categoriesFiltered,\n  onCategoryClick\n}: Props) => {\n  return (\n    <div className={s.root}>\n      <CategoryLegend\n        categories={categories}\n        categoriesFiltered={categoriesFiltered}\n        className={s.categoryColours}\n        onClick={onCategoryClick}\n      />\n    </div>\n  );\n};\n\nexport default CategorySelector;\n","import React from \"react\";\nimport { MenuLinks } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./DesktopMenu.module.css\";\n\n// ----------\n// COMPONENT:\nconst DesktopMenu = () => {\n  return (\n    <nav className={cn(s.nav, \"flexRowWithMarginBaseline\")}>\n      <MenuLinks />\n    </nav>\n  );\n};\n\nexport default DesktopMenu;\n","import { CODE } from \"core/constants\";\r\nimport {\r\n  centsToDecimal,\r\n  convert20191231to31_Dec_2019,\r\n  getObjectValueString,\r\n} from \"core/utils\";\r\n\r\nconst fieldsToRandomise = [\"name\", \"remarks\", \"counterAccount\"];\r\nconst ascii_A = 65;\r\nconst ascii_Z = 90;\r\nconst ascii_a = 97;\r\nconst ascii_z = 122;\r\nconst ascii_0 = 48;\r\nconst ascii_9 = 57;\r\n\r\nconst randomiseCharCode = (charCode: number): string => {\r\n  let next = charCode;\r\n\r\n  if (ascii_A <= charCode && charCode <= ascii_Z) {\r\n    next = charCode + Math.floor(Math.random() * 26);\r\n    if (next > ascii_Z) next -= 26;\r\n  }\r\n\r\n  if (ascii_a <= charCode && charCode <= ascii_z) {\r\n    next = charCode + Math.floor(Math.random() * 26);\r\n    if (next > ascii_z) next -= 26;\r\n  }\r\n\r\n  if (ascii_0 <= charCode && charCode <= ascii_9) {\r\n    next = charCode + Math.floor(Math.random() * 10);\r\n    if (next > ascii_9) next -= 10;\r\n  }\r\n\r\n  return String.fromCharCode(next);\r\n};\r\n\r\nconst randomiseString = (value: string): string => {\r\n  const randomised = [];\r\n  for (var i = 0; i < value.length; i++) {\r\n    randomised.push(randomiseCharCode(value.charCodeAt(i)));\r\n  }\r\n  return randomised.join(\"\");\r\n};\r\n\r\nconst removeLast4Chars = (s: string) => s.substring(0, s.length - 4);\r\n\r\nexport const processField = (\r\n  value: string,\r\n  name: string,\r\n  isMasked?: boolean\r\n): string => {\r\n  if (name === \"dateShort\")\r\n    return removeLast4Chars(convert20191231to31_Dec_2019(value));\r\n  if (name === \"date\") return convert20191231to31_Dec_2019(value);\r\n\r\n  if (name === \"code\") return getObjectValueString(CODE, value);\r\n\r\n  if (name === \"amount\") {\r\n    return isMasked\r\n      ? randomiseString(centsToDecimal(value))\r\n      : centsToDecimal(value);\r\n  }\r\n\r\n  return isMasked && fieldsToRandomise.includes(name)\r\n    ? randomiseString(value)\r\n    : value;\r\n};\r\n","import React from \"react\";\nimport { processField } from \"process/field\";\nimport { CategoryIconAndLabel } from \"components\";\nimport s from \"./Field.module.css\";\n\ntype Props = {\n  name: string;\n  valueStringBefore?: string;\n  valueStringMiddle?: string;\n  valueStringAfter?: string;\n  valueString?: string;\n  valueNumber?: number;\n  isMasked: boolean;\n  iconOnly?: boolean;\n};\n\n// ----------\n// COMPONENT:\nconst Field = ({\n  name,\n  valueStringBefore,\n  valueStringMiddle,\n  valueStringAfter,\n  valueString,\n  valueNumber,\n  isMasked,\n  iconOnly = false,\n}: Props) => {\n  // CATEGORY COLUMN:\n  if (name === \"category\") {\n    return valueString ? (\n      <td>\n        <CategoryIconAndLabel\n          item={processField(valueString, name)}\n          fullWidth={false}\n          iconOnly={iconOnly}\n        />\n      </td>\n    ) : (\n      <td className={s.categoryEmpty}></td>\n    );\n  }\n\n  // OTHER COLUMNS:\n  const textAlign = name === \"amount\" ? \"textAlignRight\" : \"\";\n  if (valueString) {\n    return (\n      <td className={textAlign}>{processField(valueString, name, isMasked)}</td>\n    );\n  }\n  if (valueStringMiddle) {\n    return isMasked ? (\n      <td className={textAlign}>\n        {processField(\n          valueStringBefore + valueStringMiddle + valueStringAfter,\n          name,\n          isMasked\n        )}\n      </td>\n    ) : (\n      <td className={textAlign}>\n        {valueStringBefore && <span>{valueStringBefore}</span>}\n        <span className={s.highlight}>\n          {processField(valueStringMiddle, name, isMasked)}\n        </span>\n        {valueStringAfter && <span>{valueStringAfter}</span>}\n      </td>\n    );\n  }\n  if (valueNumber) {\n    return (\n      <td className={textAlign}>\n        {processField(valueNumber.toString(), name, isMasked)}\n      </td>\n    );\n  }\n\n  return <td></td>;\n};\n\nexport default Field;\n","import React from \"react\";\nimport cn from \"classnames\";\nimport { TransactionClass } from \"core/TransactionClass\";\nimport s from \"./FieldCopier.module.css\";\n\ntype Props = {\n  transaction: TransactionClass;\n  onClick: (fieldValue: string, fieldName: string) => void;\n};\n\n// ----------\n// COMPONENT:\nconst FieldCopier = ({ transaction, onClick }: Props) => {\n  const copyButton = (fieldName: string, fieldValue: string) => (\n    <button onClick={() => onClick(fieldValue, fieldName)}>{fieldName}</button>\n  );\n\n  return (\n    <div className={cn(s.root, \"flexRowWithMargin\")}>\n      <div>Copy:</div>\n      {copyButton(\"Name\", transaction.name)}\n      {copyButton(\"Counter account\", transaction.counterAccount)}\n      {copyButton(\"Type\", transaction.type)}\n      {copyButton(\"Remarks\", transaction.remarks)}\n      {copyButton(\"Hash\", transaction.hash.toString())}\n    </div>\n  );\n};\n\nexport default FieldCopier;\n","import React from \"react\";\nimport cn from \"classnames\";\nimport s from \"./Icon.module.css\";\n\ntype Props = {\n  name: string;\n  small?: boolean;\n  onClick?: () => void;\n};\n\nconst Icon = ({ name, small, onClick = () => {} }: Props) => {\n  return (\n    <div\n      className={cn(s.root, s[name], {\n        [s.small]: small,\n        [s.clickable]: onClick,\n      })}\n      onClick={onClick}\n    />\n  );\n};\n\nexport default Icon;\n","import React from \"react\";\nimport { Icon } from \"components\";\nimport s from \"./IconButton.module.css\";\n\ntype Props = {\n  icon: string;\n  text: string;\n  onClick: null | (() => void);\n};\n\n// ----------\n// COMPONENT:\nconst IconButton = ({ icon: iconName, text, onClick }: Props) => {\n  const handleClick = () => {\n    if (onClick) {\n      onClick();\n    }\n  };\n\n  return (\n    <button className={s.root + \" flexRowLeft\"} onClick={handleClick}>\n      <Icon name={iconName} />\n      <div>{text}</div>\n    </button>\n  );\n};\n\nexport default IconButton;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useWindowSize } from \"hooks\";\nimport { Icon } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./Link.module.css\";\n\ntype Props = {\n  to: string;\n  title: string;\n};\n\n// ----------\n// COMPONENT:\nconst Link = ({ to, title }: Props) => {\n  // HOOKS:\n  const { mobile } = useWindowSize();\n\n  return (\n    <NavLink\n      exact={true}\n      className={cn(\n        s.root,\n        mobile ? s.mobile : s.desktop,\n        mobile ? \"flexRowLeft\" : \" flexRowWithMargin\"\n      )}\n      activeClassName={s.activeLink}\n      to={to}\n    >\n      <Icon name={title} />\n      <span className={s.title}>{title}</span>\n    </NavLink>\n  );\n};\n\nexport default Link;\n","import React, { useState, useEffect } from \"react\";\nimport s from \"./Loading.module.css\";\n\n// ----------\n// COMPONENT:\nconst Loading = () => {\n  // STATE:\n  const [count, setCount] = useState(0);\n\n  // EFFECTS:\n  useEffect(\n    () => {\n      const interval = setInterval(everySecond, 100);\n      return () => clearInterval(interval);\n    } /* ,[] */\n  );\n\n  // FUNCTIONS:\n  const everySecond = () => {\n    setCount((count + 1) % 20);\n  };\n\n  return (\n    <div className={s.root}>\n      <div className={s.content}>\n        {\"          Loading...\".slice(count, count + 10)}\n      </div>\n    </div>\n  );\n};\n\nexport default Loading;\n","import React from \"react\";\nimport { Link } from \"components\";\n\nconst link = (to: string, title: string) => <Link to={to} title={title} />;\n\n// ----------\n// COMPONENT:\nconst MenuLinks = () => {\n  const development = process.env.NODE_ENV === \"development\";\n\n  return (\n    <>\n      {link(\"/\", \"Home\")}\n      {link(\"/transactions\", \"Transactions\")}\n      {link(\"/percentage\", \"Percentage\")}\n      {link(\"/trend\", \"Trend\")}\n      {development && link(\"/rules\", \"Rules\")}\n      {development && link(\"/categories\", \"Categories\")}\n    </>\n  );\n};\n\nexport default MenuLinks;\n","import React from \"react\";\nimport { Icon, MenuLinks } from \"components\";\nimport s from \"./MobileMenu.module.css\";\n\ntype Props = {\n  onMenuIconClick: () => void;\n};\n\n// ----------\n// COMPONENT:\nconst MobileMenu = ({ onMenuIconClick }: Props) => {\n  return (\n    <div className={s.root}>\n      <Icon name=\"menu\" onClick={onMenuIconClick} />\n\n      <nav onClick={onMenuIconClick}>\n        <MenuLinks />\n      </nav>\n    </div>\n  );\n};\n\nexport default MobileMenu;\n","import React, { useState, useContext } from \"react\";\nimport { AppContext, AppContextType } from \"appContext\";\nimport { VoidFunction } from \"core/types\";\nimport { Icon, IconButton } from \"components\";\nimport s from \"./Modal.module.css\";\n\nconst ContentDefault: JSX.Element = <div>dummy</div>;\nconst OnYesClickDefault: VoidFunction = () => {};\n\n// ----------\n// COMPONENT:\nconst Modal = () => {\n  // CONTEXT:\n  const context: AppContextType = useContext(AppContext);\n\n  // STATE:\n  const [opened, setOpened] = useState(false);\n  const [component, setComponent] = useState(ContentDefault);\n  const [onYesClick, setOnYesClick] = useState(() => OnYesClickDefault);\n\n  context.openModal = (\n    componentInput: JSX.Element,\n    onYesClickInput: VoidFunction\n  ): void => {\n    console.log(\"*** onYesClickInput:\", onYesClickInput);\n    setOpened(true);\n    setComponent(componentInput);\n    setOnYesClick(() => onYesClickInput);\n  };\n\n  // FUNCTIONS:\n  const onCancelClick = () => {\n    setOpened(false);\n  };\n  const handleYesClick = () => {\n    onYesClick();\n  };\n\n  if (!opened) {\n    return null;\n  }\n\n  console.log(\"*** onYesClick:\", onYesClick);\n\n  return (\n    <div className={s.root}>\n      <div className={s.box}>\n        <div className={s.header + \" flexRowLeft\"}>\n          <div>Confirm</div>\n        </div>\n\n        <div className={s.component + \" flexRowLeft\"}>\n          <Icon name=\"question\" />\n          {component}\n        </div>\n\n        <div className={s.footer}>\n          <IconButton icon=\"yes\" text=\"Yes\" onClick={handleYesClick} />\n          <IconButton icon=\"no\" text=\"Cancel\" onClick={onCancelClick} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import React, { useState } from \"react\";\nimport { useModal } from \"hooks\";\nimport { TransactionClass } from \"core/TransactionClass\";\nimport { SELECT_ARRAYS, operationIncludesValue2 } from \"core/constants\";\nimport { addRule } from \"services/rules\";\nimport { NewRuleHeader, NewRuleTable } from \"components\";\nimport s from \"./NewRule.module.css\";\n\ntype Props = {\n  transaction: TransactionClass;\n  onSaveClick: () => void;\n};\n\n// ----------\n// COMPONENT:\nconst NewRule = ({ transaction, onSaveClick: propsOnSaveClick }: Props) => {\n  // STATE:\n  const [categoryIndex, setCategoryIndex] = useState(0);\n  const [fieldIndex, setFieldIndex] = useState(0);\n  const [operationIndex, setOperationIndex] = useState(0);\n  const [caseSensitivityIndex, setCaseSensitivityIndex] = useState(0);\n  const [value1, setValue1] = useState(\"\");\n  const [value2, setValue2] = useState(\"\");\n  const [lessMoreIndex, setLessMoreIndex] = useState(0);\n  const [lessMoreAmount, setLessMoreAmount] = useState(\"0.00\");\n\n  // CUSTOM HOOKS:\n  const { openModal } = useModal();\n\n  const { CATEGORIES, FIELDS, NO_YES, OPERATIONS, LESS_MORE } = SELECT_ARRAYS;\n\n  // SELECT & VALUE CHANGES:\n  const onCategoryChange = (index: number) => {\n    setCategoryIndex(index);\n  };\n  const onFieldChange = (event: any) => {\n    setFieldIndex(event.target.value);\n  };\n  const onOperationChange = (event: any) => {\n    setOperationIndex(event.target.value);\n  };\n  const onCaseSensitivityChange = (event: any) => {\n    setCaseSensitivityIndex(event.target.value);\n  };\n  const onValueChange = (event: any, valueIndex: number) => {\n    switch (valueIndex) {\n      case 1:\n        setValue1(event.target.value);\n        break;\n      case 2:\n        setValue2(event.target.value);\n        break;\n      default:\n        break;\n    }\n  };\n  const onLessMoreChange = (event: any) => {\n    setLessMoreIndex(event.target.value);\n  };\n  const onLessMoreAmountChange = (value: string) => {\n    setLessMoreAmount(value);\n  };\n\n  // BUTTON CLICKS:\n  const onCopyClick = (fieldValue: string, fieldName: string) => {\n    const fieldIndex = FIELDS.indexOf(fieldName);\n    setFieldIndex(fieldIndex);\n    setValue1(fieldValue);\n  };\n  const onSaveClick = () => {\n    openModal(\n      <div>Are you sure you want to save this rule?</div>,\n      onSaveConfirm\n    );\n  };\n  const onSaveConfirm = () => {\n    addRule({\n      id: 0,\n      category: CATEGORIES[categoryIndex],\n      field: FIELDS[fieldIndex],\n      operation: OPERATIONS[operationIndex],\n      caseSensitive: NO_YES[caseSensitivityIndex],\n      value1: value1,\n      value2: operationIncludesValue2(operationIndex) ? value2 : null,\n      lessMore: lessMoreAmount === \"0.00\" ? null : LESS_MORE[lessMoreIndex],\n      lessMoreAmount: lessMoreAmount === \"0.00\" ? null : lessMoreAmount,\n    });\n\n    propsOnSaveClick();\n  };\n\n  return (\n    <div className={s.root}>\n      <NewRuleHeader\n        transaction={transaction}\n        onCopyClick={onCopyClick}\n        onSaveClick={onSaveClick}\n      />\n\n      <NewRuleTable\n        categoryIndex={categoryIndex}\n        fieldIndex={fieldIndex}\n        operationIndex={operationIndex}\n        caseSensitivityIndex={caseSensitivityIndex}\n        value1={value1}\n        value2={value2}\n        lessMoreIndex={lessMoreIndex}\n        lessMoreAmount={lessMoreAmount}\n        onCategoryChange={onCategoryChange}\n        onFieldChange={onFieldChange}\n        onOperationChange={onOperationChange}\n        onCaseSensitivityChange={onCaseSensitivityChange}\n        onValueChange={onValueChange}\n        onLessMoreChange={onLessMoreChange}\n        onLessMoreAmountChange={onLessMoreAmountChange}\n      />\n    </div>\n  );\n};\n\nexport default NewRule;\n","import React from \"react\";\nimport cn from \"classnames\";\nimport { TransactionClass } from \"core/TransactionClass\";\nimport { FieldCopier, IconButton } from \"components\";\nimport s from \"./NewRuleHeader.module.css\";\n\ntype Props = {\n  transaction: TransactionClass;\n  onCopyClick: (fieldValue: string, fieldName: string) => void;\n  onSaveClick: () => void;\n};\n\n// ----------\n// COMPONENT:\nconst NewRuleHeader = ({ transaction, onCopyClick, onSaveClick }: Props) => {\n  return (\n    <div className={cn(s.root, \"flexRowWithMargin\")}>\n      <h3>New rule</h3>\n\n      <FieldCopier transaction={transaction} onClick={onCopyClick} />\n      <IconButton icon=\"save\" text=\"Save\" onClick={onSaveClick} />\n    </div>\n  );\n};\n\nexport default NewRuleHeader;\n","import React from \"react\";\nimport { SELECT_ARRAYS } from \"core/constants\";\nimport { NumberInput, Select, SelectWithIcons, ValueInput } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./NewRuleTable.module.css\";\n\ntype Props = {\n  categoryIndex: number;\n  fieldIndex: number;\n  operationIndex: number;\n  caseSensitivityIndex: number;\n  value1: string;\n  value2: string;\n  lessMoreIndex: number;\n  lessMoreAmount: string;\n  onCategoryChange: (event: any) => void;\n  onFieldChange: (event: any) => void;\n  onOperationChange: (event: any) => void;\n  onCaseSensitivityChange: (event: any) => void;\n  onValueChange: (event: any, valueIndex: number) => void;\n  onLessMoreChange: (event: any) => void;\n  onLessMoreAmountChange: (value: string) => void;\n};\n\n// ----------\n// COMPONENT:\nconst NewRuleTable = ({\n  categoryIndex,\n  fieldIndex,\n  operationIndex,\n  caseSensitivityIndex,\n  value1,\n  value2,\n  lessMoreIndex,\n  lessMoreAmount,\n  onCategoryChange,\n  onFieldChange,\n  onOperationChange,\n  onCaseSensitivityChange,\n  onValueChange,\n  onLessMoreChange,\n  onLessMoreAmountChange,\n}: Props) => {\n  const { CATEGORIES, FIELDS, NO_YES, OPERATIONS, LESS_MORE } = SELECT_ARRAYS;\n\n  return (\n    <div className={s.root}>\n      <div className={cn(\"flexRowWithMargin\", s.equalWidth, s.headerRow)}>\n        <div>Category</div>\n        <div>Field</div>\n        <div>Operation</div>\n        <div>Case sensitive</div>\n      </div>\n\n      <div className={cn(\"flexRowWithMargin\", s.equalWidth)}>\n        <SelectWithIcons\n          items={CATEGORIES}\n          selected={categoryIndex}\n          onChange={onCategoryChange}\n        />\n        <Select items={FIELDS} selected={fieldIndex} onChange={onFieldChange} />\n        <Select\n          items={OPERATIONS}\n          selected={operationIndex}\n          onChange={onOperationChange}\n        />\n        <Select\n          items={NO_YES}\n          selected={caseSensitivityIndex}\n          onChange={onCaseSensitivityChange}\n        />\n      </div>\n\n      <ValueInput index={1} value={value1} onChange={onValueChange} />\n      <ValueInput index={2} value={value2} onChange={onValueChange} />\n\n      <br />\n      <div className={\"flexRow\"}>\n        <div>and amount</div>\n        <Select\n          items={LESS_MORE}\n          selected={lessMoreIndex}\n          onChange={onLessMoreChange}\n        />\n        <NumberInput\n          value={lessMoreAmount}\n          min={0}\n          decimalPoints={2}\n          width={\"short\"}\n          onChange={onLessMoreAmountChange}\n        />\n        <div>(0 : ignored)</div>\n      </div>\n    </div>\n  );\n};\n\nexport default NewRuleTable;\n","import React from \"react\";\nimport { NotificationType } from \"core/types\";\nimport { Icon } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./Notification.module.css\";\n\ntype Props = {\n  notification: NotificationType;\n};\n\n// ----------\n// COMPONENT:\nconst Notification = ({ notification }: Props) => {\n  const { severity, message } = notification;\n\n  return (\n    <div className={cn(s.root, s[severity])}>\n      <Icon small={true} name={severity} />\n      <div className={s.message}>{message}</div>\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { AppContext, AppContextType } from \"appContext\";\nimport { NotificationType, Severity } from \"core/types\";\nimport { Notification } from \"components\";\nimport s from \"./Notifications.module.css\";\n\nconst MaxNotifications = 3;\nconst MaxSecondsLeft = 10;\n\nconst DefaultNotifications: NotificationType[] = [\n  // {\n  //   severity: \"info\",\n  //   message: \"Information\",\n  //   secondsLeft: 5,\n  // },\n  // {\n  //   severity: \"debug\",\n  //   message: \"Debug\",\n  //   secondsLeft: 4,\n  // },\n  // {\n  //   severity: \"warning\",\n  //   message: \"Warning\",\n  //   secondsLeft: 3,\n  // },\n  // {\n  //   severity: \"error\",\n  //   message: \"Error\",\n  //   secondsLeft: 2,\n  // },\n];\n\n// ----------\n// COMPONENT:\nconst Notifications = () => {\n  // CONTEXT:\n  const context: AppContextType = useContext(AppContext);\n\n  // STATE:\n  const [notifications, setNotifications] = useState(DefaultNotifications);\n\n  // EFFECTS:\n  useEffect(\n    () => {\n      const interval = setInterval(everySecond, 1000);\n      return () => clearInterval(interval);\n    } /* ,[] */\n  );\n\n  // FUNCTIONS:\n  const everySecond = () => {\n    const decremented = notifications.map(n => ({\n      ...n,\n      secondsLeft: n.secondsLeft - 1,\n    }));\n    const filtered = decremented.filter(n => n.secondsLeft > 0);\n    setNotifications(filtered);\n  };\n\n  context.addNotification = (severity: Severity, message: string): void => {\n    const notification: NotificationType = {\n      severity,\n      message,\n      secondsLeft: MaxSecondsLeft,\n    };\n    let newArray = [...notifications, notification];\n    if (newArray.length > MaxNotifications) {\n      newArray.shift();\n    }\n    setNotifications(newArray);\n  };\n\n  // CLICKS:\n  const onClearButtonClick = () => {\n    setNotifications([]);\n  };\n\n  return (\n    <div className={s.root}>\n      <div>\n        {notifications.map((notification: NotificationType, index: number) => (\n          <Notification key={index} notification={notification} />\n        ))}\n      </div>\n      {notifications.length > 0 && (\n        <div>\n          <button onClick={onClearButtonClick}>Clear</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Notifications;\n","import React, { useState } from \"react\";\nimport cn from \"classnames\";\nimport s from \"./NumberInput.module.css\";\n\ntype Props = {\n  value: string;\n  min?: number;\n  max?: number;\n  decimalPoints?: number;\n  width?: \"short\";\n  onChange: (value: string) => void;\n};\n\n// ----------\n// COMPONENT:\nconst NumberInput = ({\n  value,\n  min,\n  max,\n  decimalPoints,\n  width,\n  onChange,\n}: Props) => {\n  const [stateValue, setStateValue] = useState(value);\n\n  const validateNumber = (input: string) => {\n    let n = Number(input);\n    if (!n) return null;\n\n    if (decimalPoints) {\n      n = Math.floor(n * 100 ** decimalPoints) / 100 ** decimalPoints;\n    }\n\n    if (min && min !== 0 && n < min) n = min;\n    if (max && max !== 0 && n > max) n = max;\n\n    return decimalPoints ? n.toFixed(decimalPoints) : n.toString();\n  };\n\n  const handleChange = (event: any) => {\n    setStateValue(event.target.value);\n  };\n\n  const handleBlur = (event: any) => {\n    const s: string = validateNumber(event.target.value) || value;\n    setStateValue(s);\n    onChange(s);\n  };\n\n  return (\n    <input\n      type=\"text\"\n      className={cn(s.root, { [s.short]: width === \"short\" })}\n      placeholder={\"0.00\"}\n      value={stateValue}\n      onChange={handleChange}\n      onFocus={() => setStateValue(\"\")}\n      onBlur={handleBlur}\n    />\n  );\n};\n\nexport default NumberInput;\n","import React from \"react\";\nimport { Modal, Notifications } from \"components\";\nimport s from \"./PageFooter.module.css\";\n\n// ----------\n// COMPONENT:\nconst PageFooter = () => {\n  return (\n    <footer className={s.root}>\n      <div className={s.leftSide}>\n        <Notifications />\n        <Modal />\n      </div>\n\n      <div className={s.copyright}>\n        <small>ELSBNK</small> &copy;2020 <small>E.Y</small>\n      </div>\n    </footer>\n  );\n};\n\nexport default PageFooter;\n","import React, { useState } from \"react\";\r\nimport { useWindowSize } from \"hooks\";\r\nimport { DesktopMenu, Icon, MobileMenu, PageHeaderButtons } from \"components\";\r\nimport cn from \"classnames\";\r\nimport s from \"./PageHeader.module.css\";\r\n\r\ntype Props = {\r\n  cloud: boolean;\r\n  onCloudClick: () => void;\r\n  mask: boolean;\r\n  onMaskClick: () => void;\r\n};\r\n\r\n// ----------\r\n// COMPONENT:\r\nconst PageHeader = ({ cloud, onCloudClick, mask, onMaskClick }: Props) => {\r\n  // HOOKS:\r\n  const { desktop, mobile } = useWindowSize();\r\n\r\n  // STATE:\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n\r\n  // FUNCTIONS:\r\n  const onMenuIconClick = () => {\r\n    setIsMobileMenuOpen(!isMobileMenuOpen);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <header className={cn(s.root, \"flexRowWithMarginBaseline\", s.stickyTop)}>\r\n        {mobile && <Icon name=\"menu\" onClick={onMenuIconClick} />}\r\n\r\n        {isMobileMenuOpen && <MobileMenu onMenuIconClick={onMenuIconClick} />}\r\n\r\n        <div className={s.appTitle + \" flexRowLeft\"}>\r\n          <img className={s.logo} alt=\"\" src=\"/favicon-32x32.png\" />\r\n          <div>ELSBNK</div>\r\n        </div>\r\n\r\n        {desktop && <DesktopMenu />}\r\n\r\n        <PageHeaderButtons\r\n          cloud={cloud}\r\n          onCloudClick={onCloudClick}\r\n          mask={mask}\r\n          onMaskClick={onMaskClick}\r\n        />\r\n      </header>\r\n\r\n      <div className={s.stickyBottom} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PageHeader;\r\n","import React from \"react\";\nimport { Icon } from \"components\";\nimport s from \"./PageHeaderButtons.module.css\";\n\ntype Props = {\n  cloud: boolean;\n  onCloudClick: () => void;\n  mask: boolean;\n  onMaskClick: () => void;\n};\n\n// ----------\n// COMPONENT:\nconst PageHeaderButtons = ({\n  cloud,\n  onCloudClick,\n  mask,\n  onMaskClick,\n}: Props) => {\n  return (\n    <div className={s.root + \" flexRowLeft\"}>\n      <button onClick={onCloudClick}>\n        <Icon name={cloud ? \"cloudOn\" : \"cloudOff\"} />\n      </button>\n      <button onClick={onMaskClick}>\n        <Icon name={mask ? \"maskOn\" : \"maskOff\"} />\n      </button>\n    </div>\n  );\n};\n\nexport default PageHeaderButtons;\n","import React from \"react\";\nimport s from \"./Select.module.css\";\n\ntype Props = {\n  items: string[];\n  selected: number;\n  onChange: (event: any) => void;\n};\n\n// ----------\n// COMPONENT:\nconst Select = ({ items, selected, onChange }: Props) => {\n  return (\n    <div className={s.root}>\n      <select onChange={onChange} value={selected}>\n        {items.map((item, index) => (\n          <option key={index} value={index}>\n            {item}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n};\n\nexport default Select;\n","import React, { useState } from \"react\";\nimport { CategoryIconAndLabel } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./SelectWithIcons.module.css\";\n\ntype Props = {\n  items: string[];\n  selected: number;\n  onChange: (event: any) => void;\n};\n\n// ----------\n// COMPONENT:\nconst SelectWithIcons = ({ items, selected, onChange }: Props) => {\n  const [expanded, setExpanded] = useState(false);\n\n  return (\n    <div className={s.root} onClick={() => setExpanded(!expanded)}>\n      <div className={s.topBar}>\n        <div className={s.topBarText}>{items[selected]}</div>\n        <div className={s.topBarButton} />\n      </div>\n\n      {expanded && (\n        <div className={s.items}>\n          {items.map((item, index) => (\n            <div key={index} className={s.item}>\n              <div\n                className={cn(s.selectMarker, {\n                  [s.selected]: index === selected,\n                })}\n              />\n              <CategoryIconAndLabel\n                index={index}\n                fullWidth={true}\n                item={item}\n                onChange={onChange}\n              />\n              {/* <div\n                className={s.iconAndLabel}\n                style={{ backgroundColor: getCategoryColour(CATEGORIES, item) }}\n                onClick={() => onChange(index)}\n              >\n                <span className={s.itemIcon}>\n                  <CategoryIcon category={getCategoryIcon(item)} />\n                </span>\n                {item}\n              </div> */}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SelectWithIcons;\n","import React from \"react\";\nimport s from \"./ToggleButton.module.css\";\n\ntype Props = {\n  on: boolean;\n  text: string;\n  // textFalse: string;\n  // iconTrue: string;\n  // iconFalse: string;\n  onClick: (event: any) => void;\n};\n\n// ----------\n// COMPONENT:\nconst ToggleButton = ({ on, text, onClick }: Props) => {\n  return (\n    <div className={s.root}>\n      <button className={on ? s.on : \"\"} onClick={onClick}>\n        {text}\n      </button>\n    </div>\n  );\n};\n\nexport default ToggleButton;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useWindowSize } from \"hooks\";\nimport { TransactionClass } from \"core/TransactionClass\";\nimport { Field } from \"components\";\nimport { splitLongStringAt } from \"core/utils\";\nimport cn from \"classnames\";\nimport s from \"./Transaction.module.css\";\n\ntype Props = {\n  index: number;\n  transaction: TransactionClass;\n  clickable: boolean;\n  urlId: number;\n  isHashVisible: boolean;\n  isMasked: boolean;\n};\n\n// ----------\n// COMPONENT:\nconst Transaction = ({\n  index,\n  transaction,\n  clickable,\n  urlId,\n  isHashVisible,\n  isMasked,\n}: Props) => {\n  // HOOKS:\n  const { desktop, mobile } = useWindowSize();\n  const history = useHistory();\n\n  // FUNCTIONS:\n  const fieldString = (\n    name: string,\n    value: string,\n    splitAt: number = 0,\n    iconOnly: boolean = false\n  ) => (\n    <Field\n      name={name}\n      valueString={splitAt === 0 ? value : splitLongStringAt(value, splitAt)}\n      isMasked={isMasked}\n      iconOnly={iconOnly}\n    />\n  );\n  // --------------------------------------------------------------\n  const fieldStringUnderlined = (\n    name: string,\n    transaction: TransactionClass,\n    splitAt: number = 0\n  ) => {\n    const fieldValue = transaction.getFieldValueString(name);\n    const { rule } = transaction;\n    const ruleField = rule ? rule.field.toLowerCase() : null;\n\n    if (rule && ruleField === name) {\n      const { operation, caseSensitive, value1 } = rule;\n\n      if (operation === \"= v1\") {\n        return (\n          <Field\n            name={name}\n            valueStringMiddle={fieldValue}\n            isMasked={isMasked}\n          />\n        );\n      }\n\n      if (operation === \"includes v1\") {\n        const fv =\n          caseSensitive === \"Yes\" ? fieldValue : fieldValue.toLowerCase();\n        const v1 = caseSensitive === \"Yes\" ? value1 : value1.toLowerCase();\n        const i = fv.indexOf(v1);\n\n        return (\n          <Field\n            name={name}\n            valueStringBefore={fieldValue.slice(0, i)}\n            valueStringMiddle={fieldValue.slice(i, i + v1.length)}\n            valueStringAfter={fieldValue.slice(i + v1.length)}\n            isMasked={isMasked}\n          />\n        );\n      }\n    }\n\n    return (\n      <Field\n        name={name}\n        valueString={\n          splitAt === 0 ? fieldValue : splitLongStringAt(fieldValue, splitAt)\n        }\n        isMasked={isMasked}\n      />\n    );\n  };\n  // --------------------------------------------------------------\n  const fieldNumber = (name: string, fieldValue: number) => (\n    <Field name={name} valueNumber={fieldValue} isMasked={isMasked} />\n  );\n\n  const isIncoming = transaction.isIncoming;\n  const incomingClass = isIncoming ? s.incoming : \"\";\n  const clickableClass = clickable ? s.clickable : \"\";\n  const highlightIndexClass =\n    urlId === transaction.index ? s.highlightIndex : \"\";\n\n  const handleClick = clickable\n    ? (index: number) => {\n        history.replace(`/rules/transaction=${index}`);\n      }\n    : () => {};\n\n  return (\n    <tr\n      className={cn(\"root\", incomingClass, clickableClass, highlightIndexClass)}\n      onClick={() => handleClick(transaction.index)}\n    >\n      {desktop && fieldNumber(\"index\", transaction.index)}\n      {fieldString(index === 0 ? \"date\" : \"dateShort\", transaction.date)}\n      {fieldStringUnderlined(\"name\", transaction)}\n      {desktop && fieldString(\"counterAccount\", transaction.counterAccount, 8)}\n      {desktop && fieldString(\"code\", transaction.code)}\n      {fieldNumber(\"amount\", transaction.amount)}\n      {desktop && fieldString(\"type\", transaction.type)}\n      {desktop && fieldStringUnderlined(\"remarks\", transaction)}\n      {isHashVisible && fieldString(\"hash\", transaction.hash.toString(), 6)}\n      {fieldString(\"category\", transaction.category, 0, mobile)}\n    </tr>\n  );\n};\n\nexport default Transaction;\n","import React from \"react\";\r\nimport { useWindowSize } from \"hooks\";\r\nimport { TransactionClass } from \"core/TransactionClass\";\r\nimport { Transaction, TransactionsTableHeader } from \"components\";\r\nimport s from \"./TransactionList.module.css\";\r\n\r\ntype Props = {\r\n  transactions: TransactionClass[];\r\n  clickable: boolean;\r\n  urlId: number;\r\n  isHashVisible: boolean;\r\n  isMasked: boolean;\r\n};\r\n\r\n// ----------\r\n// COMPONENT:\r\nconst TransactionList = ({\r\n  transactions,\r\n  clickable,\r\n  urlId,\r\n  isHashVisible,\r\n  isMasked,\r\n}: Props) => {\r\n  // HOOKS:\r\n  const { mobile } = useWindowSize();\r\n\r\n  return (\r\n    <div className={s.root}>\r\n      {transactions.length === 1 && <h3>Transaction</h3>}\r\n\r\n      <table className={mobile ? s.tableMobile : s.tableDesktop}>\r\n        <TransactionsTableHeader isHashVisible={isHashVisible} />\r\n\r\n        <tbody>\r\n          {transactions.map((t, index) => (\r\n            <Transaction\r\n              key={index}\r\n              index={index}\r\n              transaction={t}\r\n              clickable={clickable}\r\n              urlId={urlId}\r\n              isHashVisible={isHashVisible}\r\n              isMasked={isMasked}\r\n            />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionList;\r\n","import React from \"react\";\nimport cn from \"classnames\";\nimport { TransactionsPageHeaderButtons } from \"components\";\nimport s from \"./TransactionsPageHeader.module.css\";\n\ntype Props = {\n  pageIndex: number;\n  onClick: (increment: number) => void;\n};\n\n// ----------\n// COMPONENT:\nconst TransactionsPageHeader = ({ pageIndex, onClick }: Props) => {\n  return (\n    <div className={cn(s.root, \"flexRowWithMargin\")}>\n      <h3>Transactions</h3>\n      <TransactionsPageHeaderButtons pageIndex={pageIndex} onClick={onClick} />\n    </div>\n  );\n};\n\nexport default TransactionsPageHeader;\n","import React, { useEffect } from \"react\";\nimport { Icon } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./TransactionsPageHeaderButtons.module.css\";\n\ntype Event = {\n  key: string;\n};\n\ntype Props = {\n  pageIndex: number;\n  onClick: (event: any) => void;\n};\n\n// ----------\n// COMPONENT:\nconst TransactionsPageHeaderButtons = ({ pageIndex, onClick }: Props) => {\n  const percentage = (pageIndex * 1000) / 11636;\n\n  // EFFECTS - GET DATA:\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n    }; // on unmount\n  });\n\n  const handleKeyDown = (event: Event) => {\n    const { key } = event;\n\n    switch (key) {\n      case \"ArrowLeft\":\n        onClick(-1);\n        break;\n\n      case \"ArrowRight\":\n        onClick(1);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div className={cn(s.root, \"flexRowWithMargin\")}>\n      <button onClick={() => onClick(-1)}>\n        <Icon name=\"previous\" />\n      </button>\n      <div>\n        {pageIndex + 1} ({percentage.toFixed(1)}%)\n      </div>\n      <button onClick={() => onClick(1)}>\n        <Icon name=\"next\" />\n      </button>\n    </div>\n  );\n};\n\nexport default TransactionsPageHeaderButtons;\n","import React from \"react\";\nimport { useWindowSize } from \"hooks\";\nimport s from \"./TransactionsTableHeader.module.css\";\n\ntype Props = {\n  isHashVisible: boolean;\n};\n\n// ----------\n// COMPONENT:\nconst TransactionsTableHeader = ({ isHashVisible }: Props) => {\n  // HOOKS:\n  const { desktop } = useWindowSize();\n\n  return (\n    <thead className={s.root}>\n      <tr>\n        {desktop && <th>#</th>}\n        <th>Date</th>\n        <th>Name</th>\n        {desktop && <th>Counter account</th>}\n        {desktop && <th>Code</th>}\n        <th>{desktop ? \"Amount\" : \"\"}</th>\n        {desktop && <th>Type</th>}\n        {desktop && <th>Remarks</th>}\n        {isHashVisible && <th>Hash</th>}\n        <th>{desktop ? \"Category\" : \"Cat\"}</th>\n      </tr>\n    </thead>\n  );\n};\n\nexport default TransactionsTableHeader;\n","import React from \"react\";\nimport { TrendChartPageHeaderButtons } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./TrendChartPageHeader.module.css\";\n\ntype Props = {\n  isStacked: boolean;\n  isBoxed?: boolean;\n  onStackedClick: () => void;\n};\n\n// ----------\n// COMPONENT:\nconst TrendChartPageHeader = ({\n  isStacked,\n  isBoxed = false,\n  onStackedClick,\n}: Props) => {\n  const isFullPage = !isBoxed;\n  const title = \"Trend: expense categories\";\n\n  return (\n    <div className={cn(s.root, \"flexRowWithMargin\")}>\n      {isFullPage ? <h3>{title}</h3> : <h4>{title}</h4>}\n\n      {isFullPage && (\n        <TrendChartPageHeaderButtons\n          isStacked={isStacked}\n          onStackedClick={onStackedClick}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TrendChartPageHeader;\n","import React from \"react\";\nimport { ToggleButton } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./TrendChartPageHeaderButtons.module.css\";\n\ntype Props = {\n  isStacked: boolean;\n  onStackedClick: () => void;\n};\n\n// ----------\n// COMPONENT:\nconst TrendChartPageHeaderButtons = ({ isStacked, onStackedClick }: Props) => {\n  return (\n    <div className={cn(s.root, \"flexRowWithMargin\")}>\n      <ToggleButton on={isStacked} text=\"Stacked\" onClick={onStackedClick} />\n    </div>\n  );\n};\n\nexport default TrendChartPageHeaderButtons;\n","import React from \"react\";\nimport cn from \"classnames\";\nimport s from \"./ValueInput.module.css\";\n\ntype Props = {\n  index: number;\n  value: string;\n  onChange: (event: any, index: number) => void;\n};\n\n// ----------\n// COMPONENT:\nconst ValueInput = ({ index, value, onChange }: Props) => (\n  <div className={cn(s.root, \"flexRowWithMargin\")}>\n    <div className={s.valueTitle}>Value {index}:</div>\n    <input\n      type=\"text\"\n      value={value}\n      onChange={event => onChange(event, index)}\n    />\n  </div>\n);\n\nexport default ValueInput;\n","import { Rule } from \"core/types\";\r\nimport { TransactionClass } from \"core/TransactionClass\";\r\nimport { convert20191231to31_Dec_2019, daysBetween } from \"core/utils\";\r\nimport { getTotal } from \"core/utils_js.js\";\r\nimport { getCategory } from \"./categories\";\r\nimport { groupCategoryAndCents } from \"./charts_js.js\";\r\n\r\ntype CategoryAndCents = [string, number];\r\n\r\ntype GraphDataItem = {\r\n  name: string;\r\n  value: number;\r\n  label: string;\r\n};\r\n\r\ntype ExpensesByCategoryGraphData = {\r\n  graphDataItems: GraphDataItem[];\r\n  total: number;\r\n  from: string;\r\n  to: string;\r\n  dayCount: number;\r\n  totalPerMonth: number;\r\n};\r\n\r\nconst sortCategoriesAndCents = (a: CategoryAndCents, b: CategoryAndCents) => {\r\n  const m = a[1];\r\n  const n = b[1];\r\n  return m - n;\r\n};\r\n\r\nconst getDateRange = (transactions: TransactionClass[]) => {\r\n  const fromString = transactions[transactions.length - 1].date;\r\n  const toString = transactions[0].date;\r\n  const from = convert20191231to31_Dec_2019(fromString);\r\n  const to = convert20191231to31_Dec_2019(toString);\r\n  const dayCount = daysBetween(fromString, toString);\r\n  return { from, to, dayCount };\r\n};\r\n\r\nconst perMonth = (amount: number, days: number) =>\r\n  Math.round(((amount / days / 100) * 365.25) / 12);\r\n\r\nconst getGraphDataItem = (\r\n  item: CategoryAndCents,\r\n  days: number,\r\n  total: number\r\n): GraphDataItem => {\r\n  const name = item[0];\r\n  const value = item[1];\r\n  const valueToDisplay = perMonth(value, days);\r\n  const percentage = (value * 100) / total;\r\n  const label =\r\n    percentage >= 1\r\n      ? `${name} ${valueToDisplay} (${percentage.toFixed(1)}%)`\r\n      : \"\";\r\n  return { name, value, label };\r\n};\r\n\r\nconst filterCategoryAndCents = (item: CategoryAndCents) =>\r\n  item[0] !== \"Credit card\" &&\r\n  item[0] !== \"Ignore\" &&\r\n  item[0] !== \"Salary\" &&\r\n  item[0] !== \"Self\";\r\n\r\nconst getCategoryAndCents = (\r\n  transaction: TransactionClass,\r\n  rules: Rule[]\r\n): CategoryAndCents => {\r\n  const category = getCategory(transaction, rules);\r\n  return [category, -transaction.amount];\r\n};\r\n\r\nconst groupCategoryAndCentsArray = (\r\n  categoryAndCentsArray: CategoryAndCents[]\r\n): object => {\r\n  let groupedAsObject = {};\r\n  categoryAndCentsArray.forEach(item =>\r\n    groupCategoryAndCents(item, groupedAsObject)\r\n  );\r\n  return groupedAsObject;\r\n};\r\n\r\nexport const getExpensesByCategoryGraphData = (\r\n  transactions: TransactionClass[],\r\n  rules: Rule[]\r\n): ExpensesByCategoryGraphData => {\r\n  console.log(\"*** GETEXPENSESBYCATEGORYGRAPHDATA CALLED\");\r\n\r\n  const categoryAndCentsArray: CategoryAndCents[] = transactions.map(\r\n    transaction => getCategoryAndCents(transaction, rules)\r\n  );\r\n\r\n  const filtered = categoryAndCentsArray.filter(item =>\r\n    filterCategoryAndCents(item)\r\n  );\r\n\r\n  const grouped = groupCategoryAndCentsArray(filtered);\r\n  const groupedArray = Object.entries(grouped);\r\n  groupedArray.sort(sortCategoriesAndCents);\r\n\r\n  // const reducer = (total: number, item: CategoryAndCents) => total + item[1];\r\n  // const total = groupedArray.reduce(reducer, 0);\r\n  const total = getTotal(groupedArray, \"1\");\r\n\r\n  const { from, to, dayCount } = getDateRange(transactions);\r\n\r\n  const graphDataItems: GraphDataItem[] = groupedArray.map(item =>\r\n    getGraphDataItem(item, dayCount, total)\r\n  );\r\n\r\n  const totalPerMonth = perMonth(total, dayCount);\r\n\r\n  return {\r\n    graphDataItems,\r\n    total: Math.round(total / 100),\r\n    from,\r\n    to,\r\n    dayCount,\r\n    totalPerMonth,\r\n  };\r\n};\r\n","// Group array as object\r\nexport const groupCategoryAndCents = (item, groupedAsObject) => {\r\n  const category = item[0];\r\n  const amount = item[1];\r\n\r\n  groupedAsObject[category] = groupedAsObject[category]\r\n    ? groupedAsObject[category] + amount\r\n    : amount;\r\n};\r\n","// eg: const total = getTotal(categoriesAndCents, \"value\");\r\n// eg: const total2 = getTotal(groupedArray, \"1\");\r\nexport const getTotal = (objectArray, propertyName) => {\r\n  let total = 0;\r\n  objectArray.forEach(obj => (total += obj[propertyName]));\r\n  return total;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport {\n  // Pie chart for desktop\n  PieChart,\n  Pie,\n  Cell,\n  PieProps,\n  // Bar chart for mobile\n  BarChart,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Bar,\n} from \"recharts\"; // node_modules\\@types\\recharts\\index.d.ts\nimport { useWindowSize } from \"hooks\";\nimport { SELECT_ARRAYS, TRANSACTION_COUNT } from \"core/constants\";\nimport { centsToDecimal } from \"core/utils\";\nimport { Loading } from \"components\";\nimport { fetchRules } from \"services/rules\";\nimport { fetchTransactions } from \"services/transactions\";\nimport { getExpensesByCategoryGraphData } from \"process/charts\";\nimport { getCategoryColour } from \"core/colours\";\nimport cn from \"classnames\";\nimport s from \"./PercentageChartPage.module.css\";\n\nimport testdata from \"testdata/expensesByCategoryGraphData.json\";\n\nconst { CATEGORIES } = SELECT_ARRAYS;\n\ntype CategoryAndCent = {\n  name: string;\n  value: number;\n  label: string;\n};\nconst categoriesAndCentsDefault: CategoryAndCent[] = [];\n\ntype Props = {\n  isBoxed?: boolean;\n  cloud: boolean;\n  onBoxClick?: (target: string) => void;\n};\n\n// -------------------------------------\n// COMPONENT:\n// https://recharts.org/en-US/api/PieChart\nconst PercentageChartPage = ({\n  isBoxed = false,\n  cloud,\n  onBoxClick = () => {},\n}: Props) => {\n  // HOOKS:\n  const { desktop, mobile, width } = useWindowSize();\n\n  const isFullPage = !isBoxed;\n  const title = \"Percentage: expenses per category (/mo)\";\n\n  const getFactors = (): number[] => {\n    if (isBoxed) return [0.61, 2, 1.75, 1.7];\n    if (mobile) return [0.42, 0.5, 1.75, 1.7];\n    return [1, 1, 1, 1];\n  };\n\n  const [factor, outerRadiusFactor, heightFactor, cyFactor] = getFactors();\n\n  // STATE:\n  const [categoriesAndCents, setCategoriesAndCents] = useState(\n    categoriesAndCentsDefault\n  );\n  const [total, setTotal] = useState(0);\n  const [from, setFrom] = useState(\"\");\n  const [to, setTo] = useState(\"\");\n  const [dayCount, setDayCount] = useState(0);\n  const [totalPerMonth, setTotalPerMonth] = useState(0);\n\n  const getData = async () => {\n    if (cloud) {\n      return testdata;\n    } else {\n      const r = await fetchRules(cloud);\n      const t = await fetchTransactions(0, TRANSACTION_COUNT, cloud);\n      const data = getExpensesByCategoryGraphData(t, r);\n      return data;\n    }\n  };\n\n  // EFFECTS - GET DATA:\n  useEffect(() => {\n    const fetchData = async () => {\n      const {\n        graphDataItems,\n        total,\n        from,\n        to,\n        dayCount,\n        totalPerMonth,\n      } = await getData();\n\n      setCategoriesAndCents(graphDataItems);\n      setTotal(total);\n      setFrom(from);\n      setTo(to);\n      setDayCount(dayCount);\n      setTotalPerMonth(totalPerMonth);\n    };\n    fetchData();\n    return () => {}; // on unmount\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [cloud]);\n\n  // FUNCTIONS:\n  type PieProps2 = { index: number };\n  const renderCustomizedLabel = (props: PieProps) => {\n    const { index } = (props as unknown) as PieProps2;\n    return categoriesAndCents[index].label;\n  };\n\n  if (isFullPage && (categoriesAndCents.length === 0 || !from || !to)) {\n    return <Loading />;\n  }\n\n  const barChartData = mobile\n    ? categoriesAndCents\n        .slice(categoriesAndCents.length - 20)\n        .map(x => ({\n          ...x,\n          name: x.name.replace(\" \", \"-\"),\n          value: (x.value / total / 100).toFixed(3),\n        }))\n        .reverse()\n    : [];\n\n  return (\n    <div\n      className={cn(\"page\", s.root)}\n      onClick={isFullPage ? () => {} : () => onBoxClick(\"/percentage\")}\n    >\n      {isFullPage ? <h3>{title}</h3> : <h4>{title}</h4>}\n\n      {desktop && (\n        <PieChart width={800 * factor} height={450 * factor * heightFactor}>\n          <Pie\n            data={categoriesAndCents}\n            cx={400 * factor}\n            cy={225 * factor * cyFactor}\n            labelLine={false}\n            label={isFullPage ? renderCustomizedLabel : () => \"\"}\n            outerRadius={180 * factor * outerRadiusFactor}\n            fill=\"#8884d8\"\n            dataKey=\"value\"\n            isAnimationActive={false}\n            // blendStroke={true}\n          >\n            {categoriesAndCents.map(item => (\n              <Cell\n                key={item.name}\n                fill={getCategoryColour(CATEGORIES, item.name)}\n              />\n            ))}\n          </Pie>\n        </PieChart>\n      )}\n\n      {mobile && (\n        <BarChart\n          width={width ? width - 30 : 800}\n          height={600}\n          layout=\"vertical\"\n          data={barChartData}\n          maxBarSize={100}\n          margin={{ left: 50 }}\n        >\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis type=\"number\" />\n          <YAxis dataKey=\"name\" type=\"category\" />\n          <Tooltip />\n          {/* <Legend /> */}\n          <Bar dataKey=\"value\" /* unit=\"%\" */ fill=\"#8884d8\" />\n          {/* <Bar dataKey=\"uv\" fill=\"#82ca9d\" /> */}\n        </BarChart>\n      )}\n\n      {isFullPage && (\n        <>\n          <div>\n            {from} - {to}\n          </div>\n          <div>{totalPerMonth} a month</div>\n          <div>\n            {total} in {dayCount} days\n          </div>\n\n          {desktop && (\n            <>\n              <br />\n              <table className={s.categoryTable}>\n                <thead>\n                  <tr>\n                    <th>Category</th>\n                    <th>Month</th>\n                    <th>%</th>\n                    <th>Period</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {[...categoriesAndCents].reverse().map((item, index) => (\n                    <tr key={`${item.name}_${index}`}>\n                      <td>{item.name}</td>\n\n                      {item.label ? (\n                        item.label\n                          .replace(item.name, \"\")\n                          .replace(\"(\", \"\")\n                          .replace(\")\", \"\")\n                          .replace(\"%\", \"\")\n                          .split(\" \")\n                          .filter(Boolean) // delete empty\n                          .map((x, index) => <td key={index}>{x}</td>)\n                      ) : (\n                        <>\n                          <td key=\"a\"></td>\n                          <td key=\"b\"></td>\n                        </>\n                      )}\n\n                      <td>{centsToDecimal(item.value.toString())}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default PercentageChartPage;\n","import { Rule } from \"../core/types\";\r\nimport { TransactionClass } from \"core/TransactionClass\";\r\nimport { getCategoryRule } from \"./categories\";\r\n\r\nconst extendTransaction = (\r\n  transaction: TransactionClass,\r\n  index: number,\r\n  rule: Rule | null\r\n): TransactionClass =>\r\n  rule\r\n    ? {\r\n        ...transaction,\r\n        index: index + 1,\r\n        rule,\r\n        category: rule.category,\r\n      }\r\n    : {\r\n        ...transaction,\r\n        index: index + 1,\r\n        category: \"category-not-found-3\",\r\n      };\r\n\r\nexport const extendTransactions = (\r\n  transactions: TransactionClass[],\r\n  start: number,\r\n  rules: Rule[]\r\n): TransactionClass[] => {\r\n  return transactions.map((transaction, index) => {\r\n    const rule = getCategoryRule(transaction, rules);\r\n\r\n    return extendTransaction(transaction, start + index, rule);\r\n  });\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Match } from \"core/types\";\nimport { TransactionClass } from \"core/TransactionClass\";\nimport { getIdFromMatch } from \"core/utils\";\nimport { NewRule, TransactionList } from \"components\";\nimport { fetchTransactions } from \"services/transactions\";\nimport { extendTransactions } from \"process/transactions\";\nimport { fetchRules } from \"services/rules\";\nimport s from \"./RulesPage.module.css\";\n\nconst TransactionsDefault: TransactionClass[] = [];\n\ntype Props = {\n  match: Match;\n  isMasked: boolean;\n};\n\n// ----------\n// COMPONENT:\nconst RulesPage = ({ match, isMasked }: Props) => {\n  const history = useHistory();\n\n  // STATE:\n  const [transactions, setTransactions] = useState(TransactionsDefault);\n  const [rules, setRules] = useState([]);\n  const id = getIdFromMatch(match);\n\n  // EFFECTS - GET DATA:\n  useEffect(() => {\n    const fetchData = async () => {\n      const r = await fetchRules();\n      setRules(r);\n\n      if (id) {\n        const index = id - 1;\n        const t = await fetchTransactions(index, index + 1);\n        const extended = extendTransactions(t, index, r);\n        setTransactions(extended);\n      }\n    };\n    fetchData();\n\n    return () => {}; // on unmount\n  }, [id, match]);\n\n  // CLICKS:\n  const onSaveClick = () => {\n    history.replace(`/transactions/transaction=${id}`);\n  };\n\n  return (\n    <div className={s.root}>\n      {transactions && transactions.length > 0 && (\n        <>\n          <div className={s.box}>\n            <TransactionList\n              transactions={transactions}\n              clickable={false}\n              urlId={0}\n              isHashVisible={true}\n              isMasked={isMasked}\n            />\n          </div>\n          <div className={s.box}>\n            <NewRule transaction={transactions[0]} onSaveClick={onSaveClick} />\n          </div>\n        </>\n      )}\n\n      <h3>Rules</h3>\n      <div>\n        {rules.map((rule, index) => (\n          <div key={index}>{Object.values(rule).join(\", \")}</div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default RulesPage;\n","import React, { useState, useEffect } from \"react\";\r\nimport { useNotifications } from \"hooks\";\r\nimport { Match } from \"core/types\";\r\nimport { TransactionClass } from \"core/TransactionClass\";\r\nimport { getIdFromMatch } from \"core/utils\";\r\nimport { Loading, TransactionList, TransactionsPageHeader } from \"components\";\r\nimport { fetchRules } from \"services/rules\";\r\nimport { fetchTransactions } from \"services/transactions\";\r\nimport { extendTransactions } from \"process/transactions\";\r\nimport cn from \"classnames\";\r\nimport s from \"./TransactionsPage.module.css\";\r\n\r\nconst PAGE_SIZE = 10;\r\n\r\nconst transactionsDefault: TransactionClass[] = [];\r\n\r\ntype Props = {\r\n  match: Match;\r\n  cloud: boolean;\r\n  isMasked: boolean;\r\n};\r\n\r\n// ----------\r\n// COMPONENT:\r\nconst TransactionsPage = ({ match, cloud, isMasked }: Props) => {\r\n  const development = process.env.NODE_ENV === \"development\";\r\n  const id: number = getIdFromMatch(match) || 1;\r\n  const pageIndexDefault = Math.floor((id - 1) / PAGE_SIZE);\r\n\r\n  // STATE:\r\n  const [pageIndex, setPageIndex] = useState(pageIndexDefault);\r\n  const [transactions, setTransactions] = useState(transactionsDefault);\r\n\r\n  // CUSTOM HOOKS:\r\n  const { info } = useNotifications();\r\n\r\n  // EFFECTS - GET DATA:\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const r = await fetchRules(cloud);\r\n      const start = pageIndex * PAGE_SIZE;\r\n      const end = start + PAGE_SIZE;\r\n      const fetched = await fetchTransactions(start, end, cloud);\r\n      if (fetched) {\r\n        info(`Transactions fetched: ${start + 1}..${end}`);\r\n        const extended = extendTransactions(fetched, start, r);\r\n        setTransactions(extended);\r\n      } else {\r\n        console.error(\"ERROR: fetchTransactions empty\");\r\n      }\r\n    };\r\n    fetchData();\r\n    return () => {}; // on unmount\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pageIndex, cloud]);\r\n\r\n  // CLICKS:\r\n  const onTransactionsPageHeaderButtonClick = (increment: number): void =>\r\n    setPageIndex(pageIndex + increment);\r\n\r\n  if (!transactions || transactions.length === 0) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <div className={cn(\"page\", s.root)}>\r\n      <TransactionsPageHeader\r\n        pageIndex={pageIndex}\r\n        onClick={onTransactionsPageHeaderButtonClick}\r\n      />\r\n\r\n      {transactions && transactions.length > 0 && (\r\n        <TransactionList\r\n          transactions={transactions}\r\n          clickable={development ? true : false}\r\n          urlId={id}\r\n          isHashVisible={false}\r\n          isMasked={isMasked}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionsPage;\r\n","import { CATEGORIES, CATEGORIES_IGNORED_DEFAULT } from \"core/constants\";\r\n\r\n// Generic function\r\nexport const sortArrayByMember = (memberIndex, a, b) =>\r\n  a[memberIndex] - b[memberIndex];\r\n\r\nexport const groupByCategory = (item, groupedArrayObject) => {\r\n  const [category, amount] = item;\r\n  const currentAmount = groupedArrayObject[category];\r\n  groupedArrayObject[category] = currentAmount\r\n    ? currentAmount + amount\r\n    : amount;\r\n};\r\n\r\nexport const getTotalsByCategory = chartData => {\r\n  const groupedArrayObject = {};\r\n  const months = Object.values(chartData);\r\n\r\n  months.forEach(month => {\r\n    const entriesExceptName = Object.entries(month).filter(\r\n      item => item[0] !== \"name\"\r\n    );\r\n    entriesExceptName.forEach(entry =>\r\n      groupByCategory(entry, groupedArrayObject)\r\n    );\r\n  });\r\n\r\n  const groupedArray = Object.entries(groupedArrayObject);\r\n  groupedArray.sort((a, b) => sortArrayByMember(1, a, b));\r\n  groupedArray.reverse();\r\n  return groupedArray;\r\n};\r\n\r\nexport const group = (item, groupedArrayObject) => {\r\n  const { index, value } = item;\r\n  const currentValue = groupedArrayObject[index];\r\n  groupedArrayObject[index] = currentValue ? currentValue + value : value;\r\n};\r\n\r\nexport const spread = (item, groupedByMonth) => {\r\n  const [index, value] = item;\r\n  const [month, category] = index.split(\"_\");\r\n\r\n  if (!groupedByMonth[month]) {\r\n    groupedByMonth[month] = { name: month };\r\n  }\r\n\r\n  groupedByMonth[month][category] = -value;\r\n};\r\n\r\nexport const getCategoryFilterDefault = max => {\r\n  const objectArray = {};\r\n  let count = 0;\r\n\r\n  CATEGORIES.forEach(category => {\r\n    if (count < max && !CATEGORIES_IGNORED_DEFAULT.includes(category)) {\r\n      objectArray[category] = true;\r\n      count += 1;\r\n    } else {\r\n      objectArray[category] = false;\r\n    }\r\n  });\r\n\r\n  return objectArray;\r\n};\r\n\r\nexport const getInitialCategoryFilterJs = largestCategories => {\r\n  const max = 5; // 7\r\n  const objectArray = {};\r\n\r\n  CATEGORIES.forEach(category => {\r\n    objectArray[category] = !CATEGORIES_IGNORED_DEFAULT.includes(category);\r\n  });\r\n\r\n  const largestCategoriesNotIgnored = largestCategories.filter(\r\n    c => !CATEGORIES_IGNORED_DEFAULT.includes(c)\r\n  );\r\n\r\n  for (let i = max; i < largestCategoriesNotIgnored.length; i += 1) {\r\n    objectArray[largestCategoriesNotIgnored[i]] = false;\r\n  }\r\n\r\n  return objectArray;\r\n};\r\n\r\nexport const applyFilter = (categories, categoryFilter) => {\r\n  const largestCategoriesFiltered = categories.filter(c => categoryFilter[c]);\r\n  return largestCategoriesFiltered;\r\n};\r\n\r\nexport const toggleCategoryFilterJs = (categoryFilter, category) => {\r\n  const objectArray = {};\r\n  Object.entries(categoryFilter).forEach(f => {\r\n    objectArray[f[0]] = f[0] === category ? !f[1] : f[1];\r\n  });\r\n  return objectArray;\r\n};\r\n","import { Rule } from \"core/types\";\r\nimport { TransactionClass } from \"core/TransactionClass\";\r\nimport {\r\n  group,\r\n  getInitialCategoryFilterJs,\r\n  getTotalsByCategory,\r\n  spread,\r\n  toggleCategoryFilterJs\r\n} from \"./trends_js.js\";\r\nimport { getCategory } from \"./categories\";\r\n\r\ntype TrendsChartData = any[];\r\n\r\nconst mapTransactions = (transaction: TransactionClass, rules: Rule[]) => {\r\n  const { amount, date, category } = transaction;\r\n  const month = date.substring(2, 6); // yymm\r\n\r\n  return {\r\n    index: `${month}_${category}`,\r\n    value: amount / 100\r\n  };\r\n};\r\n\r\nconst addCategoriesToTransactions = (\r\n  transactions: TransactionClass[],\r\n  rules: Rule[]\r\n) => {\r\n  transactions.forEach(t => (t.category = getCategory(t, rules)));\r\n};\r\n\r\nconst getChartData = (transactions: TransactionClass[], rules: Rule[]): [] => {\r\n  const mapped = transactions.map(t => mapTransactions(t, rules));\r\n  const grouped = {};\r\n  mapped.forEach(item => group(item, grouped));\r\n\r\n  const groupedByMonth = {};\r\n  Object.entries(grouped).forEach(item => spread(item, groupedByMonth));\r\n  return Object.values(groupedByMonth) as [];\r\n};\r\n\r\nexport const getCategoriesFromChartData = (chartData: any[]): string[] => {\r\n  const groupedArray = getTotalsByCategory(chartData);\r\n  return groupedArray.map(item => item[0]);\r\n};\r\n\r\nexport const getTrendsChartData = (\r\n  transactions: TransactionClass[],\r\n  rules: Rule[]\r\n): TrendsChartData => {\r\n  console.log(\"*** GETTRENDSCHARTDATA CALLED\");\r\n  addCategoriesToTransactions(transactions, rules);\r\n\r\n  const chartData: TrendsChartData = getChartData(transactions, rules);\r\n  return chartData;\r\n};\r\n\r\nexport const getInitialCategoryFilter = (categories: string[]): Object =>\r\n  getInitialCategoryFilterJs(categories);\r\n\r\nexport const toggleCategoryFilter = (\r\n  categoryFilter: object,\r\n  category: string\r\n) => {\r\n  return toggleCategoryFilterJs(categoryFilter, category);\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport { useWindowSize } from \"hooks\";\nimport { TRANSACTION_COUNT } from \"core/constants\";\nimport { fetchRules } from \"services/rules\";\nimport { fetchTransactions } from \"services/transactions\";\nimport {\n  getTrendsChartData,\n  getCategoriesFromChartData,\n  getInitialCategoryFilter,\n  toggleCategoryFilter,\n} from \"process/trends\";\nimport { applyFilter } from \"process/trends_js.js\";\nimport {\n  AreaChartStacked,\n  AreaChartNonstacked,\n  CategorySelector,\n  Loading,\n  TrendChartPageHeader,\n} from \"components\";\nimport cn from \"classnames\";\nimport s from \"./TrendChartPage.module.css\";\n\nimport testdata from \"testdata/trendsChartData.json\";\n\nconst CATEGORIES_DEFAULT: string[] = [];\nconst TRENDS_CHART_DATA_DEFAULT: any[] = [];\nconst CATEGORY_FILTER_DEFAULT: object = {};\n\ntype Props = {\n  isBoxed?: boolean;\n  cloud: boolean;\n  onBoxClick?: (target: string) => void;\n};\n\n// ----------\n// COMPONENT:\nconst TrendChartPage = ({\n  isBoxed = false,\n  cloud,\n  onBoxClick = () => {},\n}: Props) => {\n  // HOOKS:\n  const { mobile } = useWindowSize();\n\n  const isFullPage = !isBoxed;\n  const factor = isFullPage ? 1 : 0.6;\n\n  // STATE:\n  const [trendsChartData, setTrendsChartData] = useState(\n    TRENDS_CHART_DATA_DEFAULT\n  );\n  const [categories, setCategories] = useState(CATEGORIES_DEFAULT);\n  const [isStacked, setIsStacked] = useState(true);\n  const [categoryFilter, setCategoryFilter] = useState(CATEGORY_FILTER_DEFAULT);\n  const [categoriesFiltered, setCategoriesFiltered] = useState([]);\n\n  // EFFECTS - GET DATA:\n  useEffect(() => {\n    const fetchData = async () => {\n      const r = await fetchRules(cloud);\n      const t = await fetchTransactions(0, TRANSACTION_COUNT, cloud);\n\n      const cd = cloud ? testdata : getTrendsChartData(t, r);\n\n      const c = getCategoriesFromChartData(cd);\n      const f: object = getInitialCategoryFilter(c);\n\n      setTrendsChartData(cd);\n      setCategories(c);\n      setCategoryFilter(f);\n    };\n    fetchData();\n    return () => {}; // on unmount\n  }, [cloud]); // Only once\n\n  // EFFECTS - CATEGORY FILTER:\n  useEffect(() => {\n    const fetchData = async () => {\n      const filtered = applyFilter(categories, categoryFilter);\n      setCategoriesFiltered(filtered);\n    };\n    fetchData();\n    return () => {}; // on unmount\n  }, [categories, categoryFilter]);\n\n  // CLICKS:\n  const onCategoryClick = (category: string): void => {\n    const cf = toggleCategoryFilter(categoryFilter, category);\n    setCategoryFilter(cf);\n  };\n  const onStackedClick = (): void => {\n    setIsStacked(!isStacked);\n  };\n\n  if (isFullPage && trendsChartData.length === 0) {\n    return (\n      <div className={cn(\"page\", s.root)}>\n        <Loading />\n      </div>\n    );\n  }\n\n  // RENDER:\n  return (\n    <div\n      className={cn(\"page\", s.root)}\n      onClick={isFullPage ? () => {} : () => onBoxClick(\"/trend\")}\n    >\n      <TrendChartPageHeader\n        isStacked={isStacked}\n        isBoxed={isBoxed}\n        onStackedClick={onStackedClick}\n      />\n\n      <div\n        className={cn(s.chartAndLegend, { [s.chartAndLegendMobile]: mobile })}\n      >\n        {isStacked ? (\n          <AreaChartStacked\n            data={trendsChartData}\n            categories={[...categoriesFiltered].reverse()}\n            factor={factor}\n          />\n        ) : (\n          <AreaChartNonstacked\n            data={trendsChartData}\n            categories={[...categoriesFiltered].reverse()}\n            factor={factor}\n          />\n        )}\n\n        {isFullPage && (\n          <CategorySelector\n            categories={categories}\n            categoriesFiltered={categoriesFiltered}\n            onCategoryClick={onCategoryClick}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TrendChartPage;\n","import React, { useState } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { AppContext, DefaultContext } from \"appContext.ts\";\nimport {\n  CategoriesPage,\n  HomePage,\n  PercentageChartPage,\n  RulesPage,\n  TransactionsPage,\n  TrendChartPage,\n} from \"./pages\";\nimport { PageHeader, PageFooter } from \"components\";\n\nconst route = (path, page) => <Route path={path}>{page}</Route>;\n\nfunction App() {\n  // https://create-react-app.dev/docs/adding-custom-environment-variables/\n  const production = process.env.NODE_ENV === \"production\";\n  const development = process.env.NODE_ENV === \"development\";\n\n  // STATE:\n  const [isCloud, setIsCloud] = useState(production ? true : false);\n  const [isMasked, setIsMasked] = useState(production ? true : false);\n\n  // CLICK:\n  const onCloudClick = () => setIsCloud(production ? true : !isCloud);\n  const onMaskClick = () => setIsMasked(production ? true : !isMasked);\n\n  return (\n    <AppContext.Provider value={DefaultContext}>\n      <PageHeader\n        cloud={isCloud}\n        onCloudClick={onCloudClick}\n        mask={isMasked}\n        onMaskClick={onMaskClick}\n      />\n\n      <Switch>\n        <Route\n          path=\"/transactions/transaction=:id\"\n          render={({ match, isMasked }) => (\n            <TransactionsPage match={match} isMasked={isMasked} />\n          )}\n        />\n\n        {route(\n          \"/transactions\",\n          <TransactionsPage cloud={isCloud} isMasked={isMasked} />\n        )}\n\n        <Route\n          path=\"/rules/transaction=:id\"\n          render={({ match }) => <RulesPage match={match} mask={isMasked} />}\n        />\n\n        {route(\"/percentage\", <PercentageChartPage cloud={isCloud} />)}\n        {route(\"/trend\", <TrendChartPage cloud={isCloud} />)}\n\n        {development && route(\"/rules\", <RulesPage mask={isMasked} />)}\n        {development && route(\"/categories\", <CategoriesPage />)}\n        {route(\"/\", <HomePage />)}\n      </Switch>\n\n      <PageFooter />\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"./index.css\";\n\nconst Root = () => (\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n);\n\n// ReactDOM.render(<App />, document.getElementById(\"root\"));\nrender(<Root />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Link_root__2q-FQ\",\"desktop\":\"Link_desktop__3em4k\",\"activeLink\":\"Link_activeLink__1XRS_\",\"title\":\"Link_title__3tDYH\",\"mobile\":\"Link_mobile__3SCFO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Modal_root__H_OAu\",\"box\":\"Modal_box__2NSo5\",\"header\":\"Modal_header__7I9hp\",\"footer\":\"Modal_footer__2_JkN\",\"component\":\"Modal_component__1ZvcK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PageHeader_root__3yIsu\",\"stickyTop\":\"PageHeader_stickyTop__1iTpz\",\"stickyBottom\":\"PageHeader_stickyBottom__FOP0U\",\"appTitle\":\"PageHeader_appTitle__13EYt\",\"logo\":\"PageHeader_logo__1Vk6A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Icon_root__xwvM_\",\"small\":\"Icon_small__3c1wk\",\"clickable\":\"Icon_clickable__28mYN\",\"Categories\":\"Icon_Categories__dIWyl\",\"Home\":\"Icon_Home__1haPR\",\"Percentage\":\"Icon_Percentage__3JZtL\",\"Rules\":\"Icon_Rules__P1cFX\",\"Transactions\":\"Icon_Transactions__3quFY\",\"Trend\":\"Icon_Trend__kw7eX\",\"info\":\"Icon_info__1hJtw\",\"debug\":\"Icon_debug__3WQ4X\",\"warning\":\"Icon_warning__1fHLN\",\"error\":\"Icon_error__3-aQx\",\"cloudOff\":\"Icon_cloudOff__3G4vz\",\"cloudOn\":\"Icon_cloudOn__1DVp2\",\"menu\":\"Icon_menu__2i7aM\",\"maskOff\":\"Icon_maskOff__XTkuS\",\"maskOn\":\"Icon_maskOn__mkygH\",\"next\":\"Icon_next__1AZbo\",\"no\":\"Icon_no__giUBG\",\"previous\":\"Icon_previous__ykC19\",\"question\":\"Icon_question__1NnIn\",\"save\":\"Icon_save__1zeoS\",\"yes\":\"Icon_yes__Ku0lb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NewRuleTable_root__1dRY9\",\"equalWidth\":\"NewRuleTable_equalWidth___jh4c\",\"headerRow\":\"NewRuleTable_headerRow__k-Jlu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TrendChartPage_root__1AAgD\",\"chartAndLegend\":\"TrendChartPage_chartAndLegend__3VIqe\",\"chartAndLegendMobile\":\"TrendChartPage_chartAndLegendMobile__3oMIL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"CategoryIconAndLabel_root__Srg1c\",\"fullWidth\":\"CategoryIconAndLabel_fullWidth__S6ZwL\",\"itemIcon\":\"CategoryIconAndLabel_itemIcon__2Q8WX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"CategoryLegend_root__11AcU\",\"categoryColour\":\"CategoryLegend_categoryColour__XPX2z\",\"selected\":\"CategoryLegend_selected__2arQ3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Notification_root__1LGz8\",\"message\":\"Notification_message__2PlZb\",\"info\":\"Notification_info__RqWvI\",\"warning\":\"Notification_warning__qmG1L\",\"error\":\"Notification_error__3DZhq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PageFooter_root__2NOLn\",\"copyright\":\"PageFooter_copyright__2YVUX\",\"leftSide\":\"PageFooter_leftSide__15tAU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Transaction_root__3wN-s\",\"clickable\":\"Transaction_clickable__2MHgV\",\"incoming\":\"Transaction_incoming__1-0_t\",\"highlightIndex\":\"Transaction_highlightIndex__2FSoB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TransactionList_root__3XQEn\",\"tableDesktop\":\"TransactionList_tableDesktop__3zOBM\",\"tableMobile\":\"TransactionList_tableMobile__2ne0B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"RulesPage_root__1KdZU\",\"box\":\"RulesPage_box__P6k_-\"};"],"sourceRoot":""}