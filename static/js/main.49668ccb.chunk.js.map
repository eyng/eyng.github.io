{"version":3,"sources":["components/categoryIcon/CategoryIcon.module.css","components/categorySelector/CategorySelector.module.css","components/field/Field.module.css","components/loading/Loading.module.css","components/numberInput/NumberInput.module.css","components/spinner/Spinner.module.css","components/toggleButton/ToggleButton.module.css","components/valueInput/ValueInput.module.css","pages/percentageChartPage/PercentageChartPage.module.css","pages/categoriesPage/CategoriesPage.module.css","pages/homePage/HomePage.module.css","components/areaChartNonstacked/AreaChartNonstacked.module.css","components/areaChartStacked/AreaChartStacked.module.css","components/desktopMenu/DesktopMenu.module.css","components/fieldCopier/FieldCopier.module.css","components/iconButton/IconButton.module.css","components/mobileMenu/MobileMenu.module.css","components/newRule/NewRule.module.css","components/newRuleHeader/NewRuleHeader.module.css","components/notifications/Notifications.module.css","components/pageFooter/PageFooter.module.css","components/pageHeaderButtons/PageHeaderButtons.module.css","components/select/Select.module.css","components/transactionsPageHeader/TransactionsPageHeader.module.css","components/transactionsPageHeaderButtons/TransactionsPageHeaderButtons.module.css","components/transactionsTableHeader/TransactionsTableHeader.module.css","components/trendChartPageHeader/TrendChartPageHeader.module.css","components/trendChartPageHeaderButtons/TrendChartPageHeaderButtons.module.css","pages/transactionsPage/TransactionsPage.module.css","components/selectWithIcons/SelectWithIcons.module.css","core/constants.ts","appContext.ts","core/utils.ts","services/constants.ts","services/utils.ts","services/hashAndCategoryArray.ts","services/rules.ts","core/TransactionClass.ts","services/transactions.ts","process/categories.ts","process/categories_js.js","pages/categoriesPage/CategoriesPage.tsx","pages/homePage/HomePage.tsx","hooks/useModal.ts","hooks/useNotifications.ts","hooks/useWindowSize.ts","core/colours.ts","components/areaChartNonstacked/AreaChartNonstacked.tsx","components/areaChartStacked/AreaChartStacked.tsx","components/categoryIcon/CategoryIcon.tsx","components/categoryIconAndLabel/CategoryIconAndLabel.tsx","components/categoryLegend/CategoryLegend.tsx","components/categorySelector/CategorySelector.tsx","components/desktopMenu/DesktopMenu.tsx","process/field.ts","components/field/Field.tsx","components/fieldCopier/FieldCopier.tsx","components/icon/Icon.tsx","components/iconButton/IconButton.tsx","components/link/Link.tsx","components/loading/Loading.tsx","components/mobileMenu/MobileMenu.tsx","components/modal/Modal.tsx","components/newRule/NewRule.tsx","components/newRuleHeader/NewRuleHeader.tsx","components/newRuleTable/NewRuleTable.tsx","components/notification/Notification.tsx","components/notifications/Notifications.tsx","components/numberInput/NumberInput.tsx","components/pageFooter/PageFooter.tsx","components/pageHeader/PageHeader.tsx","components/pageHeaderButtons/PageHeaderButtons.tsx","components/select/Select.tsx","components/selectWithIcons/SelectWithIcons.tsx","components/toggleButton/ToggleButton.tsx","components/transaction/Transaction.tsx","components/transactionList/TransactionList.tsx","components/transactionsPageHeader/TransactionsPageHeader.tsx","components/transactionsPageHeaderButtons/TransactionsPageHeaderButtons.tsx","components/transactionsTableHeader/TransactionsTableHeader.tsx","components/trendChartPageHeader/TrendChartPageHeader.tsx","components/trendChartPageHeaderButtons/TrendChartPageHeaderButtons.tsx","components/valueInput/ValueInput.tsx","process/charts.ts","process/charts_js.js","core/utils_js.js","pages/percentageChartPage/PercentageChartPage.tsx","process/transactions.ts","pages/rulesPage/RulesPage.tsx","pages/transactionsPage/TransactionsPage.tsx","process/trends_js.js","process/trends.ts","pages/trendChartPage/TrendChartPage.tsx","App.js","serviceWorker.js","index.js","components/link/Link.module.css","components/modal/Modal.module.css","components/pageHeader/PageHeader.module.css","components/icon/Icon.module.css","components/newRuleTable/NewRuleTable.module.css","pages/trendChartPage/TrendChartPage.module.css","components/categoryIconAndLabel/CategoryIconAndLabel.module.css","components/categoryLegend/CategoryLegend.module.css","components/notification/Notification.module.css","components/transaction/Transaction.module.css","components/transactionList/TransactionList.module.css","pages/rulesPage/RulesPage.module.css"],"names":["module","exports","FIELD","DefaultContext","addNotification","openModal","AppContext","React","createContext","centsToDecimal","cents","replace","length","slice","getIdFromMatch","match","id","params","parseInt","getObjectValueString","object","key","item","Object","entries","find","splitLongStringAt","s","position","splitStringAt","MONTHS","parse20191231","dateString","substring","convert20191231toDate","year","month","day","Date","convert20191231to31_Dec_2019","monthMMM","CODE","AC","BA","BC","BG","CB","CK","DB","EB","EI","GA","GB","ID","KH","MA","NB","SB","SP","TB","TG","CR","D","CATEGORIES","SELECT_ARRAYS","operationIncludesValue2","operationIndex","CATEGORY_ICONS","Bank","Car","Cash","Cleaner","Clothing","Dental","Donations","Driving","Electronics","Energy","Garden","Groceries","House","Ignore","Internet","Mortgage","Nat","Optician","Pets","Phone","Salary","Self","Starbucks","Sundries","Travel","Unknown","CATEGORIES_IGNORED_DEFAULT","MAIN","URL","HASHANDCATEGORYARRAY","RULES","TRANSACTIONS","fetchUrl","url","a","async","fetch","response","json","handleErrors","ok","Error","statusText","postJson","method","mode","cache","credentials","headers","redirect","referrer","body","JSON","stringify","then","console","log","catch","error","deleteHashAndCategoryArray","res","text","fetchRules","rules","testdata","addRule","dataJson","obj","nullsRemoved","reduce","k","v","TransactionClass","data","index","date","name","counterAccount","code","isIncoming","amount","type","remarks","rule","category","hash","getFieldValueString","fieldName","toLowerCase","toString","ACCOUNT","this","DATE","NAME","COUNTER_ACCOUNT","INCOMING","parseFloat","AMOUNT","TYPE","REMARKS","join","split","b","charCodeAt","fetchTransactions","start","end","transactions","map","t","equals","s1","s2","caseSensitive","includes","startsWith","getCategory","transaction","getCategoryRule","fieldValue","field","operation","value1","op","func","lessMoreAmount","Number","Math","abs","lessMore","ruleMatches","calculateHashAndCategoryArray","hashAndCategoryObjectArray","objectArray","forEach","populateHashAndCategoryObjectArray","CategoriesPage","useState","hashAndCategoryArrayFetched","setHashAndCategoryArrayFetched","hashAndCategoryArrayCalculated","setHashAndCategoryArrayCalculated","useEffect","hca","array","fetchData","keys","className","cn","root","onClick","r","result","HomePage","useHistory","useModal","useContext","useNotifications","info","message","debug","warning","mobileMaxWidth","useWindowSize","isClient","window","getSize","desktop","innerWidth","mobile","width","height","innerHeight","windowSize","setWindowSize","handleResize","addEventListener","removeEventListener","COLOURS","getCategoryColour","categoryIndex","indexOf","AreaChartNonstacked","categories","factor","margin","top","right","left","bottom","colour","x1","y1","x2","y2","offset","stopColor","stopOpacity","dataKey","strokeDasharray","baseLine","stroke","fillOpacity","fill","AreaChartStacked","stackId","CategoryIcon","CategoryIconAndLabel","fullWidth","iconOnly","onChange","style","backgroundColor","itemIcon","CategoryLegend","categoriesFiltered","c","isSelected","selectedClass","selected","categoryColor","categoryColour","Category","CategorySelector","onCategoryClick","categoryColours","link","to","title","DesktopMenu","nav","fieldsToRandomise","randomiseCharCode","charCode","next","floor","random","String","fromCharCode","randomiseString","value","randomised","i","push","processField","isMasked","Field","valueStringBefore","valueStringMiddle","valueStringAfter","valueString","valueNumber","categoryEmpty","textAlign","highlight","FieldCopier","copyButton","Icon","small","clickable","IconButton","iconName","icon","Link","exact","activeClassName","activeLink","Loading","count","setCount","interval","setInterval","everySecond","clearInterval","content","MobileMenu","onMenuIconClick","ContentDefault","OnYesClickDefault","Modal","context","opened","setOpened","component","setComponent","onYesClick","setOnYesClick","componentInput","onYesClickInput","box","header","footer","NewRule","propsOnSaveClick","onSaveClick","setCategoryIndex","fieldIndex","setFieldIndex","setOperationIndex","caseSensitivityIndex","setCaseSensitivityIndex","setValue1","value2","setValue2","lessMoreIndex","setLessMoreIndex","setLessMoreAmount","FIELDS","NO_YES","OPERATIONS","LESS_MORE","onSaveConfirm","onCopyClick","onCategoryChange","onFieldChange","event","target","onOperationChange","onCaseSensitivityChange","onValueChange","valueIndex","onLessMoreChange","onLessMoreAmountChange","NewRuleHeader","NewRuleTable","equalWidth","headerRow","items","min","decimalPoints","Notification","notification","severity","DefaultNotifications","Notifications","notifications","setNotifications","filtered","n","secondsLeft","filter","newArray","shift","NumberInput","max","stateValue","setStateValue","short","placeholder","onFocus","onBlur","input","toFixed","validateNumber","PageFooter","PageHeader","network","onNetworkClick","mask","onMaskClick","isMobileMenuOpen","setIsMobileMenuOpen","stickyTop","appTitle","logo","alt","src","stickyBottom","PageHeaderButtons","Select","SelectWithIcons","expanded","setExpanded","topBar","topBarText","topBarButton","selectMarker","ToggleButton","on","Transaction","urlId","isHashVisible","history","fieldString","splitAt","fieldStringUnderlined","ruleField","fv","v1","fieldNumber","incomingClass","incoming","clickableClass","highlightIndexClass","highlightIndex","handleClick","TransactionList","tableMobile","tableDesktop","TransactionsPageHeader","pageIndex","TransactionsPageHeaderButtons","percentage","document","handleKeyDown","TransactionsTableHeader","TrendChartPageHeader","isStacked","isBoxed","onStackedClick","isFullPage","TrendChartPageHeaderButtons","ValueInput","valueTitle","sortCategoriesAndCents","getDateRange","fromString","from","dayCount","milliseconds","getTime","round","daysBetween","perMonth","days","getExpensesByCategoryGraphData","grouped","categoryAndCentsArray","groupedAsObject","groupCategoryAndCents","groupCategoryAndCentsArray","getCategoryAndCents","filterCategoryAndCents","groupedArray","sort","total","propertyName","getTotal","graphDataItems","valueToDisplay","label","getGraphDataItem","totalPerMonth","categoriesAndCentsDefault","PercentageChartPage","onBoxClick","outerRadiusFactor","heightFactor","cyFactor","categoriesAndCents","setCategoriesAndCents","setTotal","setFrom","setTo","setDayCount","setTotalPerMonth","getData","barChartData","x","reverse","cx","cy","labelLine","props","outerRadius","isAnimationActive","layout","maxBarSize","categoryTable","Boolean","extendTransactions","extendTransaction","TransactionsDefault","RulesPage","setTransactions","setRules","extended","values","transactionsDefault","TransactionsPage","pageIndexDefault","setPageIndex","fetched","increment","getTotalsByCategory","chartData","groupedArrayObject","entry","currentAmount","groupByCategory","memberIndex","sortArrayByMember","applyFilter","categoryFilter","getChartData","mapped","mapTransactions","currentValue","group","groupedByMonth","spread","getTrendsChartData","addCategoriesToTransactions","getInitialCategoryFilter","largestCategories","largestCategoriesNotIgnored","getInitialCategoryFilterJs","toggleCategoryFilter","f","toggleCategoryFilterJs","CATEGORIES_DEFAULT","TRENDS_CHART_DATA_DEFAULT","CATEGORY_FILTER_DEFAULT","TrendChartPage","trendsChartData","setTrendsChartData","setCategories","setIsStacked","setCategoryFilter","setCategoriesFiltered","cd","chartAndLegend","chartAndLegendMobile","cf","route","path","page","App","isNetwork","setIsNetwork","setIsMasked","Provider","render","location","hostname","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.49668ccb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"CategoryIcon_root__oabAM\",\"bank\":\"CategoryIcon_bank__2qk3A\",\"car\":\"CategoryIcon_car__3R2h9\",\"cash\":\"CategoryIcon_cash__2vkxF\",\"cleaner\":\"CategoryIcon_cleaner__1Jmqa\",\"clothing\":\"CategoryIcon_clothing__2hVKJ\",\"councilTaxes\":\"CategoryIcon_councilTaxes__3pJpF\",\"creditCard\":\"CategoryIcon_creditCard__1zk7w\",\"dental\":\"CategoryIcon_dental__1GNYV\",\"donations\":\"CategoryIcon_donations__Sef3l\",\"driving\":\"CategoryIcon_driving__7J0I7\",\"eatingOut\":\"CategoryIcon_eatingOut__3pe4s\",\"electronics\":\"CategoryIcon_electronics__3DJu5\",\"energy\":\"CategoryIcon_energy__3_DDK\",\"garden\":\"CategoryIcon_garden__2QS6B\",\"groceries\":\"CategoryIcon_groceries__1Jxue\",\"healthCare\":\"CategoryIcon_healthCare__3FMd_\",\"house\":\"CategoryIcon_house__1CYUC\",\"ignore\":\"CategoryIcon_ignore__2Skm7\",\"internet\":\"CategoryIcon_internet__763L3\",\"mortgage\":\"CategoryIcon_mortgage__3fzFW\",\"nat\":\"CategoryIcon_nat__2PEeR\",\"optician\":\"CategoryIcon_optician__1Seje\",\"pets\":\"CategoryIcon_pets__1VSNO\",\"phone\":\"CategoryIcon_phone__3qCzc\",\"publicTransport\":\"CategoryIcon_publicTransport__1bhpz\",\"salary\":\"CategoryIcon_salary__3Z6OL\",\"self\":\"CategoryIcon_self__2b2Vi\",\"starbucks\":\"CategoryIcon_starbucks__orUoN\",\"sundries\":\"CategoryIcon_sundries__1KivE\",\"travel\":\"CategoryIcon_travel__201SN\",\"unknown\":\"CategoryIcon_unknown__2Q_ex\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"CategorySelector_root__1MxYy\",\"categoryColours\":\"CategorySelector_categoryColours__UqYl4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Field_root__37jkc\",\"categoryLabel\":\"Field_categoryLabel__1ycxb\",\"highlight\":\"Field_highlight__1nSNm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Loading_root__2AXTt\",\"content\":\"Loading_content__aBClv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NumberInput_root__1wSh2\",\"short\":\"NumberInput_short__2jDY1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Spinner_root__1C3oV\",\"svgSpinner\":\"Spinner_svgSpinner__2aLjr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ToggleButton_root__1gtHE\",\"on\":\"ToggleButton_on__3hpG6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ValueInput_root__10Axl\",\"valueTitle\":\"ValueInput_valueTitle__25igr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PercentageChartPage_root__2HB6T\",\"categoryTable\":\"PercentageChartPage_categoryTable__2fWU7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"CategoriesPage_root__xs7an\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HomePage_root__1O2KO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"AreaChartNonstacked_root__1igm1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"AreaChartStacked_root__1-ZDp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"DesktopMenu_root__1zwMB\",\"nav\":\"DesktopMenu_nav__1LJTN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FieldCopier_root__3BymV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"IconButton_root__tLT8z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MobileMenu_root__Kd01T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NewRule_root__23orO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NewRuleHeader_root__3png4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Notifications_root__36gQr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PageFooter_root__2NOLn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PageHeaderButtons_root__2lTwa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Select_root__8kbbp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TransactionsPageHeader_root__3yPL4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TransactionsPageHeaderButtons_root__13igd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TransactionsTableHeader_root__JbCwz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TrendChartPageHeader_root__3Eh7I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TrendChartPageHeaderButtons_root__1g6E8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TransactionsPage_root__1pbkp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"SelectWithIcons_root__1rKUA\",\"topBar\":\"SelectWithIcons_topBar__2OfTY\",\"topBarText\":\"SelectWithIcons_topBarText__1_YeF\",\"topBarButton\":\"SelectWithIcons_topBarButton__1JmlJ\",\"items\":\"SelectWithIcons_items__3wP2k\",\"item\":\"SelectWithIcons_item__2Tp5y\",\"selectMarker\":\"SelectWithIcons_selectMarker__1IyUj\",\"selected\":\"SelectWithIcons_selected__ioyU-\"};","import { getObjectValueString, toSentenceCase } from \"core/utils\";\r\n\r\nexport const TRANSACTION_COUNT = 5610;\r\n\r\nexport enum FIELD {\r\n  // INDEX: 0,\r\n  DATE,\r\n  NAME,\r\n  ACCOUNT,\r\n  COUNTER_ACCOUNT,\r\n  CODE,\r\n  INCOMING,\r\n  AMOUNT,\r\n  TYPE,\r\n  REMARKS,\r\n  ICON,\r\n  CATEGORY,\r\n}\r\n\r\nexport const getFieldNames = () =>\r\n  Object.keys(FIELD).map(fieldName =>\r\n    toSentenceCase(fieldName).replace(\"_\", \" \")\r\n  );\r\n\r\nconst FIELDS: string[] = [\"Name\", \"Counter account\", \"Type\", \"Remarks\", \"Hash\"];\r\n\r\n// https://nl.wikipedia.org/wiki/Rekeningafschrift\r\nexport const CODE = {\r\n  AC: \"Acceptgiro\",\r\n  BA: \"Betaal-automaat\",\r\n  BC: \"Betalen contactloos\",\r\n  BG: \"Bankgiro Opdracht\",\r\n  CB: \"Crediteurenbetaling\",\r\n  CK: \"Chipknip\",\r\n  DB: \"Diverse boekingen\",\r\n  EB: \"Bedrijven euro-incasso\",\r\n  EI: \"Euro-incasso\",\r\n  GA: \"Geldautomaat euro\",\r\n  GB: \"Geldautomaat vv\",\r\n  ID: \"Ideal\",\r\n  KH: \"Kashandeling\",\r\n  MA: \"Machtiging\",\r\n  NB: \"Notabox\",\r\n  SB: \"Salaris betaling\",\r\n  SP: \"Spoedopdracht\",\r\n  TB: \"Eigen rekening\",\r\n  TG: \"Telegiro\",\r\n  CR: \"Tegoed\",\r\n  D: \"Tekort\",\r\n};\r\n\r\n// const le = \"\\u2264\"; // less than or equal to\r\n\r\nexport const CATEGORIES: string[] = [\r\n  \"Bank\",\r\n  \"Car\",\r\n  \"Cash\",\r\n  \"Cleaner\",\r\n  \"Clothing\",\r\n  \"Council taxes\",\r\n  \"Credit card\",\r\n  \"Dental\",\r\n  \"Donations\",\r\n  \"Eating out\",\r\n  \"Electronics\",\r\n  \"Energy\",\r\n  \"Garden\",\r\n  \"Groceries\",\r\n  \"Health care\",\r\n  \"House\",\r\n  \"Ignore\",\r\n  \"Internet\",\r\n  \"Mortgage\",\r\n  \"Nat\",\r\n  \"Pets\",\r\n  \"Phone\",\r\n  \"Public transport\",\r\n  \"Salary\",\r\n  \"Self\",\r\n  \"Starbucks\",\r\n  \"Sundries\",\r\n  \"Travel\",\r\n  \"Unknown\",\r\n];\r\n\r\nconst OPERATIONS: string[] = [\r\n  \"= v1\",\r\n  \"starts with v1\",\r\n  \"includes v1\",\r\n  \"endsWith v1\",\r\n  \">= v1\",\r\n  \"<= v1\",\r\n  \"> v1\",\r\n  \"< v1\",\r\n  \"between v1..v2 incl.\", // 8\r\n  \"between v1..v2 excl.\", // 9\r\n];\r\n\r\nexport const SELECT_ARRAYS = {\r\n  // categories = useContext(AppContext)\r\n  CATEGORIES,\r\n  FIELDS,\r\n  NO_YES: [\"No\", \"Yes\"],\r\n  OPERATIONS,\r\n  LESS_MORE: [\"<\", \">=\"],\r\n};\r\n\r\nexport const operationIncludesValue2 = (operationIndex: number) =>\r\n  operationIndex === 8 || operationIndex === 9;\r\n\r\nexport const CATEGORY_ICONS = {\r\n  Bank: \"bank\",\r\n  Car: \"car\",\r\n  Cash: \"cash\",\r\n  Cleaner: \"cleaner\",\r\n  Clothing: \"clothing\",\r\n  \"Council taxes\": \"councilTaxes\",\r\n  \"Credit card\": \"creditCard\",\r\n  Dental: \"dental\",\r\n  Donations: \"donations\",\r\n  Driving: \"driving\",\r\n  \"Eating out\": \"eatingOut\",\r\n  Electronics: \"electronics\",\r\n  Energy: \"energy\",\r\n  Garden: \"garden\",\r\n  Groceries: \"groceries\",\r\n  \"Health care\": \"healthCare\",\r\n  House: \"house\",\r\n  Ignore: \"ignore\",\r\n  Internet: \"internet\",\r\n  Mortgage: \"mortgage\",\r\n  Nat: \"nat\",\r\n  Optician: \"optician\",\r\n  Pets: \"pets\",\r\n  Phone: \"phone\",\r\n  \"Public transport\": \"publicTransport\",\r\n  Salary: \"salary\",\r\n  Self: \"self\",\r\n  Starbucks: \"starbucks\",\r\n  Sundries: \"sundries\",\r\n  Travel: \"travel\",\r\n  Unknown: \"unknown\",\r\n};\r\n\r\nexport const getCategoryIcon = (category: string): string => {\r\n  return getObjectValueString(CATEGORY_ICONS, category);\r\n};\r\n\r\nexport const CATEGORIES_IGNORED_DEFAULT = [\r\n  \"Credit card\",\r\n  \"Ignore\",\r\n  \"Mortgage\",\r\n  \"Salary\",\r\n  \"Self\",\r\n];\r\n","import React from \"react\";\r\nimport { Severity, VoidFunction } from \"core/types\";\r\n\r\nexport type AppContextType = {\r\n  addNotification: (severity: Severity, message: string) => void;\r\n  openModal: (component: JSX.Element, onYesClick: VoidFunction) => void;\r\n};\r\n\r\nexport const DefaultContext: AppContextType = {\r\n  addNotification: () => {},\r\n  openModal: () => {},\r\n};\r\n\r\nexport const AppContext = React.createContext(DefaultContext);\r\n","import { Match } from \"core/types\";\r\n\r\n// 12345 --> 123.45\r\nexport const centsToDecimal = (cents: string): string =>\r\n  cents.replace(\"-\", \"\").length < 3\r\n    ? `${cents}¢`\r\n    : `${cents.slice(0, -2)}.${cents.slice(-2)}`;\r\n\r\nexport const getIdFromMatch = (match: Match): number => {\r\n  if (!match) return 0;\r\n  const { params } = match;\r\n  const { id } = params;\r\n  return parseInt(id);\r\n};\r\n\r\n// https://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript\r\nexport const getHash = (s: string) =>\r\n  s.split(\"\").reduce((a, b) => {\r\n    a = (a << 5) - a + b.charCodeAt(0);\r\n    return a & a;\r\n  }, 0);\r\n\r\nexport const getObjectValueString = (object: object, key: string): string => {\r\n  const item = Object.entries(object).find(item => item[0] === key);\r\n  return item ? item[1] : null;\r\n};\r\n\r\n// export const getObjectValueNumber = (object: object, key: string): number => {\r\n//   const item = Object.entries(object).find(item => item[0] === key);\r\n//   return item ? item[1] : null;\r\n// };\r\n\r\nexport const sortByElement1 = (a: number[], b: number[]) => {\r\n  const m = a[1];\r\n  const n = b[1];\r\n  return m - n;\r\n};\r\n\r\n// https://stackoverflow.com/questions/286141/remove-blank-attributes-from-an-object-in-javascript\r\nexport const removeNullsFromObject = (obj: object): object =>\r\n  Object.entries(obj).reduce(\r\n    (a, [k, v]) => (v === null ? a : { ...a, [k]: v }),\r\n    {}\r\n  );\r\n\r\n// const splitString = (s: string): string => {\r\n//   var middle = Math.ceil(s.length / 2);\r\n//   return s.slice(0, middle) + \" \" + s.slice(middle);\r\n// };\r\n\r\n// const splitLongString = (s: string): string => {\r\n//   return s && s.length > 10 ? splitString(s) : s;\r\n// };\r\n\r\nconst splitStringAt = (s: string, position: number): string => {\r\n  return s.slice(0, position) + \" \" + s.slice(position);\r\n};\r\n\r\nexport const splitLongStringAt = (s: string, position: number): string => {\r\n  return s && s.length > 5 ? splitStringAt(s, position) : s;\r\n};\r\n\r\nexport const toSentenceCase = (s: string) => {\r\n  return s[0].toUpperCase() + s.slice(1).toLowerCase();\r\n};\r\n\r\nconst MONTHS = [\r\n  \"Jan\",\r\n  \"Feb\",\r\n  \"Mar\",\r\n  \"Apr\",\r\n  \"May\",\r\n  \"Jun\",\r\n  \"Jul\",\r\n  \"Aug\",\r\n  \"Sep\",\r\n  \"Oct\",\r\n  \"Nov\",\r\n  \"Dec\",\r\n];\r\n\r\nconst parse20191231 = (dateString: string): [number, number, number] => {\r\n  var year = parseInt(dateString.substring(0, 4));\r\n  var month = parseInt(dateString.substring(4, 6));\r\n  var day = parseInt(dateString.substring(6, 8));\r\n  return [year, month, day];\r\n};\r\n\r\nconst convert20191231toDate = (dateString: string) => {\r\n  const [year, month, day] = parse20191231(dateString);\r\n  return new Date(year, month - 1, day);\r\n};\r\n\r\nexport const daysBetween = (fromString: string, toString: string) => {\r\n  const milliseconds =\r\n    convert20191231toDate(toString).getTime() -\r\n    convert20191231toDate(fromString).getTime();\r\n  return Math.round(milliseconds / (1000 * 60 * 60 * 24));\r\n};\r\n\r\nexport const convert20191231to31_Dec_2019 = (dateString: string) => {\r\n  const [year, month, day] = parse20191231(dateString);\r\n  var monthMMM = MONTHS[month - 1];\r\n  return `${day} ${monthMMM} ${year}`;\r\n};\r\n","const MAIN = \"http://localhost:3004/\";\r\n\r\nexport const URL = {\r\n  HASHANDCATEGORYARRAY: MAIN + \"hashandcategoryarray\",\r\n  RULES: MAIN + \"rules\",\r\n  TRANSACTIONS: MAIN + \"transactions\"\r\n};\r\n","import { Json, Response } from \"core/types\";\r\n\r\nexport const fetchUrl = async (url: string) => {\r\n  const response = await fetch(url);\r\n  return await response.json();\r\n};\r\n\r\nexport const deleteUrl = async (url: string) => {\r\n  fetch(url, {\r\n    method: \"DELETE\",\r\n    // headers: { \"content-type\": \"application/json\" },\r\n    // body: JSON.stringify({ id: 1 })\r\n  })\r\n    .then(res => res.text()) // OR res.json()\r\n    .then(res => console.log(res));\r\n};\r\n\r\nfunction handleErrors(response: Response) {\r\n  if (!response.ok) {\r\n    throw Error(response.statusText);\r\n  }\r\n  return response;\r\n}\r\n\r\nexport const postJson = (json: Json, url: string) => {\r\n  // const response =\r\n  fetch(url, {\r\n    method: \"POST\", // *GET, POST, PUT, DELETE, etc.\r\n    mode: \"cors\", // no-cors, *cors, same-origin\r\n    cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\r\n    credentials: \"same-origin\", // include, *same-origin, omit\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n    },\r\n    redirect: \"follow\", // manual, *follow, error\r\n    referrer: \"no-referrer\", // no-referrer, *client\r\n    // body: JSON.stringify(`{${rule}}`) // body data type must match \"Content-Type\" header\r\n    body: JSON.stringify(json), // body data type must match \"Content-Type\" header\r\n  })\r\n    .then(handleErrors)\r\n    .then(response => console.log(\"POST OK\", response))\r\n    .catch(error => console.log(\"POST ERROR:\", error));\r\n\r\n  // return response.json(); // parses JSON response into native JavaScript objects\r\n};\r\n\r\n// function responseToJson(response) {\r\n//   if (!response.ok) {\r\n//     throw Error(\"ERROR:\", response.statusText);\r\n//   }\r\n//   return response.json();\r\n// }\r\n\r\n// export const fetchRules = () => {\r\n//   fetch(url)\r\n//     .then(responseToJson)\r\n//     .then(json => {\r\n//       return json;\r\n//     })\r\n//     .catch(error => console.log(\"ERROR: \", error));\r\n\r\n//   return [];\r\n// };\r\n\r\n// const postJson = async json => {\r\n//   const response = await fetch(url, {\r\n//     method: \"POST\", // *GET, POST, PUT, DELETE, etc.\r\n//     mode: \"cors\", // no-cors, *cors, same-origin\r\n//     cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\r\n//     credentials: \"same-origin\", // include, *same-origin, omit\r\n//     headers: {\r\n//       \"Content-Type\": \"application/json\"\r\n//       // \"Content-Type\": \"application/x-www-form-urlencoded\"\r\n//     },\r\n//     redirect: \"follow\", // manual, *follow, error\r\n//     referrer: \"no-referrer\", // no-referrer, *client\r\n//     // body: JSON.stringify(`{${rule}}`) // body data type must match \"Content-Type\" header\r\n//     body: JSON.stringify(json) // body data type must match \"Content-Type\" header\r\n//   });\r\n//   return await response.json(); // parses JSON response into native JavaScript objects\r\n// };\r\n","import { Json } from \"core/types\";\r\nimport { URL } from \"./constants\";\r\nimport { fetchUrl, postJson, deleteUrl } from \"./utils\";\r\n\r\nexport const fetchHashAndCategoryArray = async () => {\r\n  return await fetchUrl(URL.HASHANDCATEGORYARRAY);\r\n};\r\n\r\nexport const saveHashAndCategoryArray = (dataJson: Json) => {\r\n  return postJson(dataJson, URL.HASHANDCATEGORYARRAY);\r\n};\r\n\r\nexport const deleteHashAndCategoryArray = () => {\r\n  return deleteUrl(URL.HASHANDCATEGORYARRAY + \"/1\");\r\n};\r\n","import { Json } from \"core/types\";\r\nimport { URL } from \"./constants\";\r\nimport { fetchUrl, postJson } from \"./utils\";\r\nimport { removeNullsFromObject } from \"core/utils\";\r\nimport testdata from \"testdata/rules.json\";\r\n\r\nexport const fetchRules = async (network: boolean = false) => {\r\n  let rules: any;\r\n\r\n  if (network) {\r\n    rules = testdata;\r\n  } else {\r\n    rules = await fetchUrl(URL.RULES);\r\n  }\r\n\r\n  return rules;\r\n};\r\n\r\nexport const addRule = (dataJson: Json) => {\r\n  const nullsRemoved = removeNullsFromObject(dataJson);\r\n  return postJson(nullsRemoved, URL.RULES);\r\n};\r\n\r\n// export const addRule = async dataJson => {\r\n//   return await postJson(dataJson);\r\n// };\r\n","import { FIELD } from \"core/constants\";\r\nimport { Rule } from \"./types\";\r\nimport { getHash } from \"./utils\";\r\n\r\nexport class TransactionClass {\r\n  index: number; // added\r\n  date: string;\r\n  name: string;\r\n  // account: string;\r\n  counterAccount: string;\r\n  code: string;\r\n  isIncoming: boolean;\r\n  amount: number; // 123,45 converted to 12345 (cents)\r\n  type: string;\r\n  remarks: string;\r\n  rule?: Rule; // added\r\n  category: string; // added\r\n  hash: number; // added\r\n\r\n  constructor(data: string[]) {\r\n    if (data[FIELD.ACCOUNT] !== \"NL71INGB0004410690\") {\r\n      console.error(\"*** ERROR: account:\", data[FIELD.ACCOUNT]);\r\n    }\r\n\r\n    this.index = 0;\r\n    this.date = data[FIELD.DATE].toString();\r\n    this.name = data[FIELD.NAME].toString();\r\n    // this.account = \"\";\r\n    this.counterAccount = data[FIELD.COUNTER_ACCOUNT].toString();\r\n    this.code = data[FIELD.CODE].toString();\r\n    this.isIncoming = data[FIELD.INCOMING] === \"Bij\";\r\n    this.amount = parseFloat(data[FIELD.AMOUNT].replace(\",\", \"\"));\r\n    this.type = data[FIELD.TYPE].toString();\r\n    this.remarks = data[FIELD.REMARKS].toString();\r\n    this.category = \"\"; // todo: remove later, use rule.category\r\n    this.hash = getHash(data.join(\",\"));\r\n\r\n    // post process:\r\n    if (!this.isIncoming) {\r\n      this.amount = -1 * this.amount;\r\n    }\r\n  }\r\n\r\n  getFieldValueString = (fieldName: string): string => {\r\n    switch (fieldName.toLowerCase()) {\r\n      case \"index\":\r\n        return this.index.toString();\r\n      case \"date\":\r\n        return this.date;\r\n      case \"name\":\r\n        return this.name;\r\n      // case \"Account\":\r\n      //   return this.account;\r\n      case \"counter account\":\r\n        return this.counterAccount;\r\n      case \"code\":\r\n        return this.code;\r\n      case \"incoming\":\r\n        return this.isIncoming ? \"Bij\" : \"Af\";\r\n      case \"amount\":\r\n        return this.amount.toString();\r\n      case \"type\":\r\n        return this.type;\r\n      case \"remarks\":\r\n        return this.remarks;\r\n      case \"category\":\r\n        return this.category;\r\n      case \"hash\":\r\n        return this.hash.toString();\r\n      default:\r\n        return \"field-not-found\";\r\n    }\r\n  };\r\n}\r\n","import { URL } from \"./constants\";\r\nimport { TransactionClass } from \"core/TransactionClass\";\r\nimport { fetchUrl } from \"./utils\";\r\nimport testdata from \"testdata/transactions.json\";\r\n// import data from \"./ing.json\";\r\n\r\n// ------------------------\r\n// Datum, Naam / Omschrijving, Rekening, Tegenrekening,\r\n// Code, Af Bij, Bedrag (EUR), MutatieSoort, Mededelingen\r\nexport const fetchTransactions = async (\r\n  start: number,\r\n  end: number,\r\n  network: boolean = false\r\n) => {\r\n  let transactions: string[][];\r\n\r\n  if (network) {\r\n    transactions = testdata;\r\n  } else {\r\n    transactions = await fetchUrl(\r\n      URL.TRANSACTIONS + `?_start=${start}&_end=${end}`\r\n    );\r\n  }\r\n\r\n  return transactions.map(t => new TransactionClass(t));\r\n};\r\n","import { /*HashAndCategory,*/ Rule } from \"core/types\";\r\nimport { TransactionClass } from \"core/TransactionClass\";\r\nimport { populateHashAndCategoryObjectArray } from \"./categories_js.js\";\r\n\r\ntype OperationType = (s1: string, s2: string, caseSensitive: string) => boolean;\r\n\r\nconst equals: OperationType = (\r\n  s1: string,\r\n  s2: string,\r\n  caseSensitive: string\r\n): boolean =>\r\n  caseSensitive === \"Yes\" ? s1 === s2 : s1.toLowerCase() === s2.toLowerCase();\r\n\r\nconst includes: OperationType = (\r\n  s1: string,\r\n  s2: string,\r\n  caseSensitive: string\r\n): boolean =>\r\n  caseSensitive === \"Yes\"\r\n    ? s1.includes(s2)\r\n    : s1.toLowerCase().includes(s2.toLowerCase());\r\n\r\nconst startsWith: OperationType = (\r\n  s1: string,\r\n  s2: string,\r\n  caseSensitive: string\r\n): boolean =>\r\n  caseSensitive === \"Yes\"\r\n    ? s1.startsWith(s2)\r\n    : s1.toLowerCase().startsWith(s2.toLowerCase());\r\n\r\nconst ruleMatches = (transaction: TransactionClass, rule: Rule) => {\r\n  const fieldValue = transaction.getFieldValueString(rule.field);\r\n  const operation = rule.operation;\r\n  const caseSensitive = rule.caseSensitive;\r\n  const value1 = rule.value1;\r\n\r\n  const op = (name: string, func: OperationType) =>\r\n    name === operation && func(fieldValue, value1, caseSensitive);\r\n\r\n  if (op(\"= v1\", equals)) return true;\r\n\r\n  if (op(\"includes v1\", includes)) {\r\n    if (rule.lessMoreAmount) {\r\n      const lessMoreAmount = Number(rule.lessMoreAmount);\r\n      const amount = Math.abs(transaction.amount) / 100;\r\n      return (\r\n        (rule.lessMore === \"<\" && amount < lessMoreAmount) ||\r\n        (rule.lessMore === \">=\" && amount >= lessMoreAmount)\r\n      );\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  if (op(\"starts with v1\", startsWith)) return true;\r\n\r\n  return false;\r\n};\r\n\r\n// TODO: REMOVE THIS LATER, AS getCategoryRule SHOULD BE ENOUGH\r\nexport const getCategory = (\r\n  transaction: TransactionClass,\r\n  rules: Rule[]\r\n): string => {\r\n  if (!rules) return \"category-not-found-1\"; // used? remove?\r\n\r\n  const rule = getCategoryRule(transaction, rules);\r\n\r\n  return rule ? rule.category : \"category-not-found-2\";\r\n};\r\n\r\nexport const getCategoryRule = (\r\n  transaction: TransactionClass,\r\n  rules: Rule[]\r\n): Rule | null => {\r\n  if (!rules) return null;\r\n\r\n  return rules.find(rule => ruleMatches(transaction, rule)) || null;\r\n};\r\n\r\nexport const calculateHashAndCategoryArray = (\r\n  transactions: TransactionClass[],\r\n  rules: Rule[]\r\n): object => {\r\n  const hashAndCategoryObjectArray = {};\r\n  populateHashAndCategoryObjectArray(\r\n    hashAndCategoryObjectArray,\r\n    transactions,\r\n    rules,\r\n    getCategory\r\n  );\r\n  return hashAndCategoryObjectArray;\r\n};\r\n","export const populateHashAndCategoryObjectArray = (\r\n  objectArray,\r\n  transactions,\r\n  rules,\r\n  getCategory\r\n) => {\r\n  transactions.forEach(t => {\r\n    objectArray[t.hash.toString()] = getCategory(t, rules);\r\n  });\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport { TRANSACTION_COUNT } from \"core/constants\";\nimport {\n  deleteHashAndCategoryArray,\n  fetchHashAndCategoryArray,\n  saveHashAndCategoryArray,\n} from \"services/hashAndCategoryArray\";\nimport { fetchRules } from \"services/rules\";\nimport { fetchTransactions } from \"services/transactions\";\nimport { calculateHashAndCategoryArray } from \"process/categories\";\nimport cn from \"classnames\";\nimport s from \"./CategoriesPage.module.css\";\n\n// ----------\n// COMPONENT:\nconst CategoriesPage = () => {\n  // STATE:\n  const [\n    hashAndCategoryArrayFetched,\n    setHashAndCategoryArrayFetched,\n  ] = useState({});\n  const [\n    hashAndCategoryArrayCalculated,\n    setHashAndCategoryArrayCalculated,\n  ] = useState({});\n\n  // EFFECTS - GET DATA:\n  useEffect(() => {\n    const fetchData = async () => {\n      const hca = await fetchHashAndCategoryArray();\n      console.log(\"*** fetched:\", hca[0].array);\n      setHashAndCategoryArrayFetched(hca);\n    };\n    fetchData();\n    return () => {}; // on unmount\n  }, []);\n\n  // FUNCTIONS:\n  const calculateCategories = async () => {\n    const r = await fetchRules();\n    console.log(\"*** rules:\", r.length);\n    const t = await fetchTransactions(0, TRANSACTION_COUNT);\n    console.log(\"*** transactions:\", t.length);\n    const hca = await calculateHashAndCategoryArray(t, r);\n    console.log(\"*** hca length:\", Object.keys(hca).length);\n    setHashAndCategoryArrayCalculated(hca);\n  };\n  const saveCategories = async () => {\n    const obj = { id: 1, array: hashAndCategoryArrayCalculated };\n    const result = saveHashAndCategoryArray(obj);\n    console.log(\"*** save result:\", result);\n  };\n  const deleteCategories = async () => {\n    const result = deleteHashAndCategoryArray();\n    console.log(\"*** delete result:\", result);\n  };\n\n  console.log(\n    \"*** hashAndCategoryArrayFetched length:\",\n    Object.keys(hashAndCategoryArrayFetched).length\n  );\n  console.log(\n    \"*** hashAndCategoryArrayCalculated length:\",\n    Object.keys(hashAndCategoryArrayCalculated).length\n  );\n\n  // RENDER:\n  return (\n    <div className={cn(\"page\", s.root)}>\n      <h3>Categories</h3>\n      <div>\n        Category for all transactions:&nbsp;&nbsp;&nbsp;\n        <button onClick={calculateCategories}>Calculate</button>\n        &nbsp;&nbsp;&nbsp;\n        <button onClick={deleteCategories}>Delete</button>\n        &nbsp;&nbsp;&nbsp;\n        <button onClick={saveCategories}>Save</button>\n      </div>\n    </div>\n  );\n};\n\nexport default CategoriesPage;\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { PercentageChartPage, TrendChartPage } from \"pages\";\r\nimport cn from \"classnames\";\r\nimport s from \"./HomePage.module.css\";\r\n\r\nconst HomePage = () => {\r\n  const history = useHistory();\r\n\r\n  const onBoxClick = (target: string) => {\r\n    history.replace(target);\r\n  };\r\n\r\n  return (\r\n    <div className={cn(\"page\", s.root)}>\r\n      <h3>Home page</h3>\r\n\r\n      {/* <div className={cn(\"flexRow\", \"pageBoxes\")}>\r\n        <PercentageChartPage\r\n          isBoxed={true}\r\n          onBoxClick={onBoxClick}\r\n          network={false}\r\n        />\r\n\r\n        <TrendChartPage\r\n          isBoxed={true}\r\n          onBoxClick={onBoxClick}\r\n          network={false}\r\n        />\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n","import { useContext } from \"react\";\r\nimport { AppContext, AppContextType } from \"appContext\";\r\n\r\nconst useModal = () => {\r\n  const { openModal }: AppContextType = useContext(AppContext);\r\n\r\n  return { openModal };\r\n};\r\n\r\nexport default useModal;\r\n","import { useContext } from \"react\";\r\nimport { AppContext, AppContextType } from \"appContext\";\r\n\r\nconst useNotifications = () => {\r\n  const { addNotification }: AppContextType = useContext(AppContext);\r\n\r\n  const info = (message: string): void => addNotification(\"info\", message);\r\n  const debug = (message: string): void => addNotification(\"debug\", message);\r\n  const warning = (message: string): void =>\r\n    addNotification(\"warning\", message);\r\n  const error = (message: string): void => addNotification(\"error\", message);\r\n\r\n  return { /*addNotification,*/ info, debug, warning, error };\r\n};\r\n\r\nexport default useNotifications;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nconst mobileMaxWidth = 414;\r\n\r\nconst useWindowSize = () => {\r\n  const isClient = typeof window === \"object\";\r\n\r\n  function getSize() {\r\n    const desktop = isClient ? window.innerWidth > mobileMaxWidth : true;\r\n    const mobile = !desktop;\r\n\r\n    return {\r\n      width: isClient ? window.innerWidth : 300, // 300 min\r\n      height: isClient ? window.innerHeight : 800, // 800 min\r\n      desktop,\r\n      mobile,\r\n    };\r\n  }\r\n\r\n  const [windowSize, setWindowSize] = useState(getSize);\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowSize(getSize());\r\n    }\r\n\r\n    const fetchData = async () => {\r\n      if (!isClient) {\r\n        return false;\r\n      }\r\n\r\n      window.addEventListener(\"resize\", handleResize);\r\n    };\r\n    fetchData();\r\n\r\n    return () => window.removeEventListener(\"resize\", handleResize); // on unmount\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []); // Empty array ensures that effect is only run on mount and unmount\r\n\r\n  return windowSize;\r\n};\r\n\r\nexport default useWindowSize;\r\n","const COLOURS = [\n  // \"F0F8FF\", // Alice_Blue\n  // \"FAEBD7\", // Antique_White\n  // \"00FFFF\", // Aqua\n  // \"7FFFD4\", // Aquamarine\n  // \"F0FFFF\", // Azure\n  // \"F5F5DC\", // Beige\n  // \"FFE4C4\", // Bisque\n  // \"000000\", // Black\n  // \"FFEBCD\", // Blanched_Almond\n  // \"0000FF\", // Blue\n  \"8A2BE2\", // Blue_Violet\n  \"A52A2A\", // Brown\n  \"DEB887\", // Burlywood\n  \"5F9EA0\", // Cadet_Blue\n  // \"7FFF00\", // Chartreuse\n  \"D2691E\", // Chocolate\n  \"FF7F50\", // Coral\n  \"6495ED\", // Cornflower_Blue\n  // \"FFF8DC\", // Cornsilk\n  \"DC143C\", // Crimson\n  // \"00FFFF\", // Cyan\n  \"00008B\", // Dark_Blue\n  \"008B8B\", // Dark_Cyan\n  \"B8860B\", // Dark_Goldenrod\n  \"A9A9A9\", // Dark_Gray\n  \"006400\", // Dark_Green\n  \"BDB76B\", // Dark_Khaki\n  \"8B008B\", // Dark_Magenta\n  \"556B2F\", // Dark_Olive_Green\n  \"FF8C00\", // Dark_Orange\n  \"9932CC\", // Dark_Orchid\n  \"8B0000\", // Dark_Red\n  \"E9967A\", // Dark_Salmon\n  \"8FBC8F\", // Dark_Sea_Green\n  \"483D8B\", // Dark_Slate_Blue\n  \"2F4F4F\", // Dark_Slate_Gray\n  \"00CED1\", // Dark_Turquoise\n  \"9400D3\", // Dark_Violet\n  \"FF1493\", // Deep_Pink\n  \"00BFFF\", // Deep_Sky_Blue\n  \"696969\", // Dim_Gray\n  \"1E90FF\", // Dodger_Blue\n  \"B22222\", // Firebrick\n  // \"FFFAF0\", // Floral_White\n  \"228B22\", // Forest_Green\n  \"FF00FF\", // Fuchsia\n  \"DCDCDC\", // Gainsboro\n  \"F8F8FF\", // Ghost_White\n  \"FFD700\", // Gold\n  \"DAA520\", // Goldenrod\n  \"BEBEBE\", // Gray\n  \"808080\", // Web_Gray\n  \"00FF00\", // Green\n  \"008000\", // Web_Green\n  \"ADFF2F\", // Green_Yellow\n  \"F0FFF0\", // Honeydew\n  \"FF69B4\", // Hot_Pink\n  \"CD5C5C\", // Indian_Red\n  \"4B0082\", // Indigo\n  \"FFFFF0\", // Ivory\n  \"F0E68C\", // Khaki\n  \"E6E6FA\", // Lavender\n  \"FFF0F5\", // Lavender_Blush\n  \"7CFC00\", // Lawn_Green\n  \"FFFACD\", // Lemon_Chiffon\n  \"ADD8E6\", // Light_Blue\n  \"F08080\", // Light_Coral\n  \"E0FFFF\", // Light_Cyan\n  \"FAFAD2\", // Light_Goldenrod\n  \"D3D3D3\", // Light_Gray\"\n  \"90EE90\", // Light_Green\n  \"FFB6C1\", // Light_Pink\n  \"FFA07A\", // Light_Salmon\n  \"20B2AA\", // Light_Sea_Green\n  \"87CEFA\", // Light_Sky_Blue\n  \"778899\", // Light_Slate_Gray\n  \"B0C4DE\", // Light_Steel_Blue\n  \"FFFFE0\", // Light_Yellow\n  \"00FF00\", // Lime\n  \"32CD32\", // Lime_Green\n  \"FAF0E6\", // Linen\n  \"FF00FF\", // Magenta\n  \"B03060\", // Maroon\n  \"800000\", // Web_Maroon\n  \"66CDAA\", // Medium_Aquamarine\n  \"0000CD\", // Medium_Blue\n  \"BA55D3\", // Medium_Orchid\n  \"9370DB\", // Medium_Purple\n  \"3CB371\", // Medium_Sea_Green\n  \"7B68EE\", // Medium_Slate_Blue\n  \"00FA9A\", // Medium_Spring_Green\n  \"48D1CC\", // Medium_Turquoise\n  \"C71585\", // Medium_Violet_Red\n  \"191970\", // Midnight_Blue\n  \"F5FFFA\", // Mint_Cream\n  \"FFE4E1\", // Misty_Rose\n  \"FFE4B5\", // Moccasin\n  \"FFDEAD\", // Navajo_White\n  \"000080\", // Navy_Blue\n  \"FDF5E6\", // Old_Lace\n  \"808000\", // Olive\n  \"6B8E23\", // Olive_Drab\n  \"FFA500\", // Orange\n  \"FF4500\", // Orange_Red\n  \"DA70D6\", // Orchid\n  \"EEE8AA\", // Pale_Goldenrod\n  \"98FB98\", // Pale_Green\n  \"AFEEEE\", // Pale_Turquoise\n  \"DB7093\", // Pale_Violet_Red\n  \"FFEFD5\", // Papaya_Whip\n  \"FFDAB9\", // Peach_Puff\n  \"CD853F\", // Peru\n  \"FFC0CB\", // Pink\n  \"DDA0DD\", // Plum\n  \"B0E0E6\", // Powder_Blue\n  \"A020F0\", // Purple\n  \"800080\", // Web_Purple\n  \"663399\", // Rebecca_Purple\n  \"FF0000\", // Red\n  \"BC8F8F\", // Rosy_Brown\n  \"4169E1\", // Royal_Blue\n  \"8B4513\", // Saddle_Brown\n  \"FA8072\", // Salmon\n  \"F4A460\", // Sandy_Brown\n  \"2E8B57\", // Sea_Green\n  \"FFF5EE\", // Seashell\n  \"A0522D\", // Sienna\n  \"C0C0C0\", // Silver\n  \"87CEEB\", // Sky_Blue\n  \"6A5ACD\", // Slate_Blue\n  \"708090\", // Slate_Gray\n  \"FFFAFA\", // Snow\n  \"00FF7F\", // Spring_Green\n  \"4682B4\", // Steel_Blue\n  \"D2B48C\", // Tan\n  \"008080\", // Teal\n  \"D8BFD8\", // Thistle\n  \"FF6347\", // Tomato\n  \"40E0D0\", // Turquoise\n  \"EE82EE\", // Violet\n  \"F5DEB3\", // Wheat\n  // \"FFFFFF\", // White\n  \"F5F5F5\", // White_Smoke\n  \"FFFF00\", // Yellow\n  \"9ACD32\" // Yellow_Green\n];\n\nexport const getColour = (index: number) =>\n  index >= COLOURS.length ? \"\" : `#${COLOURS[index]}`;\n\nexport const getCategoryColour = (\n  CATEGORIES: string[],\n  category: string\n): string => {\n  if (!category || category === \"Category\") {\n    console.error(\"*** category:\", category);\n    return \"colour-not-found\";\n  }\n  const categoryIndex = CATEGORIES.indexOf(category);\n  const colour = getColour(categoryIndex) || \"colour-not-found\";\n  return colour;\n};\n","import React from \"react\";\nimport {\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n} from \"recharts\";\nimport { useWindowSize } from \"hooks\";\nimport { SELECT_ARRAYS } from \"core/constants\";\nimport { getCategoryColour } from \"core/colours\";\nimport s from \"./AreaChartNonstacked.module.css\";\n\ntype Props = {\n  data: any[];\n  categories: string[];\n  factor?: number;\n};\n\nconst { CATEGORIES } = SELECT_ARRAYS;\n\n// ----------\n// COMPONENT:\n// https://recharts.org/en-US/api/AreaChart\nconst AreaChartNonstacked = ({ data, categories, factor = 1 }: Props) => {\n  // HOOKS:\n  const { mobile, width, height } = useWindowSize();\n\n  return (\n    <div className={s.root}>\n      <AreaChart\n        width={mobile ? width - 20 : 1050 * factor}\n        height={mobile ? height - 200 : 800 * factor}\n        data={data}\n        margin={{\n          top: 0,\n          right: 0,\n          left: mobile ? -20 : -10,\n          bottom: 0,\n        }}\n      >\n        <defs>\n          {categories.map((category: string, index) => {\n            const colour = getCategoryColour(CATEGORIES, category);\n            return (\n              <linearGradient\n                key={category}\n                id={`color${index}`}\n                x1=\"0\"\n                y1=\"0\"\n                x2=\"0\"\n                y2=\"1\"\n              >\n                <stop offset=\"5%\" stopColor={colour} stopOpacity={0.9} />\n                <stop offset=\"95%\" stopColor={colour} stopOpacity={0.1} />\n              </linearGradient>\n            );\n          })}\n        </defs>\n        <XAxis dataKey=\"name\" />\n        <YAxis />\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <Tooltip />\n        {categories.map((category: string, index) => (\n          <Area\n            baseLine={800 * factor}\n            key={category}\n            type=\"monotone\"\n            dataKey={category}\n            stroke={getCategoryColour(CATEGORIES, category)}\n            fillOpacity={0.7}\n            fill={`url(#color${index})`}\n          />\n        ))}\n      </AreaChart>\n    </div>\n  );\n};\n\nexport default AreaChartNonstacked;\n","import React from \"react\";\nimport {\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  // Tooltip\n} from \"recharts\";\nimport { useWindowSize } from \"hooks\";\nimport { SELECT_ARRAYS } from \"core/constants\";\nimport { getCategoryColour } from \"core/colours\";\nimport s from \"./AreaChartStacked.module.css\";\n\ntype Props = {\n  data: any[];\n  categories: string[];\n  factor?: number;\n};\n\nconst { CATEGORIES } = SELECT_ARRAYS;\n\n// ----------\n// COMPONENT:\n// https://recharts.org/en-US/examples/StackedAreaChart\nconst AreaChartStacked = ({ data, categories, factor = 1 }: Props) => {\n  // HOOKS:\n  const { mobile, width, height } = useWindowSize();\n\n  return (\n    <div className={s.root}>\n      <AreaChart\n        width={mobile ? width - 20 : 1050 * factor}\n        height={mobile ? height - 200 : 800 * factor}\n        data={data}\n        margin={{\n          top: 0,\n          right: 0,\n          left: mobile ? -20 : -10,\n          bottom: 0,\n        }}\n      >\n        <CartesianGrid strokeDasharray=\"3 3\" />\n        <XAxis dataKey=\"name\" />\n        <YAxis />\n        {/* <Tooltip /> */}\n        {categories.map((category: string) => (\n          <Area\n            baseLine={800 * factor}\n            key={category}\n            type=\"monotone\"\n            dataKey={category}\n            stackId=\"1\"\n            stroke=\"#ffffff\"\n            fill={getCategoryColour(CATEGORIES, category)}\n          />\n        ))}\n      </AreaChart>\n    </div>\n  );\n};\n\nexport default AreaChartStacked;\n","import React from \"react\";\nimport cn from \"classnames\";\nimport s from \"./CategoryIcon.module.css\";\n\ntype Props = {\n  category: string;\n};\n\n// ----------\n// COMPONENT:\nconst CategoryIcon = ({ category }: Props) => {\n  return <div className={cn(s.root, s[category])} />;\n};\n\nexport default CategoryIcon;\n","import React from \"react\";\nimport { getCategoryIcon, CATEGORIES } from \"core/constants\";\nimport { getCategoryColour } from \"core/colours\";\nimport { CategoryIcon } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./CategoryIconAndLabel.module.css\";\n\ntype Props = {\n  item: string;\n  fullWidth: boolean;\n  index?: number;\n  iconOnly?: boolean;\n  onChange?: (event: any) => void;\n};\n\n// ----------\n// COMPONENT:\nconst CategoryIconAndLabel = ({\n  item,\n  fullWidth,\n  index,\n  iconOnly = false,\n  onChange,\n}: Props) => {\n  const onClick = onChange ? () => onChange(index) : () => {};\n\n  if (\n    item === \"category-not-found-1\" ||\n    item === \"category-not-found-2\" ||\n    item === \"category-not-found-3\"\n  ) {\n    return null;\n  }\n\n  return (\n    <div\n      className={cn(s.root, { [s.fullWidth]: fullWidth })}\n      style={{ backgroundColor: getCategoryColour(CATEGORIES, item) }}\n      onClick={onClick}\n    >\n      <span className={s.itemIcon}>\n        <CategoryIcon category={getCategoryIcon(item)} />\n      </span>\n      {!iconOnly && item}\n    </div>\n  );\n};\n\nexport default CategoryIconAndLabel;\n","import React from \"react\";\nimport cn from \"classnames\";\nimport { SELECT_ARRAYS } from \"core/constants\";\nimport { getCategoryColour } from \"core/colours\";\nimport s from \"./CategoryLegend.module.css\";\n\nconst { CATEGORIES } = SELECT_ARRAYS;\n\ntype OnClickType = (category: string) => void;\n\n// ----------\n// COMPONENT:\nconst Category = (\n  category: string,\n  onClick: OnClickType,\n  categoriesFiltered: string[]\n) => {\n  const isSelected = categoriesFiltered.includes(category);\n  const selectedClass = isSelected ? s.selected : \"\";\n  const categoryColor = getCategoryColour(CATEGORIES, category);\n  const style = isSelected ? { backgroundColor: categoryColor } : {};\n\n  return (\n    <div\n      key={category}\n      className={cn(s.categoryColour, selectedClass)}\n      style={style}\n      onClick={() => onClick(category)}\n    >\n      {category}\n    </div>\n  );\n};\n\ntype Props = {\n  categories: string[];\n  categoriesFiltered: string[];\n  className: string;\n  onClick: OnClickType;\n};\n\n// ----------\n// COMPONENT:\nconst CategoryLegend = ({\n  categories,\n  categoriesFiltered,\n  className,\n  onClick\n}: Props) => {\n  return (\n    <div className={s.root}>\n      <div className={className}>\n        {categories.map(c => Category(c, onClick, categoriesFiltered))}\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryLegend;\n","import React from \"react\";\nimport { CategoryLegend } from \"components\";\nimport s from \"./CategorySelector.module.css\";\n\ntype Props = {\n  categories: string[];\n  categoriesFiltered: string[];\n  onCategoryClick: (category: string) => void;\n};\n\n// ----------\n// COMPONENT:\nconst CategorySelector = ({\n  categories,\n  categoriesFiltered,\n  onCategoryClick\n}: Props) => {\n  return (\n    <div className={s.root}>\n      <CategoryLegend\n        categories={categories}\n        categoriesFiltered={categoriesFiltered}\n        className={s.categoryColours}\n        onClick={onCategoryClick}\n      />\n    </div>\n  );\n};\n\nexport default CategorySelector;\n","import React from \"react\";\nimport { Link } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./DesktopMenu.module.css\";\n\nconst link = (to: string, title: string) => <Link to={to} title={title} />;\n\n// type Props = {\n//   str: string;\n//   n: number;\n//   onClick: (event: any) => void;\n// };\n\n// ----------\n// COMPONENT:\nconst DesktopMenu = (/* { str, n, onClick }: Props */) => {\n  return (\n    <nav className={cn(s.nav, \"flexRowWithMarginBaseline\")}>\n      {link(\"/\", \"Home\")}\n      {link(\"/transactions\", \"Transactions\")}\n      {link(\"/categories\", \"Categories\")}\n      {link(\"/rules\", \"Rules\")}\n      {link(\"/percentage\", \"Percentage\")}\n      {link(\"/trend\", \"Trend\")}\n    </nav>\n  );\n};\n\nexport default DesktopMenu;\n","import { CODE } from \"core/constants\";\r\nimport {\r\n  centsToDecimal,\r\n  convert20191231to31_Dec_2019,\r\n  getObjectValueString,\r\n} from \"core/utils\";\r\n\r\nconst fieldsToRandomise = [\"name\", \"remarks\", \"counterAccount\"];\r\nconst ascii_A = 65;\r\nconst ascii_Z = 90;\r\nconst ascii_a = 97;\r\nconst ascii_z = 122;\r\nconst ascii_0 = 48;\r\nconst ascii_9 = 57;\r\n\r\nconst randomiseCharCode = (charCode: number): string => {\r\n  let next = charCode;\r\n\r\n  if (ascii_A <= charCode && charCode <= ascii_Z) {\r\n    next = charCode + Math.floor(Math.random() * 26);\r\n    if (next > ascii_Z) next -= 26;\r\n  }\r\n\r\n  if (ascii_a <= charCode && charCode <= ascii_z) {\r\n    next = charCode + Math.floor(Math.random() * 26);\r\n    if (next > ascii_z) next -= 26;\r\n  }\r\n\r\n  if (ascii_0 <= charCode && charCode <= ascii_9) {\r\n    next = charCode + Math.floor(Math.random() * 10);\r\n    if (next > ascii_9) next -= 10;\r\n  }\r\n\r\n  return String.fromCharCode(next);\r\n};\r\n\r\nconst randomiseString = (value: string): string => {\r\n  const randomised = [];\r\n  for (var i = 0; i < value.length; i++) {\r\n    randomised.push(randomiseCharCode(value.charCodeAt(i)));\r\n  }\r\n  return randomised.join(\"\");\r\n};\r\n\r\nconst removeLast4Chars = (s: string) => s.substring(0, s.length - 4);\r\n\r\nexport const processField = (\r\n  value: string,\r\n  name: string,\r\n  isMasked?: boolean\r\n): string => {\r\n  if (name === \"dateShort\")\r\n    return removeLast4Chars(convert20191231to31_Dec_2019(value));\r\n  if (name === \"date\") return convert20191231to31_Dec_2019(value);\r\n\r\n  if (name === \"code\") return getObjectValueString(CODE, value);\r\n\r\n  if (name === \"amount\") {\r\n    return isMasked\r\n      ? randomiseString(centsToDecimal(value))\r\n      : centsToDecimal(value);\r\n  }\r\n\r\n  return isMasked && fieldsToRandomise.includes(name)\r\n    ? randomiseString(value)\r\n    : value;\r\n};\r\n","import React from \"react\";\nimport { processField } from \"process/field\";\nimport { CategoryIconAndLabel } from \"components\";\nimport s from \"./Field.module.css\";\n\ntype Props = {\n  name: string;\n  valueStringBefore?: string;\n  valueStringMiddle?: string;\n  valueStringAfter?: string;\n  valueString?: string;\n  valueNumber?: number;\n  isMasked: boolean;\n  iconOnly?: boolean;\n};\n\n// ----------\n// COMPONENT:\nconst Field = ({\n  name,\n  valueStringBefore,\n  valueStringMiddle,\n  valueStringAfter,\n  valueString,\n  valueNumber,\n  isMasked,\n  iconOnly = false,\n}: Props) => {\n  // CATEGORY COLUMN:\n  if (name === \"category\") {\n    return valueString ? (\n      <td>\n        <CategoryIconAndLabel\n          item={processField(valueString, name)}\n          fullWidth={false}\n          iconOnly={iconOnly}\n        />\n      </td>\n    ) : (\n      <td className={s.categoryEmpty}></td>\n    );\n  }\n\n  // OTHER COLUMNS:\n  const textAlign = name === \"amount\" ? \"textAlignRight\" : \"\";\n  if (valueString) {\n    return (\n      <td className={textAlign}>{processField(valueString, name, isMasked)}</td>\n    );\n  }\n  if (valueStringMiddle) {\n    return isMasked ? (\n      <td className={textAlign}>\n        {processField(\n          valueStringBefore + valueStringMiddle + valueStringAfter,\n          name,\n          isMasked\n        )}\n      </td>\n    ) : (\n      <td className={textAlign}>\n        {valueStringBefore && <span>{valueStringBefore}</span>}\n        <span className={s.highlight}>\n          {processField(valueStringMiddle, name, isMasked)}\n        </span>\n        {valueStringAfter && <span>{valueStringAfter}</span>}\n      </td>\n    );\n  }\n  if (valueNumber) {\n    return (\n      <td className={textAlign}>\n        {processField(valueNumber.toString(), name, isMasked)}\n      </td>\n    );\n  }\n\n  return <td></td>;\n};\n\nexport default Field;\n","import React from \"react\";\nimport cn from \"classnames\";\nimport { TransactionClass } from \"core/TransactionClass\";\nimport s from \"./FieldCopier.module.css\";\n\ntype Props = {\n  transaction: TransactionClass;\n  onClick: (fieldValue: string, fieldName: string) => void;\n};\n\n// ----------\n// COMPONENT:\nconst FieldCopier = ({ transaction, onClick }: Props) => {\n  const copyButton = (fieldName: string, fieldValue: string) => (\n    <button onClick={() => onClick(fieldValue, fieldName)}>{fieldName}</button>\n  );\n\n  return (\n    <div className={cn(s.root, \"flexRowWithMargin\")}>\n      <div>Copy:</div>\n      {copyButton(\"Name\", transaction.name)}\n      {copyButton(\"Counter account\", transaction.counterAccount)}\n      {copyButton(\"Type\", transaction.type)}\n      {copyButton(\"Remarks\", transaction.remarks)}\n      {copyButton(\"Hash\", transaction.hash.toString())}\n    </div>\n  );\n};\n\nexport default FieldCopier;\n","import React from \"react\";\nimport cn from \"classnames\";\nimport s from \"./Icon.module.css\";\n\ntype Props = {\n  name: string;\n  small?: boolean;\n  onClick?: () => void;\n};\n\nconst Icon = ({ name, small, onClick = () => {} }: Props) => {\n  return (\n    <div\n      className={cn(s.root, s[name], {\n        [s.small]: small,\n        [s.clickable]: onClick,\n      })}\n      onClick={onClick}\n    />\n  );\n};\n\nexport default Icon;\n","import React from \"react\";\nimport { Icon } from \"components\";\nimport s from \"./IconButton.module.css\";\n\ntype Props = {\n  icon: string;\n  text: string;\n  onClick: null | (() => void);\n};\n\n// ----------\n// COMPONENT:\nconst IconButton = ({ icon: iconName, text, onClick }: Props) => {\n  const handleClick = () => {\n    if (onClick) {\n      onClick();\n    }\n  };\n\n  return (\n    <button className={s.root + \" flexRowLeft\"} onClick={handleClick}>\n      <Icon name={iconName} />\n      <div>{text}</div>\n    </button>\n  );\n};\n\nexport default IconButton;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { useWindowSize } from \"hooks\";\nimport { Icon } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./Link.module.css\";\n\ntype Props = {\n  to: string;\n  title: string;\n};\n\n// ----------\n// COMPONENT:\nconst Link = ({ to, title }: Props) => {\n  // HOOKS:\n  const { mobile } = useWindowSize();\n\n  return (\n    <NavLink\n      exact={true}\n      className={cn(\n        s.root,\n        mobile ? s.mobile : s.desktop,\n        mobile ? \"flexRowLeft\" : \" flexRowWithMargin\"\n      )}\n      activeClassName={s.activeLink}\n      to={to}\n    >\n      <Icon name={title} />\n      <span className={s.title}>{title}</span>\n    </NavLink>\n  );\n};\n\nexport default Link;\n","import React, { useState, useEffect } from \"react\";\nimport s from \"./Loading.module.css\";\n\n// ----------\n// COMPONENT:\nconst Loading = () => {\n  // STATE:\n  const [count, setCount] = useState(0);\n\n  // EFFECTS:\n  useEffect(\n    () => {\n      const interval = setInterval(everySecond, 100);\n      return () => clearInterval(interval);\n    } /* ,[] */\n  );\n\n  // FUNCTIONS:\n  const everySecond = () => {\n    setCount((count + 1) % 20);\n  };\n\n  return (\n    <div className={s.root}>\n      <div className={s.content}>\n        {\"          Loading...\".slice(count, count + 10)}\n      </div>\n    </div>\n  );\n};\n\nexport default Loading;\n","import React from \"react\";\nimport { Icon, Link } from \"components\";\nimport s from \"./MobileMenu.module.css\";\n\nconst link = (to: string, title: string) => <Link to={to} title={title} />;\n\ntype Props = {\n  onMenuIconClick: () => void;\n};\n\n// ----------\n// COMPONENT:\nconst MobileMenu = ({ onMenuIconClick }: Props) => {\n  return (\n    <div className={s.root}>\n      <Icon name=\"menu\" onClick={onMenuIconClick} />\n\n      <nav onClick={onMenuIconClick}>\n        {link(\"/\", \"Home\")}\n        {link(\"/transactions\", \"Transactions\")}\n        {link(\"/categories\", \"Categories\")}\n        {link(\"/rules\", \"Rules\")}\n        {link(\"/percentage\", \"Percentage\")}\n        {link(\"/trend\", \"Trend\")}\n      </nav>\n    </div>\n  );\n};\n\nexport default MobileMenu;\n","import React, { useState, useContext } from \"react\";\nimport { AppContext, AppContextType } from \"appContext\";\nimport { VoidFunction } from \"core/types\";\nimport { Icon, IconButton } from \"components\";\nimport s from \"./Modal.module.css\";\n\nconst ContentDefault: JSX.Element = <div>dummy</div>;\nconst OnYesClickDefault: VoidFunction = () => {};\n\n// ----------\n// COMPONENT:\nconst Modal = () => {\n  // CONTEXT:\n  const context: AppContextType = useContext(AppContext);\n\n  // STATE:\n  const [opened, setOpened] = useState(false);\n  const [component, setComponent] = useState(ContentDefault);\n  const [onYesClick, setOnYesClick] = useState(() => OnYesClickDefault);\n\n  context.openModal = (\n    componentInput: JSX.Element,\n    onYesClickInput: VoidFunction\n  ): void => {\n    console.log(\"*** onYesClickInput:\", onYesClickInput);\n    setOpened(true);\n    setComponent(componentInput);\n    setOnYesClick(() => onYesClickInput);\n  };\n\n  // FUNCTIONS:\n  const onCancelClick = () => {\n    setOpened(false);\n  };\n  const handleYesClick = () => {\n    onYesClick();\n  };\n\n  if (!opened) {\n    return null;\n  }\n\n  console.log(\"*** onYesClick:\", onYesClick);\n\n  return (\n    <div className={s.root}>\n      <div className={s.box}>\n        <div className={s.header + \" flexRowLeft\"}>\n          <div>Confirm</div>\n        </div>\n\n        <div className={s.component + \" flexRowLeft\"}>\n          <Icon name=\"question\" />\n          {component}\n        </div>\n\n        <div className={s.footer}>\n          <IconButton icon=\"yes\" text=\"Yes\" onClick={handleYesClick} />\n          <IconButton icon=\"no\" text=\"Cancel\" onClick={onCancelClick} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import React, { useState } from \"react\";\nimport { useModal } from \"hooks\";\nimport { TransactionClass } from \"core/TransactionClass\";\nimport { SELECT_ARRAYS, operationIncludesValue2 } from \"core/constants\";\nimport { addRule } from \"services/rules\";\nimport { NewRuleHeader, NewRuleTable } from \"components\";\nimport s from \"./NewRule.module.css\";\n\ntype Props = {\n  transaction: TransactionClass;\n  onSaveClick: () => void;\n};\n\n// ----------\n// COMPONENT:\nconst NewRule = ({ transaction, onSaveClick: propsOnSaveClick }: Props) => {\n  // STATE:\n  const [categoryIndex, setCategoryIndex] = useState(0);\n  const [fieldIndex, setFieldIndex] = useState(0);\n  const [operationIndex, setOperationIndex] = useState(0);\n  const [caseSensitivityIndex, setCaseSensitivityIndex] = useState(0);\n  const [value1, setValue1] = useState(\"\");\n  const [value2, setValue2] = useState(\"\");\n  const [lessMoreIndex, setLessMoreIndex] = useState(0);\n  const [lessMoreAmount, setLessMoreAmount] = useState(\"0.00\");\n\n  // CUSTOM HOOKS:\n  const { openModal } = useModal();\n\n  const { CATEGORIES, FIELDS, NO_YES, OPERATIONS, LESS_MORE } = SELECT_ARRAYS;\n\n  // SELECT & VALUE CHANGES:\n  const onCategoryChange = (index: number) => {\n    setCategoryIndex(index);\n  };\n  const onFieldChange = (event: any) => {\n    setFieldIndex(event.target.value);\n  };\n  const onOperationChange = (event: any) => {\n    setOperationIndex(event.target.value);\n  };\n  const onCaseSensitivityChange = (event: any) => {\n    setCaseSensitivityIndex(event.target.value);\n  };\n  const onValueChange = (event: any, valueIndex: number) => {\n    switch (valueIndex) {\n      case 1:\n        setValue1(event.target.value);\n        break;\n      case 2:\n        setValue2(event.target.value);\n        break;\n      default:\n        break;\n    }\n  };\n  const onLessMoreChange = (event: any) => {\n    setLessMoreIndex(event.target.value);\n  };\n  const onLessMoreAmountChange = (value: string) => {\n    setLessMoreAmount(value);\n  };\n\n  // BUTTON CLICKS:\n  const onCopyClick = (fieldValue: string, fieldName: string) => {\n    const fieldIndex = FIELDS.indexOf(fieldName);\n    setFieldIndex(fieldIndex);\n    setValue1(fieldValue);\n  };\n  const onSaveClick = () => {\n    openModal(\n      <div>Are you sure you want to save this rule?</div>,\n      onSaveConfirm\n    );\n  };\n  const onSaveConfirm = () => {\n    addRule({\n      id: 0,\n      category: CATEGORIES[categoryIndex],\n      field: FIELDS[fieldIndex],\n      operation: OPERATIONS[operationIndex],\n      caseSensitive: NO_YES[caseSensitivityIndex],\n      value1: value1,\n      value2: operationIncludesValue2(operationIndex) ? value2 : null,\n      lessMore: lessMoreAmount === \"0.00\" ? null : LESS_MORE[lessMoreIndex],\n      lessMoreAmount: lessMoreAmount === \"0.00\" ? null : lessMoreAmount,\n    });\n\n    propsOnSaveClick();\n  };\n\n  return (\n    <div className={s.root}>\n      <NewRuleHeader\n        transaction={transaction}\n        onCopyClick={onCopyClick}\n        onSaveClick={onSaveClick}\n      />\n\n      <NewRuleTable\n        categoryIndex={categoryIndex}\n        fieldIndex={fieldIndex}\n        operationIndex={operationIndex}\n        caseSensitivityIndex={caseSensitivityIndex}\n        value1={value1}\n        value2={value2}\n        lessMoreIndex={lessMoreIndex}\n        lessMoreAmount={lessMoreAmount}\n        onCategoryChange={onCategoryChange}\n        onFieldChange={onFieldChange}\n        onOperationChange={onOperationChange}\n        onCaseSensitivityChange={onCaseSensitivityChange}\n        onValueChange={onValueChange}\n        onLessMoreChange={onLessMoreChange}\n        onLessMoreAmountChange={onLessMoreAmountChange}\n      />\n    </div>\n  );\n};\n\nexport default NewRule;\n","import React from \"react\";\nimport cn from \"classnames\";\nimport { TransactionClass } from \"core/TransactionClass\";\nimport { FieldCopier, IconButton } from \"components\";\nimport s from \"./NewRuleHeader.module.css\";\n\ntype Props = {\n  transaction: TransactionClass;\n  onCopyClick: (fieldValue: string, fieldName: string) => void;\n  onSaveClick: () => void;\n};\n\n// ----------\n// COMPONENT:\nconst NewRuleHeader = ({ transaction, onCopyClick, onSaveClick }: Props) => {\n  return (\n    <div className={cn(s.root, \"flexRowWithMargin\")}>\n      <h3>New rule</h3>\n\n      <FieldCopier transaction={transaction} onClick={onCopyClick} />\n      <IconButton icon=\"save\" text=\"Save\" onClick={onSaveClick} />\n    </div>\n  );\n};\n\nexport default NewRuleHeader;\n","import React from \"react\";\nimport { SELECT_ARRAYS } from \"core/constants\";\nimport { NumberInput, Select, SelectWithIcons, ValueInput } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./NewRuleTable.module.css\";\n\ntype Props = {\n  categoryIndex: number;\n  fieldIndex: number;\n  operationIndex: number;\n  caseSensitivityIndex: number;\n  value1: string;\n  value2: string;\n  lessMoreIndex: number;\n  lessMoreAmount: string;\n  onCategoryChange: (event: any) => void;\n  onFieldChange: (event: any) => void;\n  onOperationChange: (event: any) => void;\n  onCaseSensitivityChange: (event: any) => void;\n  onValueChange: (event: any, valueIndex: number) => void;\n  onLessMoreChange: (event: any) => void;\n  onLessMoreAmountChange: (value: string) => void;\n};\n\n// ----------\n// COMPONENT:\nconst NewRuleTable = ({\n  categoryIndex,\n  fieldIndex,\n  operationIndex,\n  caseSensitivityIndex,\n  value1,\n  value2,\n  lessMoreIndex,\n  lessMoreAmount,\n  onCategoryChange,\n  onFieldChange,\n  onOperationChange,\n  onCaseSensitivityChange,\n  onValueChange,\n  onLessMoreChange,\n  onLessMoreAmountChange,\n}: Props) => {\n  const { CATEGORIES, FIELDS, NO_YES, OPERATIONS, LESS_MORE } = SELECT_ARRAYS;\n\n  return (\n    <div className={s.root}>\n      <div className={cn(\"flexRowWithMargin\", s.equalWidth, s.headerRow)}>\n        <div>Category</div>\n        <div>Field</div>\n        <div>Operation</div>\n        <div>Case sensitive</div>\n      </div>\n\n      <div className={cn(\"flexRowWithMargin\", s.equalWidth)}>\n        <SelectWithIcons\n          items={CATEGORIES}\n          selected={categoryIndex}\n          onChange={onCategoryChange}\n        />\n        <Select items={FIELDS} selected={fieldIndex} onChange={onFieldChange} />\n        <Select\n          items={OPERATIONS}\n          selected={operationIndex}\n          onChange={onOperationChange}\n        />\n        <Select\n          items={NO_YES}\n          selected={caseSensitivityIndex}\n          onChange={onCaseSensitivityChange}\n        />\n      </div>\n\n      <ValueInput index={1} value={value1} onChange={onValueChange} />\n      <ValueInput index={2} value={value2} onChange={onValueChange} />\n\n      <br />\n      <div className={\"flexRow\"}>\n        <div>and amount</div>\n        <Select\n          items={LESS_MORE}\n          selected={lessMoreIndex}\n          onChange={onLessMoreChange}\n        />\n        <NumberInput\n          value={lessMoreAmount}\n          min={0}\n          decimalPoints={2}\n          width={\"short\"}\n          onChange={onLessMoreAmountChange}\n        />\n        <div>(0 : ignored)</div>\n      </div>\n    </div>\n  );\n};\n\nexport default NewRuleTable;\n","import React from \"react\";\nimport { NotificationType } from \"core/types\";\nimport { Icon } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./Notification.module.css\";\n\ntype Props = {\n  notification: NotificationType;\n};\n\n// ----------\n// COMPONENT:\nconst Notification = ({ notification }: Props) => {\n  const { severity, message } = notification;\n\n  return (\n    <div className={cn(s.root, s[severity])}>\n      <Icon small={true} name={severity} />\n      <div className={s.message}>{message}</div>\n    </div>\n  );\n};\n\nexport default Notification;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { AppContext, AppContextType } from \"appContext\";\nimport { NotificationType, Severity } from \"core/types\";\nimport { Notification } from \"components\";\nimport s from \"./Notifications.module.css\";\n\nconst MaxNotifications = 3;\nconst MaxSecondsLeft = 10;\n\nconst DefaultNotifications: NotificationType[] = [\n  // {\n  //   severity: \"info\",\n  //   message: \"Information\",\n  //   secondsLeft: 5,\n  // },\n  // {\n  //   severity: \"debug\",\n  //   message: \"Debug\",\n  //   secondsLeft: 4,\n  // },\n  // {\n  //   severity: \"warning\",\n  //   message: \"Warning\",\n  //   secondsLeft: 3,\n  // },\n  // {\n  //   severity: \"error\",\n  //   message: \"Error\",\n  //   secondsLeft: 2,\n  // },\n];\n\n// ----------\n// COMPONENT:\nconst Notifications = () => {\n  // CONTEXT:\n  const context: AppContextType = useContext(AppContext);\n\n  // STATE:\n  const [notifications, setNotifications] = useState(DefaultNotifications);\n\n  // EFFECTS:\n  useEffect(\n    () => {\n      const interval = setInterval(everySecond, 1000);\n      return () => clearInterval(interval);\n    } /* ,[] */\n  );\n\n  // FUNCTIONS:\n  const everySecond = () => {\n    const decremented = notifications.map(n => ({\n      ...n,\n      secondsLeft: n.secondsLeft - 1,\n    }));\n    const filtered = decremented.filter(n => n.secondsLeft > 0);\n    setNotifications(filtered);\n  };\n\n  context.addNotification = (severity: Severity, message: string): void => {\n    const notification: NotificationType = {\n      severity,\n      message,\n      secondsLeft: MaxSecondsLeft,\n    };\n    let newArray = [...notifications, notification];\n    if (newArray.length > MaxNotifications) {\n      newArray.shift();\n    }\n    setNotifications(newArray);\n  };\n\n  // CLICKS:\n  const onClearButtonClick = () => {\n    setNotifications([]);\n  };\n\n  return (\n    <div className={s.root}>\n      <div>\n        {notifications.map((notification: NotificationType, index: number) => (\n          <Notification key={index} notification={notification} />\n        ))}\n      </div>\n      {notifications.length > 0 && (\n        <div>\n          <button onClick={onClearButtonClick}>Clear</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Notifications;\n","import React, { useState } from \"react\";\nimport cn from \"classnames\";\nimport s from \"./NumberInput.module.css\";\n\ntype Props = {\n  value: string;\n  min?: number;\n  max?: number;\n  decimalPoints?: number;\n  width?: \"short\";\n  onChange: (value: string) => void;\n};\n\n// ----------\n// COMPONENT:\nconst NumberInput = ({\n  value,\n  min,\n  max,\n  decimalPoints,\n  width,\n  onChange,\n}: Props) => {\n  const [stateValue, setStateValue] = useState(value);\n\n  const validateNumber = (input: string) => {\n    let n = Number(input);\n    if (!n) return null;\n\n    if (decimalPoints) {\n      n = Math.floor(n * 100 ** decimalPoints) / 100 ** decimalPoints;\n    }\n\n    if (min && min !== 0 && n < min) n = min;\n    if (max && max !== 0 && n > max) n = max;\n\n    return decimalPoints ? n.toFixed(decimalPoints) : n.toString();\n  };\n\n  const handleChange = (event: any) => {\n    setStateValue(event.target.value);\n  };\n\n  const handleBlur = (event: any) => {\n    const s: string = validateNumber(event.target.value) || value;\n    setStateValue(s);\n    onChange(s);\n  };\n\n  return (\n    <input\n      type=\"text\"\n      className={cn(s.root, { [s.short]: width === \"short\" })}\n      placeholder={\"0.00\"}\n      value={stateValue}\n      onChange={handleChange}\n      onFocus={() => setStateValue(\"\")}\n      onBlur={handleBlur}\n    />\n  );\n};\n\nexport default NumberInput;\n","import React from \"react\";\nimport { Modal, Notifications } from \"components\";\nimport s from \"./PageFooter.module.css\";\n\n// ----------\n// COMPONENT:\nconst PageFooter = () => {\n  return (\n    <footer className={s.root}>\n      <Notifications />\n      <Modal />\n    </footer>\n  );\n};\n\nexport default PageFooter;\n","import React, { useState } from \"react\";\r\nimport { useWindowSize } from \"hooks\";\r\nimport { DesktopMenu, Icon, MobileMenu, PageHeaderButtons } from \"components\";\r\nimport cn from \"classnames\";\r\nimport s from \"./PageHeader.module.css\";\r\n\r\ntype Props = {\r\n  network: boolean;\r\n  onNetworkClick: () => void;\r\n  mask: boolean;\r\n  onMaskClick: () => void;\r\n};\r\n\r\n// ----------\r\n// COMPONENT:\r\nconst PageHeader = ({ network, onNetworkClick, mask, onMaskClick }: Props) => {\r\n  // HOOKS:\r\n  const { desktop, mobile } = useWindowSize();\r\n\r\n  // STATE:\r\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n\r\n  // FUNCTIONS:\r\n  const onMenuIconClick = () => {\r\n    setIsMobileMenuOpen(!isMobileMenuOpen);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <header className={cn(s.root, \"flexRowWithMarginBaseline\", s.stickyTop)}>\r\n        {mobile && <Icon name=\"menu\" onClick={onMenuIconClick} />}\r\n\r\n        {isMobileMenuOpen && <MobileMenu onMenuIconClick={onMenuIconClick} />}\r\n\r\n        <div className={s.appTitle + \" flexRowLeft\"}>\r\n          <img className={s.logo} alt=\"\" src=\"/favicon-32x32.png\" />\r\n          <div>ELSBNK</div>\r\n        </div>\r\n\r\n        {desktop && <DesktopMenu />}\r\n\r\n        <PageHeaderButtons\r\n          network={network}\r\n          onNetworkClick={onNetworkClick}\r\n          mask={mask}\r\n          onMaskClick={onMaskClick}\r\n        />\r\n      </header>\r\n\r\n      <div className={s.stickyBottom} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PageHeader;\r\n","import React from \"react\";\nimport { Icon } from \"components\";\nimport s from \"./PageHeaderButtons.module.css\";\n\ntype Props = {\n  network: boolean;\n  onNetworkClick: () => void;\n  mask: boolean;\n  onMaskClick: () => void;\n};\n\n// ----------\n// COMPONENT:\nconst PageHeaderButtons = ({\n  network,\n  onNetworkClick,\n  mask,\n  onMaskClick,\n}: Props) => {\n  return (\n    <div className={s.root + \" flexRowLeft\"}>\n      <button onClick={onNetworkClick}>\n        <Icon name={network ? \"networkOn\" : \"networkOff\"} />\n      </button>\n      <button onClick={onMaskClick}>\n        <Icon name={mask ? \"maskOn\" : \"maskOff\"} />\n      </button>\n    </div>\n  );\n};\n\nexport default PageHeaderButtons;\n","import React from \"react\";\nimport s from \"./Select.module.css\";\n\ntype Props = {\n  items: string[];\n  selected: number;\n  onChange: (event: any) => void;\n};\n\n// ----------\n// COMPONENT:\nconst Select = ({ items, selected, onChange }: Props) => {\n  return (\n    <div className={s.root}>\n      <select onChange={onChange} value={selected}>\n        {items.map((item, index) => (\n          <option key={index} value={index}>\n            {item}\n          </option>\n        ))}\n      </select>\n    </div>\n  );\n};\n\nexport default Select;\n","import React, { useState } from \"react\";\nimport { CategoryIconAndLabel } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./SelectWithIcons.module.css\";\n\ntype Props = {\n  items: string[];\n  selected: number;\n  onChange: (event: any) => void;\n};\n\n// ----------\n// COMPONENT:\nconst SelectWithIcons = ({ items, selected, onChange }: Props) => {\n  const [expanded, setExpanded] = useState(false);\n\n  return (\n    <div className={s.root} onClick={() => setExpanded(!expanded)}>\n      <div className={s.topBar}>\n        <div className={s.topBarText}>{items[selected]}</div>\n        <div className={s.topBarButton} />\n      </div>\n\n      {expanded && (\n        <div className={s.items}>\n          {items.map((item, index) => (\n            <div key={index} className={s.item}>\n              <div\n                className={cn(s.selectMarker, {\n                  [s.selected]: index === selected,\n                })}\n              />\n              <CategoryIconAndLabel\n                index={index}\n                fullWidth={true}\n                item={item}\n                onChange={onChange}\n              />\n              {/* <div\n                className={s.iconAndLabel}\n                style={{ backgroundColor: getCategoryColour(CATEGORIES, item) }}\n                onClick={() => onChange(index)}\n              >\n                <span className={s.itemIcon}>\n                  <CategoryIcon category={getCategoryIcon(item)} />\n                </span>\n                {item}\n              </div> */}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SelectWithIcons;\n","import React from \"react\";\nimport s from \"./ToggleButton.module.css\";\n\ntype Props = {\n  on: boolean;\n  text: string;\n  // textFalse: string;\n  // iconTrue: string;\n  // iconFalse: string;\n  onClick: (event: any) => void;\n};\n\n// ----------\n// COMPONENT:\nconst ToggleButton = ({ on, text, onClick }: Props) => {\n  return (\n    <div className={s.root}>\n      <button className={on ? s.on : \"\"} onClick={onClick}>\n        {text}\n      </button>\n    </div>\n  );\n};\n\nexport default ToggleButton;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useWindowSize } from \"hooks\";\nimport { TransactionClass } from \"core/TransactionClass\";\nimport { Field } from \"components\";\nimport { splitLongStringAt } from \"core/utils\";\nimport cn from \"classnames\";\nimport s from \"./Transaction.module.css\";\n\ntype Props = {\n  index: number;\n  transaction: TransactionClass;\n  clickable: boolean;\n  urlId: number;\n  isHashVisible: boolean;\n  isMasked: boolean;\n};\n\n// ----------\n// COMPONENT:\nconst Transaction = ({\n  index,\n  transaction,\n  clickable,\n  urlId,\n  isHashVisible,\n  isMasked,\n}: Props) => {\n  // HOOKS:\n  const { desktop, mobile } = useWindowSize();\n  const history = useHistory();\n\n  // FUNCTIONS:\n  const fieldString = (\n    name: string,\n    value: string,\n    splitAt: number = 0,\n    iconOnly: boolean = false\n  ) => (\n    <Field\n      name={name}\n      valueString={splitAt === 0 ? value : splitLongStringAt(value, splitAt)}\n      isMasked={isMasked}\n      iconOnly={iconOnly}\n    />\n  );\n  // --------------------------------------------------------------\n  const fieldStringUnderlined = (\n    name: string,\n    transaction: TransactionClass,\n    splitAt: number = 0\n  ) => {\n    const fieldValue = transaction.getFieldValueString(name);\n    const { rule } = transaction;\n    const ruleField = rule ? rule.field.toLowerCase() : null;\n\n    if (rule && ruleField === name) {\n      const { operation, caseSensitive, value1 } = rule;\n\n      if (operation === \"= v1\") {\n        return (\n          <Field\n            name={name}\n            valueStringMiddle={fieldValue}\n            isMasked={isMasked}\n          />\n        );\n      }\n\n      if (operation === \"includes v1\") {\n        const fv =\n          caseSensitive === \"Yes\" ? fieldValue : fieldValue.toLowerCase();\n        const v1 = caseSensitive === \"Yes\" ? value1 : value1.toLowerCase();\n        const i = fv.indexOf(v1);\n\n        return (\n          <Field\n            name={name}\n            valueStringBefore={fieldValue.slice(0, i)}\n            valueStringMiddle={fieldValue.slice(i, i + v1.length)}\n            valueStringAfter={fieldValue.slice(i + v1.length)}\n            isMasked={isMasked}\n          />\n        );\n      }\n    }\n\n    return (\n      <Field\n        name={name}\n        valueString={\n          splitAt === 0 ? fieldValue : splitLongStringAt(fieldValue, splitAt)\n        }\n        isMasked={isMasked}\n      />\n    );\n  };\n  // --------------------------------------------------------------\n  const fieldNumber = (name: string, fieldValue: number) => (\n    <Field name={name} valueNumber={fieldValue} isMasked={isMasked} />\n  );\n\n  const isIncoming = transaction.isIncoming;\n  const incomingClass = isIncoming ? s.incoming : \"\";\n  const clickableClass = clickable ? s.clickable : \"\";\n  const highlightIndexClass =\n    urlId === transaction.index ? s.highlightIndex : \"\";\n\n  const handleClick = clickable\n    ? (index: number) => {\n        history.replace(`/rules/transaction=${index}`);\n      }\n    : () => {};\n\n  return (\n    <tr\n      className={cn(\"root\", incomingClass, clickableClass, highlightIndexClass)}\n      onClick={() => handleClick(transaction.index)}\n    >\n      {desktop && fieldNumber(\"index\", transaction.index)}\n      {fieldString(index === 0 ? \"date\" : \"dateShort\", transaction.date)}\n      {fieldStringUnderlined(\"name\", transaction)}\n      {desktop && fieldString(\"counterAccount\", transaction.counterAccount, 8)}\n      {desktop && fieldString(\"code\", transaction.code)}\n      {fieldNumber(\"amount\", transaction.amount)}\n      {desktop && fieldString(\"type\", transaction.type)}\n      {desktop && fieldStringUnderlined(\"remarks\", transaction)}\n      {isHashVisible && fieldString(\"hash\", transaction.hash.toString(), 6)}\n      {fieldString(\"category\", transaction.category, 0, mobile)}\n    </tr>\n  );\n};\n\nexport default Transaction;\n","import React from \"react\";\r\nimport { useWindowSize } from \"hooks\";\r\nimport { TransactionClass } from \"core/TransactionClass\";\r\nimport { Transaction, TransactionsTableHeader } from \"components\";\r\nimport s from \"./TransactionList.module.css\";\r\n\r\ntype Props = {\r\n  transactions: TransactionClass[];\r\n  clickable: boolean;\r\n  urlId: number;\r\n  isHashVisible: boolean;\r\n  isMasked: boolean;\r\n};\r\n\r\n// ----------\r\n// COMPONENT:\r\nconst TransactionList = ({\r\n  transactions,\r\n  clickable,\r\n  urlId,\r\n  isHashVisible,\r\n  isMasked,\r\n}: Props) => {\r\n  // HOOKS:\r\n  const { mobile } = useWindowSize();\r\n\r\n  return (\r\n    <div className={s.root}>\r\n      {transactions.length === 1 && <h3>Transaction</h3>}\r\n\r\n      <table className={mobile ? s.tableMobile : s.tableDesktop}>\r\n        <TransactionsTableHeader isHashVisible={isHashVisible} />\r\n\r\n        <tbody>\r\n          {transactions.map((t, index) => (\r\n            <Transaction\r\n              key={index}\r\n              index={index}\r\n              transaction={t}\r\n              clickable={clickable}\r\n              urlId={urlId}\r\n              isHashVisible={isHashVisible}\r\n              isMasked={isMasked}\r\n            />\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionList;\r\n","import React from \"react\";\nimport cn from \"classnames\";\nimport { TransactionsPageHeaderButtons } from \"components\";\nimport s from \"./TransactionsPageHeader.module.css\";\n\ntype Props = {\n  pageIndex: number;\n  onClick: (increment: number) => void;\n};\n\n// ----------\n// COMPONENT:\nconst TransactionsPageHeader = ({ pageIndex, onClick }: Props) => {\n  return (\n    <div className={cn(s.root, \"flexRowWithMargin\")}>\n      <h3>Transactions</h3>\n      <TransactionsPageHeaderButtons pageIndex={pageIndex} onClick={onClick} />\n    </div>\n  );\n};\n\nexport default TransactionsPageHeader;\n","import React, { useEffect } from \"react\";\nimport { Icon } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./TransactionsPageHeaderButtons.module.css\";\n\ntype Event = {\n  key: string;\n};\n\ntype Props = {\n  pageIndex: number;\n  onClick: (event: any) => void;\n};\n\n// ----------\n// COMPONENT:\nconst TransactionsPageHeaderButtons = ({ pageIndex, onClick }: Props) => {\n  const percentage = (pageIndex * 1000) / 11636;\n\n  // EFFECTS - GET DATA:\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown);\n    }; // on unmount\n  });\n\n  const handleKeyDown = (event: Event) => {\n    const { key } = event;\n\n    switch (key) {\n      case \"ArrowLeft\":\n        onClick(-1);\n        break;\n\n      case \"ArrowRight\":\n        onClick(1);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div className={cn(s.root, \"flexRowWithMargin\")}>\n      <button onClick={() => onClick(-1)}>\n        <Icon name=\"previous\" />\n      </button>\n      <div>\n        {pageIndex + 1} ({percentage.toFixed(1)}%)\n      </div>\n      <button onClick={() => onClick(1)}>\n        <Icon name=\"next\" />\n      </button>\n    </div>\n  );\n};\n\nexport default TransactionsPageHeaderButtons;\n","import React from \"react\";\nimport { useWindowSize } from \"hooks\";\nimport s from \"./TransactionsTableHeader.module.css\";\n\ntype Props = {\n  isHashVisible: boolean;\n};\n\n// ----------\n// COMPONENT:\nconst TransactionsTableHeader = ({ isHashVisible }: Props) => {\n  // HOOKS:\n  const { desktop } = useWindowSize();\n\n  return (\n    <thead className={s.root}>\n      <tr>\n        {desktop && <th>#</th>}\n        <th>Date</th>\n        <th>Name</th>\n        {desktop && <th>Counter account</th>}\n        {desktop && <th>Code</th>}\n        <th>{desktop ? \"Amount\" : \"€\"}</th>\n        {desktop && <th>Type</th>}\n        {desktop && <th>Remarks</th>}\n        {isHashVisible && <th>Hash</th>}\n        <th>{desktop ? \"Category\" : \"Cat\"}</th>\n      </tr>\n    </thead>\n  );\n};\n\nexport default TransactionsTableHeader;\n","import React from \"react\";\nimport { TrendChartPageHeaderButtons } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./TrendChartPageHeader.module.css\";\n\ntype Props = {\n  isStacked: boolean;\n  isBoxed?: boolean;\n  onStackedClick: () => void;\n};\n\n// ----------\n// COMPONENT:\nconst TrendChartPageHeader = ({\n  isStacked,\n  isBoxed = false,\n  onStackedClick,\n}: Props) => {\n  const isFullPage = !isBoxed;\n  const title = \"Trend: expense categories\";\n\n  return (\n    <div className={cn(s.root, \"flexRowWithMargin\")}>\n      {isFullPage ? <h3>{title}</h3> : <h4>{title}</h4>}\n\n      {isFullPage && (\n        <TrendChartPageHeaderButtons\n          isStacked={isStacked}\n          onStackedClick={onStackedClick}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TrendChartPageHeader;\n","import React from \"react\";\nimport { ToggleButton } from \"components\";\nimport cn from \"classnames\";\nimport s from \"./TrendChartPageHeaderButtons.module.css\";\n\ntype Props = {\n  isStacked: boolean;\n  onStackedClick: () => void;\n};\n\n// ----------\n// COMPONENT:\nconst TrendChartPageHeaderButtons = ({ isStacked, onStackedClick }: Props) => {\n  return (\n    <div className={cn(s.root, \"flexRowWithMargin\")}>\n      <ToggleButton on={isStacked} text=\"Stacked\" onClick={onStackedClick} />\n    </div>\n  );\n};\n\nexport default TrendChartPageHeaderButtons;\n","import React from \"react\";\nimport cn from \"classnames\";\nimport s from \"./ValueInput.module.css\";\n\ntype Props = {\n  index: number;\n  value: string;\n  onChange: (event: any, index: number) => void;\n};\n\n// ----------\n// COMPONENT:\nconst ValueInput = ({ index, value, onChange }: Props) => (\n  <div className={cn(s.root, \"flexRowWithMargin\")}>\n    <div className={s.valueTitle}>Value {index}:</div>\n    <input\n      type=\"text\"\n      value={value}\n      onChange={event => onChange(event, index)}\n    />\n  </div>\n);\n\nexport default ValueInput;\n","import { Rule } from \"core/types\";\r\nimport { TransactionClass } from \"core/TransactionClass\";\r\nimport { convert20191231to31_Dec_2019, daysBetween } from \"core/utils\";\r\nimport { getTotal } from \"core/utils_js.js\";\r\nimport { getCategory } from \"./categories\";\r\nimport { groupCategoryAndCents } from \"./charts_js.js\";\r\n\r\ntype CategoryAndCents = [string, number];\r\n\r\ntype GraphDataItem = {\r\n  name: string;\r\n  value: number;\r\n  label: string;\r\n};\r\n\r\ntype ExpensesByCategoryGraphData = {\r\n  graphDataItems: GraphDataItem[];\r\n  total: number;\r\n  from: string;\r\n  to: string;\r\n  dayCount: number;\r\n  totalPerMonth: number;\r\n};\r\n\r\nconst sortCategoriesAndCents = (a: CategoryAndCents, b: CategoryAndCents) => {\r\n  const m = a[1];\r\n  const n = b[1];\r\n  return m - n;\r\n};\r\n\r\nconst getDateRange = (transactions: TransactionClass[]) => {\r\n  const fromString = transactions[transactions.length - 1].date;\r\n  const toString = transactions[0].date;\r\n  const from = convert20191231to31_Dec_2019(fromString);\r\n  const to = convert20191231to31_Dec_2019(toString);\r\n  const dayCount = daysBetween(fromString, toString);\r\n  return { from, to, dayCount };\r\n};\r\n\r\nconst perMonth = (amount: number, days: number) =>\r\n  Math.round(((amount / days / 100) * 365.25) / 12);\r\n\r\nconst getGraphDataItem = (\r\n  item: CategoryAndCents,\r\n  days: number,\r\n  total: number\r\n): GraphDataItem => {\r\n  const name = item[0];\r\n  const value = item[1];\r\n  const valueToDisplay = perMonth(value, days);\r\n  const percentage = (value * 100) / total;\r\n  const label =\r\n    percentage >= 1\r\n      ? `${name} ${valueToDisplay} (${percentage.toFixed(1)}%)`\r\n      : \"\";\r\n  return { name, value, label };\r\n};\r\n\r\nconst filterCategoryAndCents = (item: CategoryAndCents) =>\r\n  item[0] !== \"Credit card\" &&\r\n  item[0] !== \"Ignore\" &&\r\n  item[0] !== \"Salary\" &&\r\n  item[0] !== \"Self\";\r\n\r\nconst getCategoryAndCents = (\r\n  transaction: TransactionClass,\r\n  rules: Rule[]\r\n): CategoryAndCents => {\r\n  const category = getCategory(transaction, rules);\r\n  return [category, -transaction.amount];\r\n};\r\n\r\nconst groupCategoryAndCentsArray = (\r\n  categoryAndCentsArray: CategoryAndCents[]\r\n): object => {\r\n  let groupedAsObject = {};\r\n  categoryAndCentsArray.forEach(item =>\r\n    groupCategoryAndCents(item, groupedAsObject)\r\n  );\r\n  return groupedAsObject;\r\n};\r\n\r\nexport const getExpensesByCategoryGraphData = (\r\n  transactions: TransactionClass[],\r\n  rules: Rule[]\r\n): ExpensesByCategoryGraphData => {\r\n  console.log(\"*** GETEXPENSESBYCATEGORYGRAPHDATA CALLED\");\r\n\r\n  const categoryAndCentsArray: CategoryAndCents[] = transactions.map(\r\n    transaction => getCategoryAndCents(transaction, rules)\r\n  );\r\n\r\n  const filtered = categoryAndCentsArray.filter(item =>\r\n    filterCategoryAndCents(item)\r\n  );\r\n\r\n  const grouped = groupCategoryAndCentsArray(filtered);\r\n  const groupedArray = Object.entries(grouped);\r\n  groupedArray.sort(sortCategoriesAndCents);\r\n\r\n  // const reducer = (total: number, item: CategoryAndCents) => total + item[1];\r\n  // const total = groupedArray.reduce(reducer, 0);\r\n  const total = getTotal(groupedArray, \"1\");\r\n\r\n  const { from, to, dayCount } = getDateRange(transactions);\r\n\r\n  const graphDataItems: GraphDataItem[] = groupedArray.map(item =>\r\n    getGraphDataItem(item, dayCount, total)\r\n  );\r\n\r\n  const totalPerMonth = perMonth(total, dayCount);\r\n\r\n  return {\r\n    graphDataItems,\r\n    total: Math.round(total / 100),\r\n    from,\r\n    to,\r\n    dayCount,\r\n    totalPerMonth,\r\n  };\r\n};\r\n","// Group array as object\r\nexport const groupCategoryAndCents = (item, groupedAsObject) => {\r\n  const category = item[0];\r\n  const amount = item[1];\r\n\r\n  groupedAsObject[category] = groupedAsObject[category]\r\n    ? groupedAsObject[category] + amount\r\n    : amount;\r\n};\r\n","// eg: const total = getTotal(categoriesAndCents, \"value\");\r\n// eg: const total2 = getTotal(groupedArray, \"1\");\r\nexport const getTotal = (objectArray, propertyName) => {\r\n  let total = 0;\r\n  objectArray.forEach(obj => (total += obj[propertyName]));\r\n  return total;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport {\n  // Pie chart for desktop\n  PieChart,\n  Pie,\n  Cell,\n  PieProps,\n  // Bar chart for mobile\n  BarChart,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Bar,\n} from \"recharts\"; // node_modules\\@types\\recharts\\index.d.ts\nimport { useWindowSize } from \"hooks\";\nimport { SELECT_ARRAYS, TRANSACTION_COUNT } from \"core/constants\";\nimport { centsToDecimal } from \"core/utils\";\nimport { Loading } from \"components\";\nimport { fetchRules } from \"services/rules\";\nimport { fetchTransactions } from \"services/transactions\";\nimport { getExpensesByCategoryGraphData } from \"process/charts\";\nimport { getCategoryColour } from \"core/colours\";\nimport cn from \"classnames\";\nimport s from \"./PercentageChartPage.module.css\";\n\nimport testdata from \"testdata/expensesByCategoryGraphData.json\";\n\nconst { CATEGORIES } = SELECT_ARRAYS;\n\ntype CategoryAndCent = {\n  name: string;\n  value: number;\n  label: string;\n};\nconst categoriesAndCentsDefault: CategoryAndCent[] = [];\n\ntype Props = {\n  isBoxed?: boolean;\n  network: boolean;\n  onBoxClick?: (target: string) => void;\n};\n\n// -------------------------------------\n// COMPONENT:\n// https://recharts.org/en-US/api/PieChart\nconst PercentageChartPage = ({\n  isBoxed = false,\n  network,\n  onBoxClick = () => {},\n}: Props) => {\n  // HOOKS:\n  const { desktop, mobile, width } = useWindowSize();\n\n  const isFullPage = !isBoxed;\n  const title = \"Percentage: expenses per category (€/mo)\";\n\n  const getFactors = (): number[] => {\n    if (isBoxed) return [0.61, 2, 1.75, 1.7];\n    if (mobile) return [0.42, 0.5, 1.75, 1.7];\n    return [1, 1, 1, 1];\n  };\n\n  const [factor, outerRadiusFactor, heightFactor, cyFactor] = getFactors();\n\n  // STATE:\n  const [categoriesAndCents, setCategoriesAndCents] = useState(\n    categoriesAndCentsDefault\n  );\n  const [total, setTotal] = useState(0);\n  const [from, setFrom] = useState(\"\");\n  const [to, setTo] = useState(\"\");\n  const [dayCount, setDayCount] = useState(0);\n  const [totalPerMonth, setTotalPerMonth] = useState(0);\n\n  const getData = async () => {\n    if (network) {\n      return testdata;\n    } else {\n      const r = await fetchRules(network);\n      const t = await fetchTransactions(0, TRANSACTION_COUNT, network);\n      const data = getExpensesByCategoryGraphData(t, r);\n      return data;\n    }\n  };\n\n  // EFFECTS - GET DATA:\n  useEffect(() => {\n    const fetchData = async () => {\n      const {\n        graphDataItems,\n        total,\n        from,\n        to,\n        dayCount,\n        totalPerMonth,\n      } = await getData();\n\n      setCategoriesAndCents(graphDataItems);\n      setTotal(total);\n      setFrom(from);\n      setTo(to);\n      setDayCount(dayCount);\n      setTotalPerMonth(totalPerMonth);\n    };\n    fetchData();\n    return () => {}; // on unmount\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [network]);\n\n  // FUNCTIONS:\n  type PieProps2 = { index: number };\n  const renderCustomizedLabel = (props: PieProps) => {\n    const { index } = (props as unknown) as PieProps2;\n    return categoriesAndCents[index].label;\n  };\n\n  if (isFullPage && (categoriesAndCents.length === 0 || !from || !to)) {\n    return <Loading />;\n  }\n\n  const barChartData = mobile\n    ? categoriesAndCents\n        .slice(categoriesAndCents.length - 20)\n        .map(x => ({\n          ...x,\n          name: x.name.replace(\" \", \"-\"),\n          value: (x.value / total / 100).toFixed(3),\n        }))\n        .reverse()\n    : [];\n\n  return (\n    <div\n      className={cn(\"page\", s.root)}\n      onClick={isFullPage ? () => {} : () => onBoxClick(\"/percentage\")}\n    >\n      {isFullPage ? <h3>{title}</h3> : <h4>{title}</h4>}\n\n      {desktop && (\n        <PieChart width={800 * factor} height={450 * factor * heightFactor}>\n          <Pie\n            data={categoriesAndCents}\n            cx={400 * factor}\n            cy={225 * factor * cyFactor}\n            labelLine={false}\n            label={isFullPage ? renderCustomizedLabel : () => \"\"}\n            outerRadius={180 * factor * outerRadiusFactor}\n            fill=\"#8884d8\"\n            dataKey=\"value\"\n            isAnimationActive={false}\n            // blendStroke={true}\n          >\n            {categoriesAndCents.map(item => (\n              <Cell\n                key={item.name}\n                fill={getCategoryColour(CATEGORIES, item.name)}\n              />\n            ))}\n          </Pie>\n        </PieChart>\n      )}\n\n      {mobile && (\n        <BarChart\n          width={width ? width - 30 : 800}\n          height={600}\n          layout=\"vertical\"\n          data={barChartData}\n          maxBarSize={100}\n          margin={{ left: 50 }}\n        >\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis type=\"number\" />\n          <YAxis dataKey=\"name\" type=\"category\" />\n          <Tooltip />\n          {/* <Legend /> */}\n          <Bar dataKey=\"value\" /* unit=\"%\" */ fill=\"#8884d8\" />\n          {/* <Bar dataKey=\"uv\" fill=\"#82ca9d\" /> */}\n        </BarChart>\n      )}\n\n      {isFullPage && (\n        <>\n          <div>\n            {from} - {to}\n          </div>\n          <div>€{totalPerMonth} a month</div>\n          <div>\n            €{total} in {dayCount} days\n          </div>\n\n          {desktop && (\n            <>\n              <br />\n              <table className={s.categoryTable}>\n                <thead>\n                  <tr>\n                    <th>Category</th>\n                    <th>Month</th>\n                    <th>%</th>\n                    <th>Period</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {[...categoriesAndCents].reverse().map((item, index) => (\n                    <tr key={`${item.name}_${index}`}>\n                      <td>{item.name}</td>\n\n                      {item.label ? (\n                        item.label\n                          .replace(item.name, \"\")\n                          .replace(\"(\", \"\")\n                          .replace(\")\", \"\")\n                          .replace(\"%\", \"\")\n                          .split(\" \")\n                          .filter(Boolean) // delete empty\n                          .map((x, index) => <td key={index}>{x}</td>)\n                      ) : (\n                        <>\n                          <td key=\"a\"></td>\n                          <td key=\"b\"></td>\n                        </>\n                      )}\n\n                      <td>{centsToDecimal(item.value.toString())}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default PercentageChartPage;\n","import { Rule } from \"../core/types\";\r\nimport { TransactionClass } from \"core/TransactionClass\";\r\nimport { getCategoryRule } from \"./categories\";\r\n\r\nconst extendTransaction = (\r\n  transaction: TransactionClass,\r\n  index: number,\r\n  rule: Rule | null\r\n): TransactionClass =>\r\n  rule\r\n    ? {\r\n        ...transaction,\r\n        index: index + 1,\r\n        rule,\r\n        category: rule.category,\r\n      }\r\n    : {\r\n        ...transaction,\r\n        index: index + 1,\r\n        category: \"category-not-found-3\",\r\n      };\r\n\r\nexport const extendTransactions = (\r\n  transactions: TransactionClass[],\r\n  start: number,\r\n  rules: Rule[]\r\n): TransactionClass[] => {\r\n  return transactions.map((transaction, index) => {\r\n    const rule = getCategoryRule(transaction, rules);\r\n\r\n    return extendTransaction(transaction, start + index, rule);\r\n  });\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Match } from \"core/types\";\nimport { TransactionClass } from \"core/TransactionClass\";\nimport { getIdFromMatch } from \"core/utils\";\nimport { NewRule, TransactionList } from \"components\";\nimport { fetchTransactions } from \"services/transactions\";\nimport { extendTransactions } from \"process/transactions\";\nimport { fetchRules } from \"services/rules\";\nimport s from \"./RulesPage.module.css\";\n\nconst TransactionsDefault: TransactionClass[] = [];\n\ntype Props = {\n  match: Match;\n  isMasked: boolean;\n};\n\n// ----------\n// COMPONENT:\nconst RulesPage = ({ match, isMasked }: Props) => {\n  const history = useHistory();\n\n  // STATE:\n  const [transactions, setTransactions] = useState(TransactionsDefault);\n  const [rules, setRules] = useState([]);\n  const id = getIdFromMatch(match);\n\n  // EFFECTS - GET DATA:\n  useEffect(() => {\n    const fetchData = async () => {\n      const r = await fetchRules();\n      setRules(r);\n\n      if (id) {\n        const index = id - 1;\n        const t = await fetchTransactions(index, index + 1);\n        const extended = extendTransactions(t, index, r);\n        setTransactions(extended);\n      }\n    };\n    fetchData();\n\n    return () => {}; // on unmount\n  }, [id, match]);\n\n  // CLICKS:\n  const onSaveClick = () => {\n    history.replace(`/transactions/transaction=${id}`);\n  };\n\n  return (\n    <div className={s.root}>\n      {transactions && transactions.length > 0 && (\n        <>\n          <div className={s.box}>\n            <TransactionList\n              transactions={transactions}\n              clickable={false}\n              urlId={0}\n              isHashVisible={true}\n              isMasked={isMasked}\n            />\n          </div>\n          <div className={s.box}>\n            <NewRule transaction={transactions[0]} onSaveClick={onSaveClick} />\n          </div>\n        </>\n      )}\n\n      <h3>Rules</h3>\n      <div>\n        {rules.map((rule, index) => (\n          <div key={index}>{Object.values(rule).join(\", \")}</div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default RulesPage;\n","import React, { useState, useEffect } from \"react\";\r\nimport { useNotifications } from \"hooks\";\r\nimport { Match } from \"core/types\";\r\nimport { TransactionClass } from \"core/TransactionClass\";\r\nimport { getIdFromMatch } from \"core/utils\";\r\nimport { Loading, TransactionList, TransactionsPageHeader } from \"components\";\r\nimport { fetchRules } from \"services/rules\";\r\nimport { fetchTransactions } from \"services/transactions\";\r\nimport { extendTransactions } from \"process/transactions\";\r\nimport cn from \"classnames\";\r\nimport s from \"./TransactionsPage.module.css\";\r\n\r\nconst PAGE_SIZE = 10;\r\n\r\nconst transactionsDefault: TransactionClass[] = [];\r\n\r\ntype Props = {\r\n  match: Match;\r\n  network: boolean;\r\n  isMasked: boolean;\r\n};\r\n\r\n// ----------\r\n// COMPONENT:\r\nconst TransactionsPage = ({ match, network, isMasked }: Props) => {\r\n  const id: number = getIdFromMatch(match) || 1;\r\n  const pageIndexDefault = Math.floor((id - 1) / PAGE_SIZE);\r\n\r\n  // STATE:\r\n  const [pageIndex, setPageIndex] = useState(pageIndexDefault);\r\n  const [transactions, setTransactions] = useState(transactionsDefault);\r\n\r\n  // CUSTOM HOOKS:\r\n  const { info } = useNotifications();\r\n\r\n  // EFFECTS - GET DATA:\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const r = await fetchRules(network);\r\n      const start = pageIndex * PAGE_SIZE;\r\n      const end = start + PAGE_SIZE;\r\n      const fetched = await fetchTransactions(start, end, network);\r\n      if (fetched) {\r\n        info(`Transactions fetched: ${start + 1}..${end}`);\r\n        const extended = extendTransactions(fetched, start, r);\r\n        setTransactions(extended);\r\n      } else {\r\n        console.error(\"ERROR: fetchTransactions empty\");\r\n      }\r\n    };\r\n    fetchData();\r\n    return () => {}; // on unmount\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pageIndex, network]);\r\n\r\n  // CLICKS:\r\n  const onTransactionsPageHeaderButtonClick = (increment: number): void =>\r\n    setPageIndex(pageIndex + increment);\r\n\r\n  if (!transactions || transactions.length === 0) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <div className={cn(\"page\", s.root)}>\r\n      <TransactionsPageHeader\r\n        pageIndex={pageIndex}\r\n        onClick={onTransactionsPageHeaderButtonClick}\r\n      />\r\n\r\n      {transactions && transactions.length > 0 && (\r\n        <TransactionList\r\n          transactions={transactions}\r\n          clickable={true}\r\n          urlId={id}\r\n          isHashVisible={false}\r\n          isMasked={isMasked}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TransactionsPage;\r\n","import { CATEGORIES, CATEGORIES_IGNORED_DEFAULT } from \"core/constants\";\r\n\r\n// Generic function\r\nexport const sortArrayByMember = (memberIndex, a, b) =>\r\n  a[memberIndex] - b[memberIndex];\r\n\r\nexport const groupByCategory = (item, groupedArrayObject) => {\r\n  const [category, amount] = item;\r\n  const currentAmount = groupedArrayObject[category];\r\n  groupedArrayObject[category] = currentAmount\r\n    ? currentAmount + amount\r\n    : amount;\r\n};\r\n\r\nexport const getTotalsByCategory = chartData => {\r\n  const groupedArrayObject = {};\r\n  const months = Object.values(chartData);\r\n\r\n  months.forEach(month => {\r\n    const entriesExceptName = Object.entries(month).filter(\r\n      item => item[0] !== \"name\"\r\n    );\r\n    entriesExceptName.forEach(entry =>\r\n      groupByCategory(entry, groupedArrayObject)\r\n    );\r\n  });\r\n\r\n  const groupedArray = Object.entries(groupedArrayObject);\r\n  groupedArray.sort((a, b) => sortArrayByMember(1, a, b));\r\n  groupedArray.reverse();\r\n  return groupedArray;\r\n};\r\n\r\nexport const group = (item, groupedArrayObject) => {\r\n  const { index, value } = item;\r\n  const currentValue = groupedArrayObject[index];\r\n  groupedArrayObject[index] = currentValue ? currentValue + value : value;\r\n};\r\n\r\nexport const spread = (item, groupedByMonth) => {\r\n  const [index, value] = item;\r\n  const [month, category] = index.split(\"_\");\r\n\r\n  if (!groupedByMonth[month]) {\r\n    groupedByMonth[month] = { name: month };\r\n  }\r\n\r\n  groupedByMonth[month][category] = -value;\r\n};\r\n\r\nexport const getCategoryFilterDefault = max => {\r\n  const objectArray = {};\r\n  let count = 0;\r\n\r\n  CATEGORIES.forEach(category => {\r\n    if (count < max && !CATEGORIES_IGNORED_DEFAULT.includes(category)) {\r\n      objectArray[category] = true;\r\n      count += 1;\r\n    } else {\r\n      objectArray[category] = false;\r\n    }\r\n  });\r\n\r\n  return objectArray;\r\n};\r\n\r\nexport const getInitialCategoryFilterJs = largestCategories => {\r\n  const max = 5; // 7\r\n  const objectArray = {};\r\n\r\n  CATEGORIES.forEach(category => {\r\n    objectArray[category] = !CATEGORIES_IGNORED_DEFAULT.includes(category);\r\n  });\r\n\r\n  const largestCategoriesNotIgnored = largestCategories.filter(\r\n    c => !CATEGORIES_IGNORED_DEFAULT.includes(c)\r\n  );\r\n\r\n  for (let i = max; i < largestCategoriesNotIgnored.length; i += 1) {\r\n    objectArray[largestCategoriesNotIgnored[i]] = false;\r\n  }\r\n\r\n  return objectArray;\r\n};\r\n\r\nexport const applyFilter = (categories, categoryFilter) => {\r\n  const largestCategoriesFiltered = categories.filter(c => categoryFilter[c]);\r\n  return largestCategoriesFiltered;\r\n};\r\n\r\nexport const toggleCategoryFilterJs = (categoryFilter, category) => {\r\n  const objectArray = {};\r\n  Object.entries(categoryFilter).forEach(f => {\r\n    objectArray[f[0]] = f[0] === category ? !f[1] : f[1];\r\n  });\r\n  return objectArray;\r\n};\r\n","import { Rule } from \"core/types\";\r\nimport { TransactionClass } from \"core/TransactionClass\";\r\nimport {\r\n  group,\r\n  getInitialCategoryFilterJs,\r\n  getTotalsByCategory,\r\n  spread,\r\n  toggleCategoryFilterJs\r\n} from \"./trends_js.js\";\r\nimport { getCategory } from \"./categories\";\r\n\r\ntype TrendsChartData = any[];\r\n\r\nconst mapTransactions = (transaction: TransactionClass, rules: Rule[]) => {\r\n  const { amount, date, category } = transaction;\r\n  const month = date.substring(2, 6); // yymm\r\n\r\n  return {\r\n    index: `${month}_${category}`,\r\n    value: amount / 100\r\n  };\r\n};\r\n\r\nconst addCategoriesToTransactions = (\r\n  transactions: TransactionClass[],\r\n  rules: Rule[]\r\n) => {\r\n  transactions.forEach(t => (t.category = getCategory(t, rules)));\r\n};\r\n\r\nconst getChartData = (transactions: TransactionClass[], rules: Rule[]): [] => {\r\n  const mapped = transactions.map(t => mapTransactions(t, rules));\r\n  const grouped = {};\r\n  mapped.forEach(item => group(item, grouped));\r\n\r\n  const groupedByMonth = {};\r\n  Object.entries(grouped).forEach(item => spread(item, groupedByMonth));\r\n  return Object.values(groupedByMonth) as [];\r\n};\r\n\r\nexport const getCategoriesFromChartData = (chartData: any[]): string[] => {\r\n  const groupedArray = getTotalsByCategory(chartData);\r\n  return groupedArray.map(item => item[0]);\r\n};\r\n\r\nexport const getTrendsChartData = (\r\n  transactions: TransactionClass[],\r\n  rules: Rule[]\r\n): TrendsChartData => {\r\n  console.log(\"*** GETTRENDSCHARTDATA CALLED\");\r\n  addCategoriesToTransactions(transactions, rules);\r\n\r\n  const chartData: TrendsChartData = getChartData(transactions, rules);\r\n  return chartData;\r\n};\r\n\r\nexport const getInitialCategoryFilter = (categories: string[]): Object =>\r\n  getInitialCategoryFilterJs(categories);\r\n\r\nexport const toggleCategoryFilter = (\r\n  categoryFilter: object,\r\n  category: string\r\n) => {\r\n  return toggleCategoryFilterJs(categoryFilter, category);\r\n};\r\n","import React, { useState, useEffect } from \"react\";\nimport { useWindowSize } from \"hooks\";\nimport { TRANSACTION_COUNT } from \"core/constants\";\nimport { fetchRules } from \"services/rules\";\nimport { fetchTransactions } from \"services/transactions\";\nimport {\n  getTrendsChartData,\n  getCategoriesFromChartData,\n  getInitialCategoryFilter,\n  toggleCategoryFilter,\n} from \"process/trends\";\nimport { applyFilter } from \"process/trends_js.js\";\nimport {\n  AreaChartStacked,\n  AreaChartNonstacked,\n  CategorySelector,\n  Loading,\n  TrendChartPageHeader,\n} from \"components\";\nimport cn from \"classnames\";\nimport s from \"./TrendChartPage.module.css\";\n\nimport testdata from \"testdata/trendsChartData.json\";\n\nconst CATEGORIES_DEFAULT: string[] = [];\nconst TRENDS_CHART_DATA_DEFAULT: any[] = [];\nconst CATEGORY_FILTER_DEFAULT: object = {};\n\ntype Props = {\n  isBoxed?: boolean;\n  network: boolean;\n  onBoxClick?: (target: string) => void;\n};\n\n// ----------\n// COMPONENT:\nconst TrendChartPage = ({\n  isBoxed = false,\n  network,\n  onBoxClick = () => {},\n}: Props) => {\n  // HOOKS:\n  const { mobile } = useWindowSize();\n\n  const isFullPage = !isBoxed;\n  const factor = isFullPage ? 1 : 0.6;\n\n  // STATE:\n  const [trendsChartData, setTrendsChartData] = useState(\n    TRENDS_CHART_DATA_DEFAULT\n  );\n  const [categories, setCategories] = useState(CATEGORIES_DEFAULT);\n  const [isStacked, setIsStacked] = useState(true);\n  const [categoryFilter, setCategoryFilter] = useState(CATEGORY_FILTER_DEFAULT);\n  const [categoriesFiltered, setCategoriesFiltered] = useState([]);\n\n  // EFFECTS - GET DATA:\n  useEffect(() => {\n    const fetchData = async () => {\n      const r = await fetchRules(network);\n      const t = await fetchTransactions(0, TRANSACTION_COUNT, network);\n\n      const cd = network ? testdata : getTrendsChartData(t, r);\n\n      const c = getCategoriesFromChartData(cd);\n      const f: object = getInitialCategoryFilter(c);\n\n      setTrendsChartData(cd);\n      setCategories(c);\n      setCategoryFilter(f);\n    };\n    fetchData();\n    return () => {}; // on unmount\n  }, [network]); // Only once\n\n  // EFFECTS - CATEGORY FILTER:\n  useEffect(() => {\n    const fetchData = async () => {\n      const filtered = applyFilter(categories, categoryFilter);\n      setCategoriesFiltered(filtered);\n    };\n    fetchData();\n    return () => {}; // on unmount\n  }, [categories, categoryFilter]);\n\n  // CLICKS:\n  const onCategoryClick = (category: string): void => {\n    const cf = toggleCategoryFilter(categoryFilter, category);\n    setCategoryFilter(cf);\n  };\n  const onStackedClick = (): void => {\n    setIsStacked(!isStacked);\n  };\n\n  if (isFullPage && trendsChartData.length === 0) {\n    return (\n      <div className={cn(\"page\", s.root)}>\n        <Loading />\n      </div>\n    );\n  }\n\n  // RENDER:\n  return (\n    <div\n      className={cn(\"page\", s.root)}\n      onClick={isFullPage ? () => {} : () => onBoxClick(\"/trend\")}\n    >\n      <TrendChartPageHeader\n        isStacked={isStacked}\n        isBoxed={isBoxed}\n        onStackedClick={onStackedClick}\n      />\n\n      <div\n        className={cn(s.chartAndLegend, { [s.chartAndLegendMobile]: mobile })}\n      >\n        {isStacked ? (\n          <AreaChartStacked\n            data={trendsChartData}\n            categories={[...categoriesFiltered].reverse()}\n            factor={factor}\n          />\n        ) : (\n          <AreaChartNonstacked\n            data={trendsChartData}\n            categories={[...categoriesFiltered].reverse()}\n            factor={factor}\n          />\n        )}\n\n        {isFullPage && (\n          <CategorySelector\n            categories={categories}\n            categoriesFiltered={categoriesFiltered}\n            onCategoryClick={onCategoryClick}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default TrendChartPage;\n","import React, { useState } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { AppContext, DefaultContext } from \"appContext.ts\";\nimport {\n  CategoriesPage,\n  HomePage,\n  PercentageChartPage,\n  RulesPage,\n  TransactionsPage,\n  TrendChartPage,\n} from \"./pages\";\nimport { PageHeader, PageFooter } from \"components\";\n\nconst route = (path, page) => <Route path={path}>{page}</Route>;\n\nfunction App() {\n  // STATE:\n  const [isNetwork, setIsNetwork] = useState(true);\n  const [isMasked, setIsMasked] = useState(true);\n\n  // CLICK:\n  const onNetworkClick = () => setIsNetwork(true);\n  const onMaskClick = () => setIsMasked(true);\n  // const onNetworkClick = () => setIsNetwork(!isNetwork);\n  // const onMaskClick = () => setIsMasked(!isMasked);\n\n  return (\n    <AppContext.Provider value={DefaultContext}>\n      <PageHeader\n        network={isNetwork}\n        onNetworkClick={onNetworkClick}\n        mask={isMasked}\n        onMaskClick={onMaskClick}\n      />\n\n      <Switch>\n        <Route\n          path=\"/transactions/transaction=:id\"\n          render={({ match, isMasked }) => (\n            <TransactionsPage match={match} isMasked={isMasked} />\n          )}\n        />\n\n        {route(\n          \"/transactions\",\n          <TransactionsPage network={isNetwork} isMasked={isMasked} />\n        )}\n\n        {route(\"/categories\", <CategoriesPage />)}\n\n        <Route\n          path=\"/rules/transaction=:id\"\n          render={({ match }) => <RulesPage match={match} mask={isMasked} />}\n        />\n\n        {route(\"/rules\", <RulesPage mask={isMasked} />)}\n        {route(\"/percentage\", <PercentageChartPage network={isNetwork} />)}\n        {route(\"/trend\", <TrendChartPage network={isNetwork} />)}\n        {route(\"/\", <HomePage />)}\n      </Switch>\n\n      <PageFooter />\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"./index.css\";\n\nconst Root = () => (\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n);\n\n// ReactDOM.render(<App />, document.getElementById(\"root\"));\nrender(<Root />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Link_root__2q-FQ\",\"desktop\":\"Link_desktop__3em4k\",\"activeLink\":\"Link_activeLink__1XRS_\",\"title\":\"Link_title__3tDYH\",\"mobile\":\"Link_mobile__3SCFO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Modal_root__H_OAu\",\"box\":\"Modal_box__2NSo5\",\"header\":\"Modal_header__7I9hp\",\"footer\":\"Modal_footer__2_JkN\",\"component\":\"Modal_component__1ZvcK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PageHeader_root__3yIsu\",\"stickyTop\":\"PageHeader_stickyTop__1iTpz\",\"stickyBottom\":\"PageHeader_stickyBottom__FOP0U\",\"appTitle\":\"PageHeader_appTitle__13EYt\",\"logo\":\"PageHeader_logo__1Vk6A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Icon_root__xwvM_\",\"small\":\"Icon_small__3c1wk\",\"clickable\":\"Icon_clickable__28mYN\",\"Categories\":\"Icon_Categories__dIWyl\",\"Home\":\"Icon_Home__1haPR\",\"Percentage\":\"Icon_Percentage__3JZtL\",\"Rules\":\"Icon_Rules__P1cFX\",\"Transactions\":\"Icon_Transactions__3quFY\",\"Trend\":\"Icon_Trend__kw7eX\",\"info\":\"Icon_info__1hJtw\",\"debug\":\"Icon_debug__3WQ4X\",\"warning\":\"Icon_warning__1fHLN\",\"error\":\"Icon_error__3-aQx\",\"menu\":\"Icon_menu__2i7aM\",\"maskOff\":\"Icon_maskOff__XTkuS\",\"maskOn\":\"Icon_maskOn__mkygH\",\"networkOff\":\"Icon_networkOff__3n2XE\",\"networkOn\":\"Icon_networkOn__1yye-\",\"next\":\"Icon_next__1AZbo\",\"no\":\"Icon_no__giUBG\",\"previous\":\"Icon_previous__ykC19\",\"question\":\"Icon_question__1NnIn\",\"save\":\"Icon_save__1zeoS\",\"yes\":\"Icon_yes__Ku0lb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NewRuleTable_root__1dRY9\",\"equalWidth\":\"NewRuleTable_equalWidth___jh4c\",\"headerRow\":\"NewRuleTable_headerRow__k-Jlu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TrendChartPage_root__1AAgD\",\"chartAndLegend\":\"TrendChartPage_chartAndLegend__3VIqe\",\"chartAndLegendMobile\":\"TrendChartPage_chartAndLegendMobile__3oMIL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"CategoryIconAndLabel_root__Srg1c\",\"fullWidth\":\"CategoryIconAndLabel_fullWidth__S6ZwL\",\"itemIcon\":\"CategoryIconAndLabel_itemIcon__2Q8WX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"CategoryLegend_root__11AcU\",\"categoryColour\":\"CategoryLegend_categoryColour__XPX2z\",\"selected\":\"CategoryLegend_selected__2arQ3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Notification_root__1LGz8\",\"message\":\"Notification_message__2PlZb\",\"info\":\"Notification_info__RqWvI\",\"warning\":\"Notification_warning__qmG1L\",\"error\":\"Notification_error__3DZhq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Transaction_root__3wN-s\",\"clickable\":\"Transaction_clickable__2MHgV\",\"incoming\":\"Transaction_incoming__1-0_t\",\"highlightIndex\":\"Transaction_highlightIndex__2FSoB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"TransactionList_root__3XQEn\",\"tableDesktop\":\"TransactionList_tableDesktop__3zOBM\",\"tableMobile\":\"TransactionList_tableMobile__2ne0B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"RulesPage_root__1KdZU\",\"box\":\"RulesPage_box__P6k_-\"};"],"sourceRoot":""}